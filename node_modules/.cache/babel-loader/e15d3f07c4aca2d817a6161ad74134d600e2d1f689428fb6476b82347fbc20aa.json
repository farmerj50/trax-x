{"ast":null,"code":"import { EventHandler, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { removeElement, RectOption, PolygonOption, createTooltip, minMax, getElement } from '../../common/utils/helper';\nimport { textElement } from '../../common/utils/helper';\nimport { PathOption, Rect, measureText, TextOption, SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { Zoom } from './zooming';\nimport { zoomComplete, onZooming } from '../../common/model/constants';\n/**\n * The `Toolkit` class provides functionalities for zooming and panning in charts.\n *\n * @private\n */\nvar Toolkit = /** @class */function () {\n  /**\n   * Constructor for the chart touch module.\n   *\n   * @param {Chart} chart - Specifies the chart instance.\n   */\n  function Toolkit(chart) {\n    this.iconRectOverFill = 'transparent';\n    this.iconRectSelectionFill = 'transparent';\n    /** @private */\n    this.zoomCompleteEvtCollection = [];\n    /** @private */\n    this.isZoomed = false;\n    this.chart = chart;\n    this.elementId = chart.element.id;\n    this.chart.svgRenderer = new SvgRenderer(this.elementId);\n  }\n  /**\n   * Creates a pan button.\n   *\n   * @param {Element} childElement - Specifies the child element.\n   * @param {Element} parentElement - Specifies the parent element.\n   * @returns {void}\n   */\n  Toolkit.prototype.createPanButton = function (childElement, parentElement) {\n    var render = this.chart.svgRenderer;\n    var fillColor = this.chart.zoomModule.isPanning ? this.chart.themeStyle.toolkitSelectionColor : this.chart.themeStyle.toolkitFill;\n    var direction = 'M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';\n    direction += '11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';\n    //This is for setting low opacity to PAN Button\n    this.elementOpacity = !this.chart.zoomModule.isZoomed && this.chart.zoomSettings.showToolbar ? '0.2' : '1';\n    childElement.setAttribute('opacity', this.chart.theme === 'Fluent2HighContrast' ? '1' : this.elementOpacity);\n    childElement.id = this.elementId + '_Zooming_Pan';\n    childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n    childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n    childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('Pan'));\n    this.panElements = childElement;\n    childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Pan_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n    childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Pan_2', this.chart.theme === 'Fluent2HighContrast' && this.elementOpacity === '0.2' ? '#3FF23F' : fillColor, null, null, 1, null, direction)));\n    parentElement.appendChild(childElement);\n    this.wireEvents(childElement, this.pan);\n  };\n  /**\n   * Creates a zoom button.\n   *\n   * @param {Element} childElement - The child element to create.\n   * @param {Element} parentElement - The parent element to append the child element.\n   * @returns {void}\n   */\n  Toolkit.prototype.createZoomButton = function (childElement, parentElement) {\n    var render = this.chart.svgRenderer;\n    //This is for selecting initial fill color to ZOOM button\n    var fillColor = this.chart.zoomModule.isPanning || !this.chart.zoomModule.isZoomed && this.chart.zoomSettings.showToolbar ? this.chart.themeStyle.toolkitFill : this.chart.themeStyle.toolkitSelectionColor;\n    this.elementOpacity = !this.chart.zoomModule.isPanning && !this.chart.zoomModule.isZoomed && this.chart.zoomSettings.showToolbar ? '0.2' : '1';\n    var rectColor = this.chart.zoomModule.isPanning ? 'transparent' : this.chart.themeStyle.toolkitIconRectSelectionFill;\n    var direction = 'M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';\n    direction += '5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';\n    direction = direction + 'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';\n    childElement.id = this.elementId + '_Zooming_Zoom';\n    childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n    childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n    childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('Zoom'));\n    childElement.setAttribute('opacity', this.elementOpacity);\n    this.zoomElements = childElement;\n    this.selectedID = this.chart.zoomModule.isPanning ? this.chart.element.id + '_Zooming_Pan_1' : this.elementId + '_Zooming_Zoom_1';\n    childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Zoom_1', rectColor, {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n    childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Zoom_3', fillColor, null, null, 1, null, direction + '4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));\n    parentElement.appendChild(childElement);\n    this.wireEvents(childElement, this.zoom);\n  };\n  /**\n   * Creates a zoom in button.\n   *\n   * @param {Element} childElement - The child element to create.\n   * @param {Element} parentElement - The parent element to append the child element.\n   * @param {Chart} chart - The chart instance.\n   * @returns {void}\n   */\n  Toolkit.prototype.createZoomInButton = function (childElement, parentElement, chart) {\n    var render = this.chart.svgRenderer;\n    var fillColor = this.chart.themeStyle.toolkitFill;\n    var direction = 'M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';\n    direction += '14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';\n    direction += '5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';\n    childElement.id = this.elementId + '_Zooming_ZoomIn';\n    childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n    childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n    childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('ZoomIn'));\n    var polygonDirection = '12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';\n    childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomIn_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 ? 4 : this.chart.theme.indexOf('Bootstrap5') > -1 ? 2 : 0, this.chart.theme.indexOf('Fluent2') > -1 ? 4 : this.chart.theme.indexOf('Bootstrap5') > -1 ? 2 : 0)));\n    childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomIn_2', fillColor, null, null, 1, null, direction + '4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));\n    childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId + '_Zooming_ZoomIn_3', polygonDirection + ' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466', fillColor)));\n    this.zoomInElements = childElement;\n    //This is for low opacity to ZOOM IN button\n    this.elementOpacity = chart.zoomModule.isPanning || !chart.zoomModule.isZoomed && !chart.zoomSettings.showToolbar && !this.enableZoomButton ? '0.2' : '1';\n    childElement.setAttribute('opacity', this.elementOpacity);\n    parentElement.appendChild(childElement);\n    this.wireEvents(childElement, this.zoomIn);\n  };\n  /**\n   * Creates a zoom out button.\n   *\n   * @param {Element} childElement - The child element to create.\n   * @param {Element} parentElement - The parent element to append the child element.\n   * @param {Chart} chart - The chart instance.\n   * @returns {void}\n   */\n  Toolkit.prototype.createZoomOutButton = function (childElement, parentElement, chart) {\n    var render = this.chart.svgRenderer;\n    var fillColor = this.chart.themeStyle.toolkitFill;\n    var direction = 'M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';\n    direction += '1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';\n    direction += '1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';\n    childElement.id = this.elementId + '_Zooming_ZoomOut';\n    childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n    childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n    childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('ZoomOut'));\n    childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomOut_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n    childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomOut_2', chart.theme === 'Fluent2HighContrast' && !chart.zoomModule.isZoomed || chart.theme === 'Fluent2HighContrast' && chart.zoomModule.isPanning ? '#3FF23F' : fillColor, null, null, 1, null, direction + '4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));\n    this.zoomOutElements = childElement;\n    //This is for low opacity of ZOOM OUT button\n    this.elementOpacity = chart.zoomModule.isPanning || !chart.zoomModule.isZoomed && chart.zoomSettings.showToolbar && !this.enableZoomButton ? '0.2' : '1';\n    childElement.setAttribute('opacity', chart.theme === 'Fluent2HighContrast' ? '1' : this.elementOpacity);\n    parentElement.appendChild(childElement);\n    this.wireEvents(childElement, this.zoomOut);\n  };\n  /**\n   * Creates a reset button.\n   *\n   * @param {Element} childElement - The child element to create.\n   * @param {Element} parentElement - The parent element to append the child element.\n   * @param {Chart} chart - The chart instance.\n   * @param {boolean} isDevice - Specifies whether the device is mobile or not.\n   * @returns {void}\n   */\n  Toolkit.prototype.createResetButton = function (childElement, parentElement, chart, isDevice) {\n    var render = this.chart.svgRenderer;\n    var fillColor = this.chart.themeStyle.toolkitFill;\n    var size;\n    var direction = 'M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';\n    direction += '1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';\n    direction += '13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';\n    childElement.id = this.elementId + '_Zooming_Reset';\n    childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n    childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n    childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('Reset'));\n    //This is for low opacity to RESET button\n    this.elementOpacity = !chart.zoomModule.isZoomed && chart.zoomSettings.showToolbar ? '0.2' : '1';\n    childElement.setAttribute('opacity', chart.theme === 'Fluent2HighContrast' ? '1' : this.elementOpacity);\n    if (!isDevice) {\n      childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n      childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Reset_2', chart.theme === 'Fluent2HighContrast' && this.elementOpacity === '0.2' ? '#3FF23F' : fillColor, null, null, 1, null, direction + '3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));\n    } else {\n      size = measureText(this.chart.getLocalizedLabel('ResetZoom'), {\n        size: '12px'\n      }, {\n        size: '12px',\n        fontStyle: 'Normal',\n        fontWeight: '400',\n        fontFamily: 'Segoe UI'\n      });\n      childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, size.width, size.height))));\n      textElement(chart.renderer, new TextOption(this.elementId + '_Zooming_Reset_2', 0 + size.width / 2, 0 + size.height * 3 / 4, 'middle', this.chart.getLocalizedLabel('ResetZoom'), 'rotate(0,' + 0 + ',' + 0 + ')', 'auto'), {\n        size: '12px'\n      }, this.chart.theme === 'Material3Dark' || this.chart.theme === 'Fluent2Dark' || this.chart.theme === 'Fluent2HighContrast' ? 'White' : 'black', childElement, null, null, null, null, null, null, null, null, chart.enableCanvas, null, {\n        size: '12px',\n        fontStyle: 'Normal',\n        fontWeight: '400',\n        fontFamily: 'Segoe UI'\n      });\n    }\n    parentElement.appendChild(childElement);\n    this.wireEvents(childElement, this.reset);\n  };\n  /**\n   * Wires events to the specified element.\n   *\n   * @param {Element} element - The element to wire the events to.\n   * @param {Function} process - The function to be executed when the event occurs.\n   * @returns {void}\n   */\n  Toolkit.prototype.wireEvents = function (element, process) {\n    EventHandler.add(element, 'mousedown touchstart', process, this);\n    EventHandler.add(element, 'mouseover', this.showTooltip, this);\n    EventHandler.add(element, 'mouseout', this.removeTooltip, this);\n    EventHandler.add(this.chart.element, 'mousemove', this.mouseMoveHandler, this);\n    EventHandler.add(this.chart.zoomModule.toolkitElements, 'mousedown', this.mouseDownHandler, this);\n    window.addEventListener('mouseup', this.mouseUpHandler.bind(this), true);\n  };\n  /**\n   * Handles the mouse move event on the chart.\n   *\n   * @param {PointerEvent | TouchEvent} e - The mouse move event or touch event.\n   * @returns {void}\n   * @private\n   */\n  Toolkit.prototype.mouseMoveHandler = function (e) {\n    if (this.chart.zoomSettings.toolbarPosition.draggable) {\n      if (this.isDragging) {\n        this.performDragAndDrop(e);\n      } else {\n        this.chart.zoomModule.toolkitElements.setAttribute('cursor', e.target.id.indexOf('Zooming_Rect') > -1 ? 'grab' : 'none');\n      }\n    }\n  };\n  /**\n   * Handles the mouse down event on the toolkit.\n   *\n   * @param {PointerEvent} e - The mouse down event.\n   * @returns {void}\n   * @private\n   */\n  Toolkit.prototype.mouseDownHandler = function (e) {\n    if (this.chart.zoomSettings.toolbarPosition.draggable && !this.isDragging && e.target.id.indexOf('Zooming_Rect') > -1) {\n      this.isDragging = true;\n      this.chart.zoomModule.toolkitElements.setAttribute('cursor', 'grabbing');\n    }\n  };\n  /**\n   * Handles the mouse up event on the window.\n   *\n   * @param {PointerEvent} e - The mouse up event.\n   * @returns {void}\n   * @private\n   */\n  Toolkit.prototype.mouseUpHandler = function (e) {\n    if (this.isDragging) {\n      this.isDragging = false;\n      this.chart.zoomModule.toolkitElements.setAttribute('cursor', e.target.id.indexOf('Zooming_Rect') > -1 ? 'grab' : 'none');\n    }\n  };\n  /**\n   * Handles the drag-and-drop functionality for the toolkit.\n   *\n   * @param {PointerEvent | TouchEvent} e - The event triggered by the pointer or touch action.\n   * @returns {void}\n   * @private\n   */\n  Toolkit.prototype.performDragAndDrop = function (e) {\n    var elementWidth = this.chart.zoomModule.toolkitElements.getBoundingClientRect().width;\n    var elementHeight = this.chart.zoomModule.toolkitElements.getBoundingClientRect().height;\n    // Padding to apply when the toolkit is positioned at the chart area border\n    var toolkitShadowPadding = 2;\n    var x = e.type.indexOf('touch') > -1 ? e.changedTouches[0].clientX : this.chart.mouseX;\n    var y = e.type.indexOf('touch') > -1 ? e.changedTouches[0].clientY : this.chart.mouseY;\n    var transX = Math.max(this.chart.border.width + toolkitShadowPadding, Math.min(x - elementWidth / 2, this.chart.availableSize.width - elementWidth - this.chart.border.width - toolkitShadowPadding));\n    var transY = Math.max(this.chart.border.width + toolkitShadowPadding, Math.min(y - elementHeight / 2, this.chart.availableSize.height - elementHeight - this.chart.border.width - toolkitShadowPadding));\n    if (x < this.chart.availableSize.width && y < this.chart.availableSize.height) {\n      this.chart.zoomModule.toolkitElements.setAttribute('transform', 'translate(' + transX + ',' + transY + ')');\n      this.dragHorizontalRatio = transX / this.chart.availableSize.width;\n      this.dragVerticalRatio = transY / this.chart.availableSize.height;\n    }\n  };\n  /**\n   * Displays the tooltip on mouse event.\n   *\n   * @param {MouseEvent} event - The mouse event.\n   * @returns {void}\n   */\n  Toolkit.prototype.showTooltip = function (event) {\n    var text = event.currentTarget.id.split('_Zooming_')[1];\n    var left = event.pageX - (measureText(text, {\n      size: '10px'\n    }, {\n      size: '10px',\n      fontStyle: 'Normal',\n      fontWeight: '400',\n      fontFamily: 'Segoe UI'\n    }).width + 5);\n    var rect = getElement(event.currentTarget.id + '_1');\n    var icon2 = getElement(event.currentTarget.id + '_2');\n    var icon3 = getElement(event.currentTarget.id + '_3');\n    if (event.currentTarget.getAttribute('opacity') === '1') {\n      event.currentTarget.setAttribute('cursor', 'pointer');\n    } else {\n      event.currentTarget.setAttribute('cursor', 'auto');\n    }\n    if (rect) {\n      this.hoveredID = rect.id;\n      rect.setAttribute('fill', this.chart.theme === 'Fluent2HighContrast' && event.currentTarget.childNodes[1].getAttribute('fill') === '#3FF23F' ? 'transparent' : this.chart.themeStyle.toolkitIconRectOverFill);\n    }\n    if (icon2) {\n      icon2.setAttribute('fill', this.chart.theme === 'Fluent2HighContrast' && event.currentTarget.childNodes[1].getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.chart.themeStyle.toolkitSelectionColor);\n    }\n    if (icon3) {\n      icon3.setAttribute('fill', this.chart.theme === 'Fluent2HighContrast' && event.currentTarget.childNodes[1].getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.chart.themeStyle.toolkitSelectionColor);\n    }\n    if (!this.chart.isTouch && !this.isDragging) {\n      createTooltip('EJ2_Chart_ZoomTip', this.chart.getLocalizedLabel(text), event.pageY + 10, left, '10px');\n    }\n  };\n  /**\n   * Removes the tooltip.\n   *\n   * @returns {void}\n   */\n  Toolkit.prototype.removeTooltip = function () {\n    if (this.hoveredID && getElement(this.hoveredID)) {\n      var rectColor = this.chart.zoomModule.isPanning ? this.hoveredID.indexOf('_Pan_') > -1 ? this.chart.themeStyle.toolkitIconRectSelectionFill : 'transparent' : this.hoveredID.indexOf('_Zoom_') > -1 && this.elementOpacity !== '0.2' && this.chart.theme !== 'Fluent2HighContrast' ? this.chart.themeStyle.toolkitIconRectSelectionFill : 'transparent';\n      getElement(this.hoveredID).setAttribute('fill', rectColor);\n    }\n    var icon2 = this.hoveredID ? getElement(this.hoveredID.replace('_1', '_2')) : null;\n    var icon3 = this.hoveredID ? getElement(this.hoveredID.replace('_1', '_3')) : null;\n    if (icon2) {\n      var iconColor = this.chart.zoomModule.isPanning ? this.hoveredID.indexOf('_Pan_') > -1 ? this.chart.themeStyle.toolkitSelectionColor : this.elementOpacity === '0.2' && this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.elementOpacity === '1' && this.chart.theme === 'Tailwind3' ? '#212529' : this.chart.themeStyle.toolkitFill : this.hoveredID.indexOf('_Zoom_') > -1 ? this.chart.themeStyle.toolkitSelectionColor : this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.chart.theme === 'Tailwind3Dark' && this.chart.zoomModule.isDevice ? 'black' : this.chart.themeStyle.toolkitFill;\n      icon2.setAttribute('fill', iconColor);\n    }\n    if (icon3) {\n      //This is used for change color while hover on ZOOM button\n      var iconColor = this.chart.zoomModule.isPanning || !this.chart.isZoomed && this.chart.zoomSettings.showToolbar ? this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' && this.elementOpacity === '1' ? '#3FF23F' : this.elementOpacity === '1' && this.chart.theme === 'Tailwind3' ? '#212529' : this.chart.themeStyle.toolkitFill : this.hoveredID.indexOf('_Zoom_') > -1 ? this.chart.themeStyle.toolkitSelectionColor : this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.chart.themeStyle.toolkitFill;\n      icon3.setAttribute('fill', iconColor);\n    }\n    removeElement('EJ2_Chart_ZoomTip');\n  };\n  // Toolkit events function calculation here.\n  /**\n   * Resets the chart.\n   *\n   * @param {PointerEvent | TouchEvent | KeyboardEvent} event - The event object.\n   * @returns {boolean} - Returns false.\n   */\n  Toolkit.prototype.reset = function (event) {\n    var _this = this;\n    if (!this.chart.zoomModule.isZoomed) {\n      return false;\n    }\n    var chart = this.chart;\n    this.enableZoomButton = false;\n    chart.redraw = chart.enableCanvas ? chart.redraw : chart.zoomSettings.enableAnimation;\n    if (!chart.zoomModule.isDevice) {\n      remove(chart.zoomModule.toolkitElements);\n    } else if (event.type === 'touchstart') {\n      event.stopPropagation();\n    }\n    var argsData;\n    this.removeTooltip();\n    chart.svgObject.setAttribute('cursor', 'auto');\n    var zoomedAxisCollection = [];\n    this.zoomCompleteEvtCollection = [];\n    for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n      var axis = _a[_i];\n      argsData = {\n        cancel: false,\n        name: zoomComplete,\n        axis: axis,\n        previousZoomFactor: axis.zoomFactor,\n        previousZoomPosition: axis.zoomPosition,\n        currentZoomFactor: 1,\n        currentZoomPosition: 0,\n        previousVisibleRange: axis.visibleRange,\n        currentVisibleRange: null\n      };\n      axis.zoomFactor = 1;\n      axis.zoomPosition = 0;\n      if (axis.zoomingScrollBar) {\n        axis.zoomingScrollBar.isScrollUI = false;\n      }\n      if (!argsData.cancel) {\n        axis.zoomFactor = argsData.currentZoomFactor;\n        axis.zoomPosition = argsData.currentZoomPosition;\n        this.zoomCompleteEvtCollection.push(argsData);\n      }\n      zoomedAxisCollection.push({\n        zoomFactor: axis.zoomFactor,\n        zoomPosition: axis.zoomFactor,\n        axisName: axis.name,\n        axisRange: axis.visibleRange\n      });\n      if (chart.zoomModule.isDevice && !this.chart.isBlazor) {\n        chart.trigger(zoomComplete, argsData);\n      }\n    }\n    var zoomingEventArgs = {\n      cancel: false,\n      axisCollection: zoomedAxisCollection,\n      name: onZooming\n    };\n    if (!zoomingEventArgs.cancel && this.chart.isBlazor) {\n      this.chart.trigger(onZooming, zoomingEventArgs, function () {\n        _this.setDefferedZoom(chart);\n      });\n      return false;\n    } else {\n      return this.setDefferedZoom(chart);\n    }\n  };\n  Toolkit.prototype.setDefferedZoom = function (chart) {\n    chart.disableTrackTooltip = false;\n    var chartDuration = chart.duration;\n    chart.duration = 600;\n    chart.zoomModule.isZoomed = chart.zoomModule.isPanning = chart.isChartDrag = chart.delayRedraw = false;\n    chart.zoomModule.touchMoveList = chart.zoomModule.touchStartList = [];\n    chart.zoomModule.pinchTarget = null;\n    chart.zoomRedraw = chart.zoomSettings.enableAnimation;\n    if (chart.redraw) {\n      var zoomToolBar = getElement(chart.element.id + '_Zooming_KitCollection');\n      if (zoomToolBar) {\n        zoomToolBar.remove();\n      }\n      if (chart.tooltipModule) {\n        if (getElement(chart.element.id + '_tooltip')) {\n          getElement(chart.element.id + '_tooltip').remove();\n        }\n        for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n          var series = _a[_i];\n          if (!isNullOrUndefined(series) && (series.marker.visible || chart.tooltip.shared || series.type === 'Scatter' || series.type === 'Bubble')) {\n            chart.markerRender.removeHighlightedMarker(series, null, true);\n          }\n        }\n      }\n    } else {\n      chart.removeSvg();\n    }\n    chart.refreshAxis();\n    chart.refreshBound();\n    this.elementOpacity = '1';\n    chart.duration = chartDuration;\n    chart.redraw = false;\n    return false;\n  };\n  Toolkit.prototype.zoomIn = function () {\n    this.zoomInOutCalculation(1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n    return false;\n  };\n  Toolkit.prototype.zoomOut = function () {\n    this.enableZoomButton = false;\n    this.zoomInOutCalculation(-1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n    return false;\n  };\n  Toolkit.prototype.zoom = function () {\n    this.chart.zoomModule.isPanning = false;\n    // const zoomModule: Zoom = this.chart.zoomModule;\n    this.elementOpacity = '1';\n    this.chart.svgObject.setAttribute('cursor', 'auto');\n    this.zoomInElements.setAttribute('opacity', this.elementOpacity);\n    this.elementOpacity = !this.chart.zoomModule.isZoomed && this.chart.zoomSettings.showToolbar ? '0.2' : '1';\n    this.zoomOutElements.setAttribute('opacity', this.elementOpacity);\n    this.applySelection(this.zoomElements.childNodes, this.chart.themeStyle.toolkitSelectionColor);\n    if (this.chart.theme === 'Fluent2HighContrast') {\n      this.applySelection(this.zoomInElements.childNodes, this.chart.themeStyle.toolkitFill);\n      this.applySelection(this.zoomOutElements.childNodes, this.chart.themeStyle.toolkitFill);\n    }\n    this.applySelection(this.panElements.childNodes, this.chart.theme === 'Tailwind3Dark' ? '#FFFFFF' : '#737373');\n    if (getElement(this.selectedID)) {\n      getElement(this.selectedID).setAttribute('fill', 'transparent');\n    }\n    this.selectedID = this.chart.element.id + '_Zooming_Zoom_1';\n    getElement(this.selectedID).setAttribute('fill', this.chart.themeStyle.toolkitIconRectSelectionFill);\n    return false;\n  };\n  /**\n   * Enables panning for the chart.\n   *\n   * @returns {boolean} - Returns false.\n   */\n  Toolkit.prototype.pan = function () {\n    if (!this.chart.zoomModule.isZoomed) {\n      return false;\n    }\n    var element;\n    this.chart.zoomModule.isPanning = true;\n    this.chart.svgObject.setAttribute('cursor', 'pointer');\n    this.elementOpacity = '0.2';\n    element = this.zoomInElements ? this.zoomInElements.setAttribute('opacity', this.elementOpacity) : null;\n    element = this.zoomOutElements ? this.zoomOutElements.setAttribute('opacity', this.elementOpacity) : null;\n    if (this.chart.theme === 'Fluent2HighContrast') {\n      var zoomOut = getElement(this.chart.element.id + '_Zooming_ZoomOut');\n      if (zoomOut) {\n        zoomOut.setAttribute('opacity', '1');\n      }\n      var zoomIn = getElement(this.chart.element.id + '_Zooming_ZoomIn');\n      if (zoomIn) {\n        zoomIn.setAttribute('opacity', '1');\n      }\n      var zoomOut2 = getElement(this.chart.element.id + '_Zooming_ZoomOut_2');\n      if (zoomOut2) {\n        zoomOut2.setAttribute('fill', '#3FF23F');\n      }\n      var zoomIn2 = getElement(this.chart.element.id + '_Zooming_ZoomIn_2');\n      if (zoomIn2) {\n        zoomIn2.setAttribute('fill', '#3FF23F');\n      }\n      var zoomIn3 = getElement(this.chart.element.id + '_Zooming_ZoomIn_3');\n      if (zoomIn3) {\n        zoomIn3.setAttribute('fill', '#3FF23F');\n      }\n    }\n    element = this.panElements ? this.applySelection(this.panElements.childNodes, this.chart.themeStyle.toolkitSelectionColor) : null;\n    element = this.zoomElements ? this.applySelection(this.zoomElements.childNodes, this.chart.theme === 'Tailwind3Dark' ? '#FFFFFF' : '#737373') : null;\n    if (getElement(this.selectedID)) {\n      getElement(this.selectedID).setAttribute('fill', 'transparent');\n    }\n    this.selectedID = this.chart.element.id + '_Zooming_Pan_1';\n    getElement(this.selectedID).setAttribute('fill', this.chart.themeStyle.toolkitIconRectSelectionFill);\n    return false;\n  };\n  Toolkit.prototype.zoomInOutCalculation = function (scale, chart, axes, mode) {\n    var _this = this;\n    this.isZoomed = true;\n    if (chart.zoomSettings.showToolbar) {\n      this.elementOpacity = this.zoomInElements.getAttribute('opacity');\n    }\n    if (!chart.zoomModule.isPanning && this.elementOpacity !== '0.2') {\n      if (chart.zoomSettings.showToolbar && !chart.isZoomed) {\n        chart.zoomModule.isZoomed = true;\n      }\n      var zoomFactor = void 0;\n      var zoomPosition = void 0;\n      var cumulative = void 0;\n      chart.disableTrackTooltip = true;\n      chart.delayRedraw = true;\n      var argsData = void 0;\n      this.zoomCompleteEvtCollection = [];\n      var zoomedAxisCollection = [];\n      for (var _i = 0, _a = axes; _i < _a.length; _i++) {\n        var axis = _a[_i];\n        argsData = {\n          cancel: false,\n          name: zoomComplete,\n          axis: axis,\n          previousZoomFactor: axis.zoomFactor,\n          previousZoomPosition: axis.zoomPosition,\n          currentZoomFactor: axis.zoomFactor,\n          currentZoomPosition: axis.zoomPosition,\n          previousVisibleRange: axis.visibleRange,\n          currentVisibleRange: null\n        };\n        if (axis.orientation === 'Horizontal' && mode !== 'Y' || axis.orientation === 'Vertical' && mode !== 'X') {\n          cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + 0.25 * scale, 1);\n          zoomFactor = cumulative === 1 ? 1 : minMax(1 / cumulative, 0, 1);\n          zoomPosition = cumulative === 1 ? 0 : axis.zoomPosition + (axis.zoomFactor - zoomFactor) * 0.5;\n          if (axis.zoomPosition !== zoomPosition || axis.zoomFactor !== zoomFactor) {\n            zoomFactor = zoomPosition + zoomFactor > 1 ? 1 - zoomPosition : zoomFactor;\n          }\n          argsData.currentZoomFactor = zoomFactor;\n          argsData.currentZoomPosition = zoomPosition;\n          if (!argsData.cancel) {\n            axis.zoomFactor = argsData.currentZoomFactor;\n            axis.zoomPosition = argsData.currentZoomPosition;\n            this.zoomCompleteEvtCollection.push(argsData);\n          }\n          zoomedAxisCollection.push({\n            zoomFactor: axis.zoomFactor,\n            zoomPosition: axis.zoomFactor,\n            axisName: axis.name,\n            axisRange: axis.visibleRange\n          });\n        }\n      }\n      var zoomingEventArgs_1 = {\n        cancel: false,\n        axisCollection: zoomedAxisCollection,\n        name: onZooming\n      };\n      this.chart.trigger(onZooming, zoomingEventArgs_1, function () {\n        if (zoomingEventArgs_1.cancel) {\n          var zoom = new Zoom(chart);\n          zoom.zoomCancel(axes, _this.zoomCompleteEvtCollection);\n        }\n      });\n    }\n  };\n  Toolkit.prototype.applySelection = function (elements, color) {\n    for (var i = 1, length_1 = elements.length; i < length_1; i++) {\n      elements[i].setAttribute('fill', color);\n    }\n  };\n  return Toolkit;\n}();\nexport { Toolkit };","map":{"version":3,"names":["EventHandler","isNullOrUndefined","remove","removeElement","RectOption","PolygonOption","createTooltip","minMax","getElement","textElement","PathOption","Rect","measureText","TextOption","SvgRenderer","Zoom","zoomComplete","onZooming","Toolkit","chart","iconRectOverFill","iconRectSelectionFill","zoomCompleteEvtCollection","isZoomed","elementId","element","id","svgRenderer","prototype","createPanButton","childElement","parentElement","render","fillColor","zoomModule","isPanning","themeStyle","toolkitSelectionColor","toolkitFill","direction","elementOpacity","zoomSettings","showToolbar","setAttribute","theme","accessibility","accessibilityRole","focusable","String","tabIndex","accessibilityDescription","getLocalizedLabel","panElements","appendChild","drawRectangle","toolkitIconRect","indexOf","drawPath","wireEvents","pan","createZoomButton","rectColor","toolkitIconRectSelectionFill","zoomElements","selectedID","zoom","createZoomInButton","polygonDirection","drawPolygon","zoomInElements","enableZoomButton","zoomIn","createZoomOutButton","zoomOutElements","zoomOut","createResetButton","isDevice","size","fontStyle","fontWeight","fontFamily","width","height","renderer","enableCanvas","reset","process","add","showTooltip","removeTooltip","mouseMoveHandler","toolkitElements","mouseDownHandler","window","addEventListener","mouseUpHandler","bind","e","toolbarPosition","draggable","isDragging","performDragAndDrop","target","elementWidth","getBoundingClientRect","elementHeight","toolkitShadowPadding","x","type","changedTouches","clientX","mouseX","y","clientY","mouseY","transX","Math","max","border","min","availableSize","transY","dragHorizontalRatio","dragVerticalRatio","event","text","currentTarget","split","left","pageX","rect","icon2","icon3","getAttribute","hoveredID","childNodes","toolkitIconRectOverFill","isTouch","pageY","replace","iconColor","nextElementSibling","_this","redraw","enableAnimation","stopPropagation","argsData","svgObject","zoomedAxisCollection","_i","_a","axisCollections","length","axis","cancel","name","previousZoomFactor","zoomFactor","previousZoomPosition","zoomPosition","currentZoomFactor","currentZoomPosition","previousVisibleRange","visibleRange","currentVisibleRange","zoomingScrollBar","isScrollUI","push","axisName","axisRange","isBlazor","trigger","zoomingEventArgs","axisCollection","setDefferedZoom","disableTrackTooltip","chartDuration","duration","isChartDrag","delayRedraw","touchMoveList","touchStartList","pinchTarget","zoomRedraw","zoomToolBar","tooltipModule","visibleSeries","series","marker","visible","tooltip","shared","markerRender","removeHighlightedMarker","removeSvg","refreshAxis","refreshBound","zoomInOutCalculation","mode","applySelection","zoomOut2","zoomIn2","zoomIn3","scale","axes","cumulative","orientation","zoomingEventArgs_1","zoomCancel","elements","color","i","length_1"],"sources":["C:/Users/gabby/trax-x/node_modules/@syncfusion/ej2-charts/src/chart/user-interaction/zooming-toolkit.js"],"sourcesContent":["import { EventHandler, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { removeElement, RectOption, PolygonOption, createTooltip, minMax, getElement } from '../../common/utils/helper';\nimport { textElement } from '../../common/utils/helper';\nimport { PathOption, Rect, measureText, TextOption, SvgRenderer } from '@syncfusion/ej2-svg-base';\nimport { Zoom } from './zooming';\nimport { zoomComplete, onZooming } from '../../common/model/constants';\n/**\n * The `Toolkit` class provides functionalities for zooming and panning in charts.\n *\n * @private\n */\nvar Toolkit = /** @class */ (function () {\n    /**\n     * Constructor for the chart touch module.\n     *\n     * @param {Chart} chart - Specifies the chart instance.\n     */\n    function Toolkit(chart) {\n        this.iconRectOverFill = 'transparent';\n        this.iconRectSelectionFill = 'transparent';\n        /** @private */\n        this.zoomCompleteEvtCollection = [];\n        /** @private */\n        this.isZoomed = false;\n        this.chart = chart;\n        this.elementId = chart.element.id;\n        this.chart.svgRenderer = new SvgRenderer(this.elementId);\n    }\n    /**\n     * Creates a pan button.\n     *\n     * @param {Element} childElement - Specifies the child element.\n     * @param {Element} parentElement - Specifies the parent element.\n     * @returns {void}\n     */\n    Toolkit.prototype.createPanButton = function (childElement, parentElement) {\n        var render = this.chart.svgRenderer;\n        var fillColor = this.chart.zoomModule.isPanning ? this.chart.themeStyle.toolkitSelectionColor :\n            this.chart.themeStyle.toolkitFill;\n        var direction = 'M5,3h2.3L7.275,5.875h1.4L8.65,3H11L8,0L5,3z M3,11V8.7l2.875,0.025v-1.4L3,7.35V5L0,8L3,';\n        direction += '11z M11,13H8.7l0.025-2.875h-1.4L7.35,13H5l3,3L11,13z M13,5v2.3l-2.875-0.025v1.4L13,8.65V11l3-3L13,5z';\n        //This is for setting low opacity to PAN Button\n        this.elementOpacity = !this.chart.zoomModule.isZoomed && this.chart.zoomSettings.showToolbar ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.chart.theme === 'Fluent2HighContrast' ? '1' : this.elementOpacity);\n        childElement.id = this.elementId + '_Zooming_Pan';\n        childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n        childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n        childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('Pan'));\n        this.panElements = childElement;\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Pan_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Pan_2', this.chart.theme === 'Fluent2HighContrast' && this.elementOpacity === '0.2' ? '#3FF23F' : fillColor, null, null, 1, null, direction)));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.pan);\n    };\n    /**\n     * Creates a zoom button.\n     *\n     * @param {Element} childElement - The child element to create.\n     * @param {Element} parentElement - The parent element to append the child element.\n     * @returns {void}\n     */\n    Toolkit.prototype.createZoomButton = function (childElement, parentElement) {\n        var render = this.chart.svgRenderer;\n        //This is for selecting initial fill color to ZOOM button\n        var fillColor = this.chart.zoomModule.isPanning || (!this.chart.zoomModule.isZoomed &&\n            this.chart.zoomSettings.showToolbar) ? this.chart.themeStyle.toolkitFill : this.chart.themeStyle.toolkitSelectionColor;\n        this.elementOpacity = !this.chart.zoomModule.isPanning && !this.chart.zoomModule.isZoomed && this.chart.zoomSettings.showToolbar ? '0.2' : '1';\n        var rectColor = this.chart.zoomModule.isPanning ? 'transparent' : this.chart.themeStyle.toolkitIconRectSelectionFill;\n        var direction = 'M0.001,14.629L1.372,16l4.571-4.571v-0.685l0.228-0.274c1.051,0.868,2.423,1.417,3.885,1.417c3.291,0,';\n        direction += '5.943-2.651,5.943-5.943S13.395,0,10.103,0S4.16,2.651,4.16,5.943c0,1.508,0.503,2.834,1.417,3.885l-0.274,0.228H4.571';\n        direction = direction + 'L0.001,14.629L0.001,14.629z M5.943,5.943c0-2.285,1.828-4.114,4.114-4.114s4.114,1.828,4.114,';\n        childElement.id = this.elementId + '_Zooming_Zoom';\n        childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n        childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n        childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('Zoom'));\n        childElement.setAttribute('opacity', this.elementOpacity);\n        this.zoomElements = childElement;\n        this.selectedID = this.chart.zoomModule.isPanning ? this.chart.element.id + '_Zooming_Pan_1' : this.elementId + '_Zooming_Zoom_1';\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Zoom_1', rectColor, {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Zoom_3', fillColor, null, null, 1, null, direction + '4.114s-1.828,4.114-4.114,4.114S5.943,8.229,5.943,5.943z')));\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoom);\n    };\n    /**\n     * Creates a zoom in button.\n     *\n     * @param {Element} childElement - The child element to create.\n     * @param {Element} parentElement - The parent element to append the child element.\n     * @param {Chart} chart - The chart instance.\n     * @returns {void}\n     */\n    Toolkit.prototype.createZoomInButton = function (childElement, parentElement, chart) {\n        var render = this.chart.svgRenderer;\n        var fillColor = this.chart.themeStyle.toolkitFill;\n        var direction = 'M10.103,0C6.812,0,4.16,2.651,4.16,5.943c0,1.509,0.503,2.834,1.417,3.885l-0.274,0.229H4.571L0,';\n        direction += '14.628l0,0L1.372,16l4.571-4.572v-0.685l0.228-0.275c1.052,0.868,2.423,1.417,3.885,1.417c3.291,0,5.943-2.651,';\n        direction += '5.943-5.943C16,2.651,13.395,0,10.103,0z M10.058,10.058c-2.286,0-4.114-1.828-4.114-4.114c0-2.286,1.828-4.114,';\n        childElement.id = this.elementId + '_Zooming_ZoomIn';\n        childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n        childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n        childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('ZoomIn'));\n        var polygonDirection = '12.749,5.466 10.749,5.466 10.749,3.466 9.749,3.466 9.749,5.466 7.749,5.466 7.749,6.466';\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomIn_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 ? 4 : this.chart.theme.indexOf('Bootstrap5') > -1 ? 2 : 0, this.chart.theme.indexOf('Fluent2') > -1 ? 4 : this.chart.theme.indexOf('Bootstrap5') > -1 ? 2 : 0)));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomIn_2', fillColor, null, null, 1, null, direction + '4.114-4.114c2.286,0,4.114,1.828,4.114,4.114C14.172,8.229,12.344,10.058,10.058,10.058z')));\n        childElement.appendChild(render.drawPolygon(new PolygonOption(this.elementId + '_Zooming_ZoomIn_3', polygonDirection + ' 9.749,6.466 9.749,8.466 10.749,8.466 10.749,6.466 12.749,6.466', fillColor)));\n        this.zoomInElements = childElement;\n        //This is for low opacity to ZOOM IN button\n        this.elementOpacity = chart.zoomModule.isPanning || (!chart.zoomModule.isZoomed && !chart.zoomSettings.showToolbar && !this.enableZoomButton) ? '0.2' : '1';\n        childElement.setAttribute('opacity', this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomIn);\n    };\n    /**\n     * Creates a zoom out button.\n     *\n     * @param {Element} childElement - The child element to create.\n     * @param {Element} parentElement - The parent element to append the child element.\n     * @param {Chart} chart - The chart instance.\n     * @returns {void}\n     */\n    Toolkit.prototype.createZoomOutButton = function (childElement, parentElement, chart) {\n        var render = this.chart.svgRenderer;\n        var fillColor = this.chart.themeStyle.toolkitFill;\n        var direction = 'M0,14.622L1.378,16l4.533-4.533v-0.711l0.266-0.266c1.022,0.889,2.4,1.422,3.866,';\n        direction += '1.422c3.289,0,5.955-2.666,5.955-5.955S13.333,0,10.044,0S4.089,2.667,4.134,5.911c0,1.466,0.533,2.844,';\n        direction += '1.422,3.866l-0.266,0.266H4.578L0,14.622L0,14.622z M5.911,5.911c0-2.311,1.822-4.133,4.133-4.133s4.133,1.822,4.133,';\n        childElement.id = this.elementId + '_Zooming_ZoomOut';\n        childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n        childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n        childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('ZoomOut'));\n        childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_ZoomOut_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n        childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_ZoomOut_2', (chart.theme === 'Fluent2HighContrast' && !chart.zoomModule.isZoomed) || (chart.theme === 'Fluent2HighContrast' && chart.zoomModule.isPanning) ? '#3FF23F' : fillColor, null, null, 1, null, direction + '4.133s-1.866,4.133-4.133,4.133S5.911,8.222,5.911,5.911z M12.567,6.466h-5v-1h5V6.466z')));\n        this.zoomOutElements = childElement;\n        //This is for low opacity of ZOOM OUT button\n        this.elementOpacity = chart.zoomModule.isPanning || (!chart.zoomModule.isZoomed && chart.zoomSettings.showToolbar && !this.enableZoomButton) ? '0.2' : '1';\n        childElement.setAttribute('opacity', chart.theme === 'Fluent2HighContrast' ? '1' : this.elementOpacity);\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.zoomOut);\n    };\n    /**\n     * Creates a reset button.\n     *\n     * @param {Element} childElement - The child element to create.\n     * @param {Element} parentElement - The parent element to append the child element.\n     * @param {Chart} chart - The chart instance.\n     * @param {boolean} isDevice - Specifies whether the device is mobile or not.\n     * @returns {void}\n     */\n    Toolkit.prototype.createResetButton = function (childElement, parentElement, chart, isDevice) {\n        var render = this.chart.svgRenderer;\n        var fillColor = this.chart.themeStyle.toolkitFill;\n        var size;\n        var direction = 'M12.364,8h-2.182l2.909,3.25L16,8h-2.182c0-3.575-2.618-6.5-5.818-6.5c-1.128,0-2.218,0.366-3.091,';\n        direction += '1.016l1.055,1.178C6.581,3.328,7.272,3.125,8,3.125C10.4,3.125,12.363,5.319,12.364,8L12.364,8z M11.091,';\n        direction += '13.484l-1.055-1.178C9.419,12.672,8.728,12.875,8,12.875c-2.4,0-4.364-2.194-4.364-4.875h2.182L2.909,4.75L0,8h2.182c0,';\n        childElement.id = this.elementId + '_Zooming_Reset';\n        childElement.setAttribute('role', this.chart.zoomSettings.accessibility.accessibilityRole ? this.chart.zoomSettings.accessibility.accessibilityRole : 'button');\n        childElement.setAttribute('tabindex', this.chart.zoomSettings.accessibility.focusable ? String(this.chart.zoomSettings.accessibility.tabIndex) : '-1');\n        childElement.setAttribute('aria-label', this.chart.zoomSettings.accessibility.accessibilityDescription ? this.chart.zoomSettings.accessibility.accessibilityDescription : this.chart.getLocalizedLabel('Reset'));\n        //This is for low opacity to RESET button\n        this.elementOpacity = !chart.zoomModule.isZoomed && chart.zoomSettings.showToolbar ? '0.2' : '1';\n        childElement.setAttribute('opacity', chart.theme === 'Fluent2HighContrast' ? '1' : this.elementOpacity);\n        if (!isDevice) {\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, this.chart.themeStyle.toolkitIconRect, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0, this.chart.theme.indexOf('Fluent2') > -1 || this.chart.theme.indexOf('Bootstrap5') > -1 ? 4 : 0)));\n            childElement.appendChild(render.drawPath(new PathOption(this.elementId + '_Zooming_Reset_2', chart.theme === 'Fluent2HighContrast' && this.elementOpacity === '0.2' ? '#3FF23F' : fillColor, null, null, 1, null, direction + '3.575,2.618,6.5,5.818,6.5C9.128,14.5,10.219,14.134,11.091,13.484L11.091,13.484z')));\n        }\n        else {\n            size = measureText(this.chart.getLocalizedLabel('ResetZoom'), { size: '12px' }, { size: '12px', fontStyle: 'Normal', fontWeight: '400', fontFamily: 'Segoe UI' });\n            childElement.appendChild(render.drawRectangle(new RectOption(this.elementId + '_Zooming_Reset_1', 'transparent', {}, 1, new Rect(0, 0, size.width, size.height))));\n            textElement(chart.renderer, new TextOption(this.elementId + '_Zooming_Reset_2', 0 + size.width / 2, 0 + size.height * 3 / 4, 'middle', this.chart.getLocalizedLabel('ResetZoom'), 'rotate(0,' + (0) + ',' + (0) + ')', 'auto'), { size: '12px' }, this.chart.theme === 'Material3Dark' || this.chart.theme === 'Fluent2Dark' || this.chart.theme === 'Fluent2HighContrast' ? 'White' : 'black', childElement, null, null, null, null, null, null, null, null, chart.enableCanvas, null, { size: '12px', fontStyle: 'Normal', fontWeight: '400', fontFamily: 'Segoe UI' });\n        }\n        parentElement.appendChild(childElement);\n        this.wireEvents(childElement, this.reset);\n    };\n    /**\n     * Wires events to the specified element.\n     *\n     * @param {Element} element - The element to wire the events to.\n     * @param {Function} process - The function to be executed when the event occurs.\n     * @returns {void}\n     */\n    Toolkit.prototype.wireEvents = function (element, process) {\n        EventHandler.add(element, 'mousedown touchstart', process, this);\n        EventHandler.add(element, 'mouseover', this.showTooltip, this);\n        EventHandler.add(element, 'mouseout', this.removeTooltip, this);\n        EventHandler.add(this.chart.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(this.chart.zoomModule.toolkitElements, 'mousedown', this.mouseDownHandler, this);\n        window.addEventListener('mouseup', this.mouseUpHandler.bind(this), true);\n    };\n    /**\n     * Handles the mouse move event on the chart.\n     *\n     * @param {PointerEvent | TouchEvent} e - The mouse move event or touch event.\n     * @returns {void}\n     * @private\n     */\n    Toolkit.prototype.mouseMoveHandler = function (e) {\n        if (this.chart.zoomSettings.toolbarPosition.draggable) {\n            if (this.isDragging) {\n                this.performDragAndDrop(e);\n            }\n            else {\n                this.chart.zoomModule.toolkitElements.setAttribute('cursor', e.target.id.indexOf('Zooming_Rect') > -1 ? 'grab' : 'none');\n            }\n        }\n    };\n    /**\n     * Handles the mouse down event on the toolkit.\n     *\n     * @param {PointerEvent} e - The mouse down event.\n     * @returns {void}\n     * @private\n     */\n    Toolkit.prototype.mouseDownHandler = function (e) {\n        if (this.chart.zoomSettings.toolbarPosition.draggable && !this.isDragging && e.target.\n            id.indexOf('Zooming_Rect') > -1) {\n            this.isDragging = true;\n            this.chart.zoomModule.toolkitElements.setAttribute('cursor', 'grabbing');\n        }\n    };\n    /**\n     * Handles the mouse up event on the window.\n     *\n     * @param {PointerEvent} e - The mouse up event.\n     * @returns {void}\n     * @private\n     */\n    Toolkit.prototype.mouseUpHandler = function (e) {\n        if (this.isDragging) {\n            this.isDragging = false;\n            this.chart.zoomModule.toolkitElements.setAttribute('cursor', e.target.id.indexOf('Zooming_Rect') > -1 ? 'grab' : 'none');\n        }\n    };\n    /**\n     * Handles the drag-and-drop functionality for the toolkit.\n     *\n     * @param {PointerEvent | TouchEvent} e - The event triggered by the pointer or touch action.\n     * @returns {void}\n     * @private\n     */\n    Toolkit.prototype.performDragAndDrop = function (e) {\n        var elementWidth = this.chart.zoomModule.toolkitElements.getBoundingClientRect().width;\n        var elementHeight = this.chart.zoomModule.toolkitElements.getBoundingClientRect().height;\n        // Padding to apply when the toolkit is positioned at the chart area border\n        var toolkitShadowPadding = 2;\n        var x = e.type.indexOf('touch') > -1 ? e.changedTouches[0].clientX : this.chart.mouseX;\n        var y = e.type.indexOf('touch') > -1 ? e.changedTouches[0].clientY : this.chart.mouseY;\n        var transX = Math.max(this.chart.border.width + toolkitShadowPadding, Math.min(x - elementWidth / 2, this.chart.availableSize.width - elementWidth - this.chart.border.width - toolkitShadowPadding));\n        var transY = Math.max(this.chart.border.width + toolkitShadowPadding, Math.min(y - elementHeight / 2, this.chart.availableSize.height - elementHeight - this.chart.border.width - toolkitShadowPadding));\n        if (x < this.chart.availableSize.width && y < this.chart.availableSize.height) {\n            this.chart.zoomModule.toolkitElements.setAttribute('transform', 'translate(' + transX + ',' + transY + ')');\n            this.dragHorizontalRatio = transX / this.chart.availableSize.width;\n            this.dragVerticalRatio = transY / this.chart.availableSize.height;\n        }\n    };\n    /**\n     * Displays the tooltip on mouse event.\n     *\n     * @param {MouseEvent} event - The mouse event.\n     * @returns {void}\n     */\n    Toolkit.prototype.showTooltip = function (event) {\n        var text = event.currentTarget.id.split('_Zooming_')[1];\n        var left = (event.pageX - (measureText(text, { size: '10px' }, { size: '10px', fontStyle: 'Normal', fontWeight: '400', fontFamily: 'Segoe UI' }).width + 5));\n        var rect = getElement(event.currentTarget.id + '_1');\n        var icon2 = getElement(event.currentTarget.id + '_2');\n        var icon3 = getElement(event.currentTarget.id + '_3');\n        if (event.currentTarget.getAttribute('opacity') === '1') {\n            event.currentTarget.setAttribute('cursor', 'pointer');\n        }\n        else {\n            event.currentTarget.setAttribute('cursor', 'auto');\n        }\n        if (rect) {\n            this.hoveredID = rect.id;\n            rect.setAttribute('fill', this.chart.theme === 'Fluent2HighContrast' && event.currentTarget.childNodes[1].getAttribute('fill') === '#3FF23F' ? 'transparent' : this.chart.themeStyle.toolkitIconRectOverFill);\n        }\n        if (icon2) {\n            icon2.setAttribute('fill', this.chart.theme === 'Fluent2HighContrast' && event.currentTarget.childNodes[1].getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.chart.themeStyle.toolkitSelectionColor);\n        }\n        if (icon3) {\n            icon3.setAttribute('fill', this.chart.theme === 'Fluent2HighContrast' && event.currentTarget.childNodes[1].getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.chart.themeStyle.toolkitSelectionColor);\n        }\n        if (!this.chart.isTouch && !this.isDragging) {\n            createTooltip('EJ2_Chart_ZoomTip', this.chart.getLocalizedLabel(text), (event.pageY + 10), left, '10px');\n        }\n    };\n    /**\n     * Removes the tooltip.\n     *\n     * @returns {void}\n     */\n    Toolkit.prototype.removeTooltip = function () {\n        if (this.hoveredID && getElement(this.hoveredID)) {\n            var rectColor = this.chart.zoomModule.isPanning ? (this.hoveredID.indexOf('_Pan_') > -1) ? this.chart.themeStyle.toolkitIconRectSelectionFill : 'transparent' : (this.hoveredID.indexOf('_Zoom_') > -1) && (this.elementOpacity !== '0.2' && this.chart.theme !== 'Fluent2HighContrast') ? this.chart.themeStyle.toolkitIconRectSelectionFill : 'transparent';\n            getElement(this.hoveredID).setAttribute('fill', rectColor);\n        }\n        var icon2 = this.hoveredID ? getElement(this.hoveredID.replace('_1', '_2')) : null;\n        var icon3 = this.hoveredID ? getElement(this.hoveredID.replace('_1', '_3')) : null;\n        if (icon2) {\n            var iconColor = this.chart.zoomModule.isPanning ? (this.hoveredID.indexOf('_Pan_') > -1) ? this.chart.themeStyle.toolkitSelectionColor : this.elementOpacity === '0.2' && this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.elementOpacity === '1' && this.chart.theme === 'Tailwind3' ? '#212529' : this.chart.themeStyle.toolkitFill : (this.hoveredID.indexOf('_Zoom_') > -1) ? this.chart.themeStyle.toolkitSelectionColor : this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' ? '#3FF23F' : (this.chart.theme === 'Tailwind3Dark' && this.chart.zoomModule.isDevice) ? 'black' : this.chart.themeStyle.toolkitFill;\n            icon2.setAttribute('fill', iconColor);\n        }\n        if (icon3) {\n            //This is used for change color while hover on ZOOM button\n            var iconColor = this.chart.zoomModule.isPanning || (!this.chart.isZoomed && this.chart.zoomSettings.showToolbar) ? this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' && this.elementOpacity === '1' ? '#3FF23F' : this.elementOpacity === '1' && this.chart.theme === 'Tailwind3' ? '#212529' : this.chart.themeStyle.toolkitFill : (this.hoveredID.indexOf('_Zoom_') > -1) ? this.chart.themeStyle.toolkitSelectionColor : this.chart.theme === 'Fluent2HighContrast' && getElement(this.hoveredID).nextElementSibling.getAttribute('fill') === '#3FF23F' ? '#3FF23F' : this.chart.themeStyle.toolkitFill;\n            icon3.setAttribute('fill', iconColor);\n        }\n        removeElement('EJ2_Chart_ZoomTip');\n    };\n    // Toolkit events function calculation here.\n    /**\n     * Resets the chart.\n     *\n     * @param {PointerEvent | TouchEvent | KeyboardEvent} event - The event object.\n     * @returns {boolean} - Returns false.\n     */\n    Toolkit.prototype.reset = function (event) {\n        var _this = this;\n        if (!this.chart.zoomModule.isZoomed) {\n            return false;\n        }\n        var chart = this.chart;\n        this.enableZoomButton = false;\n        chart.redraw = chart.enableCanvas ? chart.redraw : chart.zoomSettings.enableAnimation;\n        if (!chart.zoomModule.isDevice) {\n            remove(chart.zoomModule.toolkitElements);\n        }\n        else if (event.type === 'touchstart') {\n            event.stopPropagation();\n        }\n        var argsData;\n        this.removeTooltip();\n        chart.svgObject.setAttribute('cursor', 'auto');\n        var zoomedAxisCollection = [];\n        this.zoomCompleteEvtCollection = [];\n        for (var _i = 0, _a = chart.axisCollections; _i < _a.length; _i++) {\n            var axis = _a[_i];\n            argsData = {\n                cancel: false, name: zoomComplete, axis: axis, previousZoomFactor: axis.zoomFactor,\n                previousZoomPosition: axis.zoomPosition, currentZoomFactor: 1, currentZoomPosition: 0,\n                previousVisibleRange: axis.visibleRange, currentVisibleRange: null\n            };\n            axis.zoomFactor = 1;\n            axis.zoomPosition = 0;\n            if (axis.zoomingScrollBar) {\n                axis.zoomingScrollBar.isScrollUI = false;\n            }\n            if (!argsData.cancel) {\n                axis.zoomFactor = argsData.currentZoomFactor;\n                axis.zoomPosition = argsData.currentZoomPosition;\n                this.zoomCompleteEvtCollection.push(argsData);\n            }\n            zoomedAxisCollection.push({\n                zoomFactor: axis.zoomFactor, zoomPosition: axis.zoomFactor, axisName: axis.name,\n                axisRange: axis.visibleRange\n            });\n            if (chart.zoomModule.isDevice && !this.chart.isBlazor) {\n                chart.trigger(zoomComplete, argsData);\n            }\n        }\n        var zoomingEventArgs = { cancel: false, axisCollection: zoomedAxisCollection, name: onZooming };\n        if (!zoomingEventArgs.cancel && this.chart.isBlazor) {\n            this.chart.trigger(onZooming, zoomingEventArgs, function () {\n                _this.setDefferedZoom(chart);\n            });\n            return false;\n        }\n        else {\n            return (this.setDefferedZoom(chart));\n        }\n    };\n    Toolkit.prototype.setDefferedZoom = function (chart) {\n        chart.disableTrackTooltip = false;\n        var chartDuration = chart.duration;\n        chart.duration = 600;\n        chart.zoomModule.isZoomed = chart.zoomModule.isPanning = chart.isChartDrag = chart.delayRedraw = false;\n        chart.zoomModule.touchMoveList = chart.zoomModule.touchStartList = [];\n        chart.zoomModule.pinchTarget = null;\n        chart.zoomRedraw = chart.zoomSettings.enableAnimation;\n        if (chart.redraw) {\n            var zoomToolBar = getElement(chart.element.id + '_Zooming_KitCollection');\n            if (zoomToolBar) {\n                zoomToolBar.remove();\n            }\n            if (chart.tooltipModule) {\n                if (getElement(chart.element.id + '_tooltip')) {\n                    getElement(chart.element.id + '_tooltip').remove();\n                }\n                for (var _i = 0, _a = chart.visibleSeries; _i < _a.length; _i++) {\n                    var series = _a[_i];\n                    if (!isNullOrUndefined(series) && (series.marker.visible || chart.tooltip.shared || series.type === 'Scatter' || series.type === 'Bubble')) {\n                        chart.markerRender.removeHighlightedMarker(series, null, true);\n                    }\n                }\n            }\n        }\n        else {\n            chart.removeSvg();\n        }\n        chart.refreshAxis();\n        chart.refreshBound();\n        this.elementOpacity = '1';\n        chart.duration = chartDuration;\n        chart.redraw = false;\n        return false;\n    };\n    Toolkit.prototype.zoomIn = function () {\n        this.zoomInOutCalculation(1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoomOut = function () {\n        this.enableZoomButton = false;\n        this.zoomInOutCalculation(-1, this.chart, this.chart.axisCollections, this.chart.zoomSettings.mode);\n        return false;\n    };\n    Toolkit.prototype.zoom = function () {\n        this.chart.zoomModule.isPanning = false;\n        // const zoomModule: Zoom = this.chart.zoomModule;\n        this.elementOpacity = '1';\n        this.chart.svgObject.setAttribute('cursor', 'auto');\n        this.zoomInElements.setAttribute('opacity', this.elementOpacity);\n        this.elementOpacity = (!this.chart.zoomModule.isZoomed && this.chart.zoomSettings.showToolbar) ? '0.2' : '1';\n        this.zoomOutElements.setAttribute('opacity', this.elementOpacity);\n        this.applySelection(this.zoomElements.childNodes, this.chart.themeStyle.toolkitSelectionColor);\n        if (this.chart.theme === 'Fluent2HighContrast') {\n            this.applySelection(this.zoomInElements.childNodes, this.chart.themeStyle.toolkitFill);\n            this.applySelection(this.zoomOutElements.childNodes, this.chart.themeStyle.toolkitFill);\n        }\n        this.applySelection(this.panElements.childNodes, this.chart.theme === 'Tailwind3Dark' ? '#FFFFFF' : '#737373');\n        if (getElement(this.selectedID)) {\n            getElement(this.selectedID).setAttribute('fill', 'transparent');\n        }\n        this.selectedID = this.chart.element.id + '_Zooming_Zoom_1';\n        getElement(this.selectedID).setAttribute('fill', this.chart.themeStyle.toolkitIconRectSelectionFill);\n        return false;\n    };\n    /**\n     * Enables panning for the chart.\n     *\n     * @returns {boolean} - Returns false.\n     */\n    Toolkit.prototype.pan = function () {\n        if (!this.chart.zoomModule.isZoomed) {\n            return false;\n        }\n        var element;\n        this.chart.zoomModule.isPanning = true;\n        this.chart.svgObject.setAttribute('cursor', 'pointer');\n        this.elementOpacity = '0.2';\n        element = this.zoomInElements ? this.zoomInElements.setAttribute('opacity', this.elementOpacity) : null;\n        element = this.zoomOutElements ? this.zoomOutElements.setAttribute('opacity', this.elementOpacity) : null;\n        if (this.chart.theme === 'Fluent2HighContrast') {\n            var zoomOut = getElement(this.chart.element.id + '_Zooming_ZoomOut');\n            if (zoomOut) {\n                zoomOut.setAttribute('opacity', '1');\n            }\n            var zoomIn = getElement(this.chart.element.id + '_Zooming_ZoomIn');\n            if (zoomIn) {\n                zoomIn.setAttribute('opacity', '1');\n            }\n            var zoomOut2 = getElement(this.chart.element.id + '_Zooming_ZoomOut_2');\n            if (zoomOut2) {\n                zoomOut2.setAttribute('fill', '#3FF23F');\n            }\n            var zoomIn2 = getElement(this.chart.element.id + '_Zooming_ZoomIn_2');\n            if (zoomIn2) {\n                (zoomIn2.setAttribute('fill', '#3FF23F'));\n            }\n            var zoomIn3 = getElement(this.chart.element.id + '_Zooming_ZoomIn_3');\n            if (zoomIn3) {\n                zoomIn3.setAttribute('fill', '#3FF23F');\n            }\n        }\n        element = this.panElements ? this.applySelection(this.panElements.childNodes, this.chart.themeStyle.toolkitSelectionColor) : null;\n        element = this.zoomElements ? this.applySelection(this.zoomElements.childNodes, this.chart.theme === 'Tailwind3Dark' ? '#FFFFFF' : '#737373') : null;\n        if (getElement(this.selectedID)) {\n            getElement(this.selectedID).setAttribute('fill', 'transparent');\n        }\n        this.selectedID = this.chart.element.id + '_Zooming_Pan_1';\n        getElement(this.selectedID).setAttribute('fill', this.chart.themeStyle.toolkitIconRectSelectionFill);\n        return false;\n    };\n    Toolkit.prototype.zoomInOutCalculation = function (scale, chart, axes, mode) {\n        var _this = this;\n        this.isZoomed = true;\n        if (chart.zoomSettings.showToolbar) {\n            this.elementOpacity = this.zoomInElements.getAttribute('opacity');\n        }\n        if (!chart.zoomModule.isPanning && this.elementOpacity !== '0.2') {\n            if ((chart.zoomSettings.showToolbar && !chart.isZoomed)) {\n                chart.zoomModule.isZoomed = true;\n            }\n            var zoomFactor = void 0;\n            var zoomPosition = void 0;\n            var cumulative = void 0;\n            chart.disableTrackTooltip = true;\n            chart.delayRedraw = true;\n            var argsData = void 0;\n            this.zoomCompleteEvtCollection = [];\n            var zoomedAxisCollection = [];\n            for (var _i = 0, _a = axes; _i < _a.length; _i++) {\n                var axis = _a[_i];\n                argsData = {\n                    cancel: false, name: zoomComplete, axis: axis, previousZoomFactor: axis.zoomFactor,\n                    previousZoomPosition: axis.zoomPosition, currentZoomFactor: axis.zoomFactor, currentZoomPosition: axis.zoomPosition,\n                    previousVisibleRange: axis.visibleRange, currentVisibleRange: null\n                };\n                if ((axis.orientation === 'Horizontal' && mode !== 'Y') ||\n                    (axis.orientation === 'Vertical' && mode !== 'X')) {\n                    cumulative = Math.max(Math.max(1 / minMax(axis.zoomFactor, 0, 1), 1) + (0.25 * scale), 1);\n                    zoomFactor = (cumulative === 1) ? 1 : minMax(1 / cumulative, 0, 1);\n                    zoomPosition = (cumulative === 1) ? 0 : axis.zoomPosition + ((axis.zoomFactor - zoomFactor) * 0.5);\n                    if (axis.zoomPosition !== zoomPosition || axis.zoomFactor !== zoomFactor) {\n                        zoomFactor = (zoomPosition + zoomFactor) > 1 ? (1 - zoomPosition) : zoomFactor;\n                    }\n                    argsData.currentZoomFactor = zoomFactor;\n                    argsData.currentZoomPosition = zoomPosition;\n                    if (!argsData.cancel) {\n                        axis.zoomFactor = argsData.currentZoomFactor;\n                        axis.zoomPosition = argsData.currentZoomPosition;\n                        this.zoomCompleteEvtCollection.push(argsData);\n                    }\n                    zoomedAxisCollection.push({\n                        zoomFactor: axis.zoomFactor, zoomPosition: axis.zoomFactor, axisName: axis.name,\n                        axisRange: axis.visibleRange\n                    });\n                }\n            }\n            var zoomingEventArgs_1 = { cancel: false, axisCollection: zoomedAxisCollection, name: onZooming };\n            this.chart.trigger(onZooming, zoomingEventArgs_1, function () {\n                if (zoomingEventArgs_1.cancel) {\n                    var zoom = new Zoom(chart);\n                    zoom.zoomCancel(axes, _this.zoomCompleteEvtCollection);\n                }\n            });\n        }\n    };\n    Toolkit.prototype.applySelection = function (elements, color) {\n        for (var i = 1, length_1 = elements.length; i < length_1; i++) {\n            elements[i].setAttribute('fill', color);\n        }\n    };\n    return Toolkit;\n}());\nexport { Toolkit };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}