{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _react = require(\"react\");\nvar _react2 = _interopRequireDefault(_react);\nvar _propTypes = require(\"prop-types\");\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _d3Shape = require(\"d3-shape\");\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\nvar _GenericComponent = require(\"../GenericComponent\");\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar KagiSeries = function (_Component) {\n  _inherits(KagiSeries, _Component);\n  function KagiSeries(props) {\n    _classCallCheck(this, KagiSeries);\n    var _this = _possibleConstructorReturn(this, (KagiSeries.__proto__ || Object.getPrototypeOf(KagiSeries)).call(this, props));\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n  _createClass(KagiSeries, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var xAccessor = moreProps.xAccessor;\n      _drawOnCanvas(ctx, this.props, moreProps, xAccessor);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        svgDraw: this.renderSVG,\n        canvasToDraw: _GenericComponent.getAxisCanvas,\n        canvasDraw: this.drawOnCanvas,\n        drawOn: [\"pan\"]\n      });\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var xAccessor = moreProps.xAccessor;\n      var xScale = moreProps.xScale,\n        yScale = moreProps.chartConfig.yScale,\n        plotData = moreProps.plotData;\n      var _props = this.props,\n        className = _props.className,\n        stroke = _props.stroke,\n        fill = _props.fill,\n        strokeWidth = _props.strokeWidth;\n      var paths = helper(plotData, xAccessor).map(function (each, i) {\n        var dataSeries = (0, _d3Shape.line)().x(function (item) {\n          return xScale(item[0]);\n        }).y(function (item) {\n          return yScale(item[1]);\n        }).curve(_d3Shape.curveStepBefore);\n        dataSeries(each.plot);\n        return _react2.default.createElement(\"path\", {\n          key: i,\n          d: dataSeries(each.plot),\n          className: each.type,\n          stroke: stroke[each.type],\n          fill: fill[each.type],\n          strokeWidth: strokeWidth\n        });\n      });\n      return _react2.default.createElement(\"g\", {\n        className: className\n      }, paths);\n    }\n  }]);\n  return KagiSeries;\n}(_react.Component);\nKagiSeries.propTypes = {\n  className: _propTypes2.default.string,\n  stroke: _propTypes2.default.object,\n  fill: _propTypes2.default.object,\n  strokeWidth: _propTypes2.default.number.isRequired\n};\nKagiSeries.defaultProps = {\n  className: \"react-stockcharts-kagi\",\n  strokeWidth: 2,\n  stroke: {\n    yang: \"#6BA583\",\n    yin: \"#E60000\"\n  },\n  fill: {\n    yang: \"none\",\n    yin: \"none\"\n  },\n  currentValueStroke: \"#000000\"\n};\nfunction _drawOnCanvas(ctx, props, moreProps, xAccessor) {\n  var stroke = props.stroke,\n    strokeWidth = props.strokeWidth,\n    currentValueStroke = props.currentValueStroke;\n  var xScale = moreProps.xScale,\n    yScale = moreProps.chartConfig.yScale,\n    plotData = moreProps.plotData;\n  var paths = helper(plotData, xAccessor);\n  var begin = true;\n  paths.forEach(function (each) {\n    ctx.strokeStyle = stroke[each.type];\n    ctx.lineWidth = strokeWidth;\n    ctx.beginPath();\n    var prevX = void 0;\n    each.plot.forEach(function (d) {\n      var _ref = [xScale(d[0]), yScale(d[1])],\n        x = _ref[0],\n        y = _ref[1];\n      if (begin) {\n        ctx.moveTo(x, y);\n        begin = false;\n      } else {\n        if ((0, _utils.isDefined)(prevX)) {\n          ctx.lineTo(prevX, y);\n        }\n        ctx.lineTo(x, y);\n      }\n      prevX = x;\n      // console.log(d);\n    });\n    ctx.stroke();\n  });\n  var lastPlot = paths[paths.length - 1].plot;\n  var last = lastPlot[lastPlot.length - 1];\n  ctx.beginPath();\n  // ctx.strokeStyle = \"black\";\n  ctx.lineWidth = 1;\n  var _ref2 = [xScale(last[0]), yScale(last[2]), yScale(last[3])],\n    x = _ref2[0],\n    y1 = _ref2[1],\n    y2 = _ref2[2];\n  // console.log(last, x, y);\n\n  ctx.moveTo(x, y1);\n  ctx.lineTo(x + 10, y1);\n  ctx.stroke();\n  ctx.beginPath();\n  ctx.strokeStyle = currentValueStroke;\n  ctx.moveTo(x - 10, y2);\n  ctx.lineTo(x, y2);\n  ctx.stroke();\n}\nfunction helper(plotData, xAccessor) {\n  var kagiLine = [];\n  var kagi = {};\n  var d = plotData[0];\n  var idx = xAccessor(d);\n  for (var i = 0; i < plotData.length; i++) {\n    d = plotData[i];\n    if ((0, _utils.isNotDefined)(d.close)) continue;\n    if ((0, _utils.isNotDefined)(kagi.type)) kagi.type = d.startAs;\n    if ((0, _utils.isNotDefined)(kagi.plot)) kagi.plot = [];\n    idx = xAccessor(d);\n    kagi.plot.push([idx, d.open]);\n    if ((0, _utils.isDefined)(d.changeTo)) {\n      kagi.plot.push([idx, d.changePoint]);\n      kagi.added = true;\n      kagiLine.push(kagi);\n      kagi = {\n        type: d.changeTo,\n        plot: [],\n        added: false\n      };\n      kagi.plot.push([idx, d.changePoint]);\n    }\n  }\n  if (!kagi.added) {\n    kagi.plot.push([idx, d.close, d.current, d.reverseAt]);\n    kagiLine.push(kagi);\n  }\n\n  // console.log(d.reverseAt);\n\n  return kagiLine;\n}\nexports.default = KagiSeries;","map":{"version":3,"names":["_react","require","_propTypes","_d3Shape","_GenericChartComponent","_GenericComponent","_utils","KagiSeries","props","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","renderSVG","bind","drawOnCanvas","ctx","moreProps","xAccessor","_drawOnCanvas","_react2","default","createElement","_GenericChartComponent2","svgDraw","canvasToDraw","getAxisCanvas","canvasDraw","drawOn","xScale","yScale","chartConfig","plotData","_props","className","stroke","fill","strokeWidth","paths","helper","map","each","i","dataSeries","line","x","item","y","curve","curveStepBefore","plot","key","d","type","propTypes","_propTypes2","string","object","number","isRequired","defaultProps","yang","yin","currentValueStroke","begin","forEach","strokeStyle","lineWidth","beginPath","prevX","_ref","moveTo","isDefined","lineTo","lastPlot","length","last","_ref2","y1","y2","kagiLine","kagi","idx","isNotDefined","close","startAs","push","open","changeTo","changePoint","added","current","reverseAt"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\src\\lib\\series\\KagiSeries.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { line, curveStepBefore } from \"d3-shape\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getAxisCanvas } from \"../GenericComponent\";\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass KagiSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst { xAccessor } = moreProps;\n\n\t\tdrawOnCanvas(ctx, this.props, moreProps, xAccessor);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOn={[\"pan\"]}\n\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { xAccessor } = moreProps;\n\t\tconst { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tconst { className, stroke, fill, strokeWidth } = this.props;\n\n\t\tconst paths = helper(plotData, xAccessor).map((each, i) => {\n\t\t\tconst dataSeries = line()\n\t\t\t\t.x((item) => xScale(item[0]))\n\t\t\t\t.y((item) => yScale(item[1]))\n\t\t\t\t.curve(curveStepBefore);\n\n\t\t\tdataSeries(each.plot);\n\n\t\t\treturn (<path key={i} d={dataSeries(each.plot)} className={each.type}\n\t\t\t\tstroke={stroke[each.type]} fill={fill[each.type]} strokeWidth={strokeWidth} />);\n\t\t});\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{paths}\n\t\t\t</g>\n\t\t);\n\t}\n}\nKagiSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.object,\n\tfill: PropTypes.object,\n\tstrokeWidth: PropTypes.number.isRequired,\n};\n\nKagiSeries.defaultProps = {\n\tclassName: \"react-stockcharts-kagi\",\n\tstrokeWidth: 2,\n\tstroke: {\n\t\tyang: \"#6BA583\",\n\t\tyin: \"#E60000\"\n\t},\n\tfill: {\n\t\tyang: \"none\",\n\t\tyin: \"none\"\n\t},\n\tcurrentValueStroke: \"#000000\",\n};\n\nfunction drawOnCanvas(ctx, props, moreProps, xAccessor) {\n\tconst { stroke, strokeWidth, currentValueStroke } = props;\n\tconst { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tconst paths = helper(plotData, xAccessor);\n\n\tlet begin = true;\n\n\tpaths.forEach((each) => {\n\t\tctx.strokeStyle = stroke[each.type];\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tlet prevX;\n\t\teach.plot.forEach(d => {\n\t\t\tconst [x, y] = [xScale(d[0]), yScale(d[1])];\n\t\t\tif (begin) {\n\t\t\t\tctx.moveTo(x, y);\n\t\t\t\tbegin = false;\n\t\t\t} else {\n\t\t\t\tif (isDefined(prevX)) {\n\t\t\t\t\tctx.lineTo(prevX, y);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t\tprevX = x;\n\t\t\t// console.log(d);\n\n\t\t});\n\t\tctx.stroke();\n\t});\n\tconst lastPlot = paths[paths.length - 1].plot;\n\tconst last = lastPlot[lastPlot.length - 1];\n\tctx.beginPath();\n\t// ctx.strokeStyle = \"black\";\n\tctx.lineWidth = 1;\n\n\tconst [x, y1, y2] = [xScale(last[0]), yScale(last[2]), yScale(last[3])];\n\t// console.log(last, x, y);\n\tctx.moveTo(x, y1);\n\tctx.lineTo(x + 10, y1);\n\tctx.stroke();\n\n\tctx.beginPath();\n\tctx.strokeStyle = currentValueStroke;\n\tctx.moveTo(x - 10, y2);\n\tctx.lineTo(x, y2);\n\tctx.stroke();\n}\n\nfunction helper(plotData, xAccessor) {\n\tconst kagiLine = [];\n\tlet kagi = {};\n\tlet d = plotData[0];\n\tlet idx = xAccessor(d);\n\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\td = plotData[i];\n\n\t\tif (isNotDefined(d.close)) continue;\n\t\tif (isNotDefined(kagi.type)) kagi.type = d.startAs;\n\t\tif (isNotDefined(kagi.plot)) kagi.plot = [];\n\n\t\tidx = xAccessor(d);\n\t\tkagi.plot.push([idx, d.open]);\n\n\t\tif (isDefined(d.changeTo)) {\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t\tkagi.added = true;\n\t\t\tkagiLine.push(kagi);\n\n\t\t\tkagi = {\n\t\t\t\ttype: d.changeTo,\n\t\t\t\tplot: [],\n\t\t\t\tadded: false,\n\t\t\t};\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t}\n\t}\n\n\tif (!kagi.added) {\n\t\tkagi.plot.push([idx, d.close, d.current, d.reverseAt]);\n\t\tkagiLine.push(kagi);\n\t}\n\n\t// console.log(d.reverseAt);\n\n\treturn kagiLine;\n}\n\nexport default KagiSeries;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}