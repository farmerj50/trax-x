{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _react = require(\"react\");\nvar _react2 = _interopRequireDefault(_react);\nvar _propTypes = require(\"prop-types\");\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _d3Force = require(\"d3-force\");\nvar _d3Array = require(\"d3-array\");\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\nvar _GenericComponent = require(\"../GenericComponent\");\nvar _AxisZoomCapture = require(\"./AxisZoomCapture\");\nvar _AxisZoomCapture2 = _interopRequireDefault(_AxisZoomCapture);\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar Axis = function (_Component) {\n  _inherits(Axis, _Component);\n  function Axis(props) {\n    _classCallCheck(this, Axis);\n    var _this = _possibleConstructorReturn(this, (Axis.__proto__ || Object.getPrototypeOf(Axis)).call(this, props));\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    _this.saveNode = _this.saveNode.bind(_this);\n    _this.getMoreProps = _this.getMoreProps.bind(_this);\n    return _this;\n  }\n  _createClass(Axis, [{\n    key: \"saveNode\",\n    value: function saveNode(node) {\n      this.node = node;\n    }\n  }, {\n    key: \"getMoreProps\",\n    value: function getMoreProps() {\n      return this.node.getMoreProps();\n    }\n  }, {\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var _props = this.props,\n        showDomain = _props.showDomain,\n        showTicks = _props.showTicks,\n        transform = _props.transform,\n        range = _props.range,\n        getScale = _props.getScale;\n      ctx.save();\n      ctx.translate(transform[0], transform[1]);\n      if (showDomain) drawAxisLine(ctx, this.props, range);\n      if (showTicks) {\n        var tickProps = tickHelper(this.props, getScale(moreProps));\n        drawTicks(ctx, tickProps);\n      }\n      ctx.restore();\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var className = this.props.className;\n      var _props2 = this.props,\n        showDomain = _props2.showDomain,\n        showTicks = _props2.showTicks,\n        range = _props2.range,\n        getScale = _props2.getScale;\n      var ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\n      var domain = showDomain ? axisLineSVG(this.props, range) : null;\n      return _react2.default.createElement(\"g\", {\n        className: className\n      }, ticks, domain);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props3 = this.props,\n        bg = _props3.bg,\n        axisZoomCallback = _props3.axisZoomCallback,\n        className = _props3.className,\n        zoomCursorClassName = _props3.zoomCursorClassName,\n        zoomEnabled = _props3.zoomEnabled,\n        getScale = _props3.getScale,\n        inverted = _props3.inverted;\n      var _props4 = this.props,\n        transform = _props4.transform,\n        getMouseDelta = _props4.getMouseDelta,\n        edgeClip = _props4.edgeClip;\n      var _props5 = this.props,\n        onContextMenu = _props5.onContextMenu,\n        onDoubleClick = _props5.onDoubleClick;\n      var zoomCapture = zoomEnabled ? _react2.default.createElement(_AxisZoomCapture2.default, {\n        bg: bg,\n        getScale: getScale,\n        getMoreProps: this.getMoreProps,\n        getMouseDelta: getMouseDelta,\n        axisZoomCallback: axisZoomCallback,\n        className: className,\n        zoomCursorClassName: zoomCursorClassName,\n        inverted: inverted,\n        onContextMenu: onContextMenu,\n        onDoubleClick: onDoubleClick\n      }) : null;\n      return _react2.default.createElement(\"g\", {\n        transform: \"translate(\" + transform[0] + \", \" + transform[1] + \")\"\n      }, zoomCapture, _react2.default.createElement(_GenericChartComponent2.default, {\n        ref: this.saveNode,\n        canvasToDraw: _GenericComponent.getAxisCanvas,\n        clip: false,\n        edgeClip: edgeClip,\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        drawOn: [\"pan\"]\n      }));\n    }\n  }]);\n  return Axis;\n}(_react.Component);\nAxis.propTypes = {\n  innerTickSize: _propTypes2.default.number,\n  outerTickSize: _propTypes2.default.number,\n  tickFormat: _propTypes2.default.func,\n  tickPadding: _propTypes2.default.number,\n  tickSize: _propTypes2.default.number,\n  ticks: _propTypes2.default.number,\n  tickLabelFill: _propTypes2.default.string,\n  tickStroke: _propTypes2.default.string,\n  tickStrokeOpacity: _propTypes2.default.number,\n  tickStrokeWidth: _propTypes2.default.number,\n  tickStrokeDasharray: _propTypes2.default.oneOf(_utils.strokeDashTypes),\n  tickValues: _propTypes2.default.oneOfType([_propTypes2.default.array, _propTypes2.default.func]),\n  tickInterval: _propTypes2.default.number,\n  tickIntervalFunction: _propTypes2.default.func,\n  showDomain: _propTypes2.default.bool,\n  showTicks: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  axisZoomCallback: _propTypes2.default.func,\n  zoomEnabled: _propTypes2.default.bool,\n  inverted: _propTypes2.default.bool,\n  zoomCursorClassName: _propTypes2.default.string,\n  transform: _propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,\n  range: _propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,\n  getMouseDelta: _propTypes2.default.func.isRequired,\n  getScale: _propTypes2.default.func.isRequired,\n  bg: _propTypes2.default.object.isRequired,\n  edgeClip: _propTypes2.default.bool.isRequired,\n  onContextMenu: _propTypes2.default.func,\n  onDoubleClick: _propTypes2.default.func\n};\nAxis.defaultProps = {\n  zoomEnabled: false,\n  zoomCursorClassName: \"\",\n  edgeClip: false\n};\nfunction tickHelper(props, scale) {\n  var orient = props.orient,\n    innerTickSize = props.innerTickSize,\n    tickFormat = props.tickFormat,\n    tickPadding = props.tickPadding,\n    tickLabelFill = props.tickLabelFill,\n    tickStrokeWidth = props.tickStrokeWidth,\n    tickStrokeDasharray = props.tickStrokeDasharray,\n    fontSize = props.fontSize,\n    fontFamily = props.fontFamily,\n    fontWeight = props.fontWeight,\n    showTicks = props.showTicks,\n    flexTicks = props.flexTicks,\n    showTickLabel = props.showTickLabel;\n  var tickArguments = props.ticks,\n    tickValuesProp = props.tickValues,\n    tickStroke = props.tickStroke,\n    tickStrokeOpacity = props.tickStrokeOpacity,\n    tickInterval = props.tickInterval,\n    tickIntervalFunction = props.tickIntervalFunction;\n\n  // if (tickArguments) tickArguments = [tickArguments];\n\n  var tickValues = void 0;\n  if ((0, _utils.isDefined)(tickValuesProp)) {\n    if (typeof tickValuesProp === \"function\") {\n      tickValues = tickValuesProp(scale.domain());\n    } else {\n      tickValues = tickValuesProp;\n    }\n  } else if ((0, _utils.isDefined)(tickInterval)) {\n    var _scale$domain = scale.domain(),\n      _scale$domain2 = _slicedToArray(_scale$domain, 2),\n      min = _scale$domain2[0],\n      max = _scale$domain2[1];\n    var baseTickValues = (0, _d3Array.range)(min, max, (max - min) / tickInterval);\n    tickValues = tickIntervalFunction ? tickIntervalFunction(min, max, tickInterval) : baseTickValues;\n  } else if ((0, _utils.isDefined)(scale.ticks)) {\n    tickValues = scale.ticks(tickArguments, flexTicks);\n  } else {\n    tickValues = scale.domain();\n  }\n  var baseFormat = scale.tickFormat ? scale.tickFormat(tickArguments) : _utils.identity;\n  var format = (0, _utils.isNotDefined)(tickFormat) ? baseFormat : function (d) {\n    return tickFormat(d) || \"\";\n  };\n  var sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n  var tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n  var ticks = void 0,\n    dy = void 0,\n    canvas_dy = void 0,\n    textAnchor = void 0;\n  if (orient === \"bottom\" || orient === \"top\") {\n    dy = sign < 0 ? \"0em\" : \".71em\";\n    canvas_dy = sign < 0 ? 0 : fontSize * .71;\n    textAnchor = \"middle\";\n    ticks = tickValues.map(function (d) {\n      var x = Math.round(scale(d));\n      return {\n        value: d,\n        x1: x,\n        y1: 0,\n        x2: x,\n        y2: sign * innerTickSize,\n        labelX: x,\n        labelY: sign * tickSpacing\n      };\n    });\n    if (showTicks && flexTicks) {\n      // console.log(ticks, showTicks);\n\n      var nodes = ticks.map(function (d) {\n        return {\n          id: d.value,\n          value: d.value,\n          fy: d.y2,\n          origX: d.x1\n        };\n      });\n      var simulation = (0, _d3Force.forceSimulation)(nodes).force(\"x\", (0, _d3Force.forceX)(function (d) {\n        return d.origX;\n      }).strength(1)).force(\"collide\", (0, _d3Force.forceCollide)(22))\n      // .force(\"center\", forceCenter())\n      .stop();\n      for (var i = 0; i < 100; ++i) {\n        simulation.tick();\n      } // console.log(nodes);\n\n      var zip = (0, _utils.zipper)().combine(function (a, b) {\n        if (Math.abs(b.x - b.origX) > 0.01) {\n          return _extends({}, a, {\n            x2: b.x,\n            labelX: b.x\n          });\n        }\n        return a;\n      });\n      ticks = zip(ticks, nodes);\n    }\n  } else {\n    ticks = tickValues.map(function (d) {\n      var y = Math.round(scale(d));\n      return {\n        value: d,\n        x1: 0,\n        y1: y,\n        x2: sign * innerTickSize,\n        y2: y,\n        labelX: sign * tickSpacing,\n        labelY: y\n      };\n    });\n    dy = \".32em\";\n    canvas_dy = fontSize * .32;\n    textAnchor = sign < 0 ? \"end\" : \"start\";\n  }\n  return {\n    ticks: ticks,\n    scale: scale,\n    tickStroke: tickStroke,\n    tickLabelFill: tickLabelFill || tickStroke,\n    tickStrokeOpacity: tickStrokeOpacity,\n    tickStrokeWidth: tickStrokeWidth,\n    tickStrokeDasharray: tickStrokeDasharray,\n    dy: dy,\n    canvas_dy: canvas_dy,\n    textAnchor: textAnchor,\n    fontSize: fontSize,\n    fontFamily: fontFamily,\n    fontWeight: fontWeight,\n    format: format,\n    showTickLabel: showTickLabel\n  };\n}\n\n/* eslint-disable react/prop-types */\nfunction axisLineSVG(props, range) {\n  var orient = props.orient,\n    outerTickSize = props.outerTickSize;\n  var domainClassName = props.domainClassName,\n    fill = props.fill,\n    stroke = props.stroke,\n    strokeWidth = props.strokeWidth,\n    opacity = props.opacity;\n  var sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n  var d = void 0;\n  if (orient === \"bottom\" || orient === \"top\") {\n    d = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n  } else {\n    d = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n  }\n  return _react2.default.createElement(\"path\", {\n    className: domainClassName,\n    d: d,\n    fill: fill,\n    opacity: opacity,\n    stroke: stroke,\n    strokeWidth: strokeWidth\n  });\n}\n/* eslint-enable react/prop-types */\n\nfunction drawAxisLine(ctx, props, range) {\n  // props = { ...AxisLine.defaultProps, ...props };\n\n  var orient = props.orient,\n    outerTickSize = props.outerTickSize,\n    stroke = props.stroke,\n    strokeWidth = props.strokeWidth,\n    opacity = props.opacity;\n  var sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n  var xAxis = orient === \"bottom\" || orient === \"top\";\n\n  // var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n  ctx.lineWidth = strokeWidth;\n  ctx.strokeStyle = (0, _utils.hexToRGBA)(stroke, opacity);\n  ctx.beginPath();\n  if (xAxis) {\n    ctx.moveTo((0, _utils.first)(range), sign * outerTickSize);\n    ctx.lineTo((0, _utils.first)(range), 0);\n    ctx.lineTo((0, _utils.last)(range), 0);\n    ctx.lineTo((0, _utils.last)(range), sign * outerTickSize);\n  } else {\n    ctx.moveTo(sign * outerTickSize, (0, _utils.first)(range));\n    ctx.lineTo(0, (0, _utils.first)(range));\n    ctx.lineTo(0, (0, _utils.last)(range));\n    ctx.lineTo(sign * outerTickSize, (0, _utils.last)(range));\n  }\n  ctx.stroke();\n}\nfunction Tick(props) {\n  var tickLabelFill = props.tickLabelFill,\n    tickStroke = props.tickStroke,\n    tickStrokeOpacity = props.tickStrokeOpacity,\n    tickStrokeDasharray = props.tickStrokeDasharray,\n    tickStrokeWidth = props.tickStrokeWidth,\n    textAnchor = props.textAnchor,\n    fontSize = props.fontSize,\n    fontFamily = props.fontFamily,\n    fontWeight = props.fontWeight;\n  var x1 = props.x1,\n    y1 = props.y1,\n    x2 = props.x2,\n    y2 = props.y2,\n    labelX = props.labelX,\n    labelY = props.labelY,\n    dy = props.dy;\n  return _react2.default.createElement(\"g\", {\n    className: \"tick\"\n  }, _react2.default.createElement(\"line\", {\n    shapeRendering: \"crispEdges\",\n    opacity: tickStrokeOpacity,\n    stroke: tickStroke,\n    strokeWidth: tickStrokeWidth,\n    strokeDasharray: (0, _utils.getStrokeDasharray)(tickStrokeDasharray),\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2\n  }), _react2.default.createElement(\"text\", {\n    dy: dy,\n    x: labelX,\n    y: labelY,\n    fill: tickLabelFill,\n    fontSize: fontSize,\n    fontWeight: fontWeight,\n    fontFamily: fontFamily,\n    textAnchor: textAnchor\n  }, props.children));\n}\nTick.propTypes = {\n  children: _propTypes2.default.string.isRequired,\n  x1: _propTypes2.default.number.isRequired,\n  y1: _propTypes2.default.number.isRequired,\n  x2: _propTypes2.default.number.isRequired,\n  y2: _propTypes2.default.number.isRequired,\n  labelX: _propTypes2.default.number.isRequired,\n  labelY: _propTypes2.default.number.isRequired,\n  dy: _propTypes2.default.string.isRequired,\n  tickStroke: _propTypes2.default.string,\n  tickLabelFill: _propTypes2.default.string,\n  tickStrokeWidth: _propTypes2.default.number,\n  tickStrokeOpacity: _propTypes2.default.number,\n  tickStrokeDasharray: _propTypes2.default.oneOf(_utils.strokeDashTypes),\n  textAnchor: _propTypes2.default.string,\n  fontSize: _propTypes2.default.number,\n  fontFamily: _propTypes2.default.string,\n  fontWeight: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])\n};\nfunction axisTicksSVG(props, scale) {\n  var result = tickHelper(props, scale);\n  var tickLabelFill = result.tickLabelFill,\n    tickStroke = result.tickStroke,\n    tickStrokeOpacity = result.tickStrokeOpacity,\n    tickStrokeWidth = result.tickStrokeWidth,\n    tickStrokeDasharray = result.tickStrokeDasharray,\n    textAnchor = result.textAnchor;\n  var fontSize = result.fontSize,\n    fontFamily = result.fontFamily,\n    fontWeight = result.fontWeight,\n    ticks = result.ticks,\n    format = result.format;\n  var dy = result.dy;\n  return _react2.default.createElement(\"g\", null, ticks.map(function (tick, idx) {\n    return _react2.default.createElement(Tick, {\n      key: idx,\n      tickStroke: tickStroke,\n      tickLabelFill: tickLabelFill,\n      tickStrokeWidth: tickStrokeWidth,\n      tickStrokeOpacity: tickStrokeOpacity,\n      tickStrokeDasharray: tickStrokeDasharray,\n      dy: dy,\n      x1: tick.x1,\n      y1: tick.y1,\n      x2: tick.x2,\n      y2: tick.y2,\n      labelX: tick.labelX,\n      labelY: tick.labelY,\n      textAnchor: textAnchor,\n      fontSize: fontSize,\n      fontWeight: fontWeight,\n      fontFamily: fontFamily\n    }, format(tick.value));\n  }));\n}\nfunction drawTicks(ctx, result) {\n  var tickStroke = result.tickStroke,\n    tickStrokeOpacity = result.tickStrokeOpacity,\n    tickLabelFill = result.tickLabelFill;\n  var textAnchor = result.textAnchor,\n    fontSize = result.fontSize,\n    fontFamily = result.fontFamily,\n    fontWeight = result.fontWeight,\n    ticks = result.ticks,\n    showTickLabel = result.showTickLabel;\n  ctx.strokeStyle = (0, _utils.hexToRGBA)(tickStroke, tickStrokeOpacity);\n  ctx.fillStyle = tickStroke;\n  // ctx.textBaseline = 'middle';\n\n  ticks.forEach(function (tick) {\n    drawEachTick(ctx, tick, result);\n  });\n  ctx.font = fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n  ctx.fillStyle = tickLabelFill;\n  ctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n  if (showTickLabel) {\n    ticks.forEach(function (tick) {\n      drawEachTickLabel(ctx, tick, result);\n    });\n  }\n}\nfunction drawEachTick(ctx, tick, result) {\n  var tickStrokeWidth = result.tickStrokeWidth,\n    tickStrokeDasharray = result.tickStrokeDasharray;\n  ctx.beginPath();\n  ctx.moveTo(tick.x1, tick.y1);\n  ctx.lineTo(tick.x2, tick.y2);\n  ctx.lineWidth = tickStrokeWidth;\n  ctx.setLineDash((0, _utils.getStrokeDasharray)(tickStrokeDasharray).split(\",\"));\n  ctx.stroke();\n}\nfunction drawEachTickLabel(ctx, tick, result) {\n  var canvas_dy = result.canvas_dy,\n    format = result.format;\n  ctx.beginPath();\n  ctx.fillText(format(tick.value), tick.labelX, tick.labelY + canvas_dy);\n}\nexports.default = Axis;","map":{"version":3,"names":["_react","require","_propTypes","_d3Force","_d3Array","_GenericChartComponent","_GenericComponent","_AxisZoomCapture","_utils","Axis","props","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","renderSVG","bind","drawOnCanvas","saveNode","getMoreProps","node","ctx","moreProps","_props","showDomain","showTicks","transform","range","getScale","save","translate","drawAxisLine","tickProps","tickHelper","drawTicks","restore","className","_props2","ticks","axisTicksSVG","domain","axisLineSVG","_react2","default","createElement","_props3","bg","axisZoomCallback","zoomCursorClassName","zoomEnabled","inverted","_props4","getMouseDelta","edgeClip","_props5","onContextMenu","onDoubleClick","zoomCapture","_AxisZoomCapture2","_GenericChartComponent2","ref","canvasToDraw","getAxisCanvas","clip","svgDraw","canvasDraw","drawOn","propTypes","innerTickSize","_propTypes2","number","outerTickSize","tickFormat","func","tickPadding","tickSize","tickLabelFill","string","tickStroke","tickStrokeOpacity","tickStrokeWidth","tickStrokeDasharray","oneOf","strokeDashTypes","tickValues","oneOfType","array","tickInterval","tickIntervalFunction","bool","arrayOf","isRequired","object","defaultProps","scale","orient","fontSize","fontFamily","fontWeight","flexTicks","showTickLabel","tickArguments","tickValuesProp","isDefined","_scale$domain","_scale$domain2","_slicedToArray","min","max","baseTickValues","baseFormat","identity","format","isNotDefined","d","sign","tickSpacing","Math","dy","canvas_dy","textAnchor","map","x","round","value","x1","y1","x2","y2","labelX","labelY","nodes","id","fy","origX","simulation","forceSimulation","force","forceX","strength","forceCollide","stop","i","tick","zip","zipper","combine","a","b","abs","_extends","y","domainClassName","fill","stroke","strokeWidth","opacity","xAxis","lineWidth","strokeStyle","hexToRGBA","beginPath","moveTo","first","lineTo","last","Tick","shapeRendering","strokeDasharray","getStrokeDasharray","children","result","idx","key","fillStyle","forEach","drawEachTick","font","textAlign","drawEachTickLabel","setLineDash","split","fillText"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\src\\lib\\axes\\Axis.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { forceSimulation, forceX, forceCollide } from \"d3-force\";\nimport { range as d3Range } from \"d3-array\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getAxisCanvas } from \"../GenericComponent\";\nimport AxisZoomCapture from \"./AxisZoomCapture\";\n\nimport { first, last, hexToRGBA, isNotDefined, isDefined, identity, zipper, strokeDashTypes, getStrokeDasharray } from \"../utils\";\n\nclass Axis extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.saveNode = this.saveNode.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\t}\n\tsaveNode(node) {\n\t\tthis.node = node;\n\t}\n\tgetMoreProps() {\n\t\treturn this.node.getMoreProps();\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst { showDomain, showTicks, transform, range, getScale } = this.props;\n\n\t\tctx.save();\n\t\tctx.translate(transform[0], transform[1]);\n\n\t\tif (showDomain) drawAxisLine(ctx, this.props, range);\n\t\tif (showTicks) {\n\t\t\tconst tickProps = tickHelper(this.props, getScale(moreProps));\n\t\t\tdrawTicks(ctx, tickProps);\n\t\t}\n\n\t\tctx.restore();\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { className } = this.props;\n\t\tconst { showDomain, showTicks, range, getScale } = this.props;\n\n\t\tconst ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\n\t\tconst domain = showDomain ? axisLineSVG(this.props, range) : null;\n\n\t\treturn <g className={className}>\n\t\t\t{ticks}\n\t\t\t{domain}\n\t\t</g>;\n\t}\n\trender() {\n\t\tconst { bg, axisZoomCallback, className, zoomCursorClassName, zoomEnabled, getScale, inverted } = this.props;\n\t\tconst { transform, getMouseDelta, edgeClip } = this.props;\n\t\tconst { onContextMenu, onDoubleClick } = this.props;\n\n\t\tconst zoomCapture = zoomEnabled\n\t\t\t? <AxisZoomCapture\n\t\t\t\tbg={bg}\n\t\t\t\tgetScale={getScale}\n\t\t\t\tgetMoreProps={this.getMoreProps}\n\t\t\t\tgetMouseDelta={getMouseDelta}\n\t\t\t\taxisZoomCallback={axisZoomCallback}\n\t\t\t\tclassName={className}\n\t\t\t\tzoomCursorClassName={zoomCursorClassName}\n\t\t\t\tinverted={inverted}\n\t\t\t\tonContextMenu={onContextMenu}\n\t\t\t\tonDoubleClick={onDoubleClick}\n\t\t\t/>\n\t\t\t: null;\n\n\t\treturn <g transform={`translate(${ transform[0] }, ${ transform[1] })`}>\n\t\t\t{zoomCapture}\n\t\t\t<GenericChartComponent ref={this.saveNode}\n\t\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\t\tclip={false}\n\t\t\t\tedgeClip={edgeClip}\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t\tdrawOn={[\"pan\"]}\n\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nAxis.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickLabelFill: PropTypes.string,\n\ttickStroke: PropTypes.string,\n\ttickStrokeOpacity: PropTypes.number,\n\ttickStrokeWidth: PropTypes.number,\n\ttickStrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\ttickValues: PropTypes.oneOfType([PropTypes.array, PropTypes.func]),\n\ttickInterval: PropTypes.number,\n\ttickIntervalFunction: PropTypes.func,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\tzoomEnabled: PropTypes.bool,\n\tinverted: PropTypes.bool,\n\tzoomCursorClassName: PropTypes.string,\n\ttransform: PropTypes.arrayOf(PropTypes.number).isRequired,\n\trange: PropTypes.arrayOf(PropTypes.number).isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tbg: PropTypes.object.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n\tonContextMenu: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n};\n\nAxis.defaultProps = {\n\tzoomEnabled: false,\n\tzoomCursorClassName: \"\",\n\tedgeClip: false,\n};\n\nfunction tickHelper(props, scale) {\n\tconst {\n\t\torient, innerTickSize, tickFormat, tickPadding,\n\t\ttickLabelFill, tickStrokeWidth, tickStrokeDasharray,\n\t\tfontSize, fontFamily, fontWeight, showTicks, flexTicks,\n\t\tshowTickLabel\n\t} = props;\n\tconst {\n\t\tticks: tickArguments, tickValues: tickValuesProp,\n\t\ttickStroke, tickStrokeOpacity, tickInterval, tickIntervalFunction\n\t} = props;\n\n\t// if (tickArguments) tickArguments = [tickArguments];\n\n\tlet tickValues;\n\tif (isDefined(tickValuesProp)) {\n\t\tif (typeof tickValuesProp === \"function\") {\n\t\t\ttickValues = tickValuesProp(scale.domain());\n\t\t} else {\n\t\t\ttickValues = tickValuesProp;\n\t\t}\n\t} else if (isDefined(tickInterval)) {\n\t\tconst [min, max] = scale.domain();\n\t\tconst baseTickValues = d3Range(min, max, (max - min) / tickInterval);\n\n\t\ttickValues = tickIntervalFunction\n\t\t\t? tickIntervalFunction(min, max, tickInterval)\n\t\t\t: baseTickValues;\n\t} else if (isDefined(scale.ticks)) {\n\t\ttickValues = scale.ticks(tickArguments, flexTicks);\n\t} else {\n\t\ttickValues = scale.domain();\n\t}\n\n\tconst baseFormat = scale.tickFormat\n\t\t? scale.tickFormat(tickArguments)\n\t\t: identity;\n\n\tconst format = isNotDefined(tickFormat)\n\t\t? baseFormat\n\t\t: d => tickFormat(d) || \"\";\n\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tconst tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n\n\tlet ticks, dy, canvas_dy, textAnchor;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\tdy = sign < 0 ? \"0em\" : \".71em\";\n\t\tcanvas_dy = sign < 0 ? 0 : (fontSize * .71);\n\t\ttextAnchor = \"middle\";\n\n\t\tticks = tickValues.map(d => {\n\t\t\tconst x = Math.round(scale(d));\n\t\t\treturn {\n\t\t\t\tvalue: d,\n\t\t\t\tx1: x,\n\t\t\t\ty1: 0,\n\t\t\t\tx2: x,\n\t\t\t\ty2: sign * innerTickSize,\n\t\t\t\tlabelX: x,\n\t\t\t\tlabelY: sign * tickSpacing,\n\t\t\t};\n\t\t});\n\n\t\tif (showTicks && flexTicks) {\n\t\t\t// console.log(ticks, showTicks);\n\n\t\t\tconst nodes = ticks.map(d => ({ id: d.value, value: d.value, fy: d.y2, origX: d.x1 }));\n\n\t\t\tconst simulation = forceSimulation(nodes)\n\t\t\t\t.force(\"x\", forceX(d => d.origX).strength(1))\n\t\t\t\t.force(\"collide\", forceCollide(22))\n\t\t\t\t// .force(\"center\", forceCenter())\n\t\t\t\t.stop();\n\n\t\t\tfor (let i = 0; i < 100; ++i) simulation.tick();\n\t\t\t// console.log(nodes);\n\n\t\t\tconst zip = zipper()\n\t\t\t\t.combine((a, b) => {\n\t\t\t\t\tif (Math.abs(b.x - b.origX) > 0.01) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t\tx2: b.x,\n\t\t\t\t\t\t\tlabelX: b.x\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t});\n\n\t\t\tticks = zip(ticks, nodes);\n\t\t}\n\n\n\t} else {\n\t\tticks = tickValues.map(d => {\n\t\t\tconst y = Math.round(scale(d));\n\t\t\treturn {\n\t\t\t\tvalue: d,\n\t\t\t\tx1: 0,\n\t\t\t\ty1: y,\n\t\t\t\tx2: sign * innerTickSize,\n\t\t\t\ty2: y,\n\t\t\t\tlabelX: sign * tickSpacing,\n\t\t\t\tlabelY: y,\n\t\t\t};\n\t\t});\n\n\t\tdy = \".32em\";\n\t\tcanvas_dy = (fontSize * .32);\n\t\ttextAnchor = sign < 0 ? \"end\" : \"start\";\n\t}\n\n\treturn {\n\t\tticks, scale, tickStroke,\n\t\ttickLabelFill: (tickLabelFill || tickStroke),\n\t\ttickStrokeOpacity,\n\t\ttickStrokeWidth,\n\t\ttickStrokeDasharray,\n\t\tdy,\n\t\tcanvas_dy,\n\t\ttextAnchor,\n\t\tfontSize,\n\t\tfontFamily,\n\t\tfontWeight,\n\t\tformat,\n\t\tshowTickLabel,\n\t};\n}\n\n/* eslint-disable react/prop-types */\nfunction axisLineSVG(props, range) {\n\tconst { orient, outerTickSize } = props;\n\tconst { domainClassName, fill, stroke, strokeWidth, opacity } = props;\n\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\n\tlet d;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n\t} else {\n\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n\t}\n\n\treturn (\n\t\t<path\n\t\t\tclassName={domainClassName}\n\t\t\td={d}\n\t\t\tfill={fill}\n\t\t\topacity={opacity}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={strokeWidth} >\n\t\t</path>\n\t);\n}\n/* eslint-enable react/prop-types */\n\n\nfunction drawAxisLine(ctx, props, range) {\n\t// props = { ...AxisLine.defaultProps, ...props };\n\n\tconst { orient, outerTickSize, stroke, strokeWidth, opacity } = props;\n\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tconst xAxis = (orient === \"bottom\" || orient === \"top\");\n\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n\tctx.lineWidth = strokeWidth;\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\tctx.beginPath();\n\n\tif (xAxis) {\n\t\tctx.moveTo(first(range), sign * outerTickSize);\n\t\tctx.lineTo(first(range), 0);\n\t\tctx.lineTo(last(range), 0);\n\t\tctx.lineTo(last(range), sign * outerTickSize);\n\t} else {\n\t\tctx.moveTo(sign * outerTickSize, first(range));\n\t\tctx.lineTo(0, first(range));\n\t\tctx.lineTo(0, last(range));\n\t\tctx.lineTo(sign * outerTickSize, last(range));\n\t}\n\tctx.stroke();\n}\n\nfunction Tick(props) {\n\tconst { tickLabelFill, tickStroke, tickStrokeOpacity, tickStrokeDasharray, tickStrokeWidth, textAnchor, fontSize, fontFamily, fontWeight } = props;\n\tconst { x1, y1, x2, y2, labelX, labelY, dy } = props;\n\treturn (\n\t\t<g className=\"tick\">\n\t\t\t<line\n\t\t\t\tshapeRendering=\"crispEdges\"\n\t\t\t\topacity={tickStrokeOpacity}\n\t\t\t\tstroke={tickStroke}\n\t\t\t\tstrokeWidth={tickStrokeWidth}\n\t\t\t\tstrokeDasharray={getStrokeDasharray(tickStrokeDasharray)}\n\t\t\t\tx1={x1} y1={y1}\n\t\t\t\tx2={x2} y2={y2} />\n\t\t\t<text\n\t\t\t\tdy={dy} x={labelX} y={labelY}\n\t\t\t\tfill={tickLabelFill}\n\t\t\t\tfontSize={fontSize}\n\t\t\t\tfontWeight={fontWeight}\n\t\t\t\tfontFamily={fontFamily}\n\t\t\t\ttextAnchor={textAnchor}>\n\t\t\t\t{props.children}\n\t\t\t</text>\n\t\t</g>\n\t);\n}\n\nTick.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n\tx1: PropTypes.number.isRequired,\n\ty1: PropTypes.number.isRequired,\n\tx2: PropTypes.number.isRequired,\n\ty2: PropTypes.number.isRequired,\n\tlabelX: PropTypes.number.isRequired,\n\tlabelY: PropTypes.number.isRequired,\n\tdy: PropTypes.string.isRequired,\n\ttickStroke: PropTypes.string,\n\ttickLabelFill: PropTypes.string,\n\ttickStrokeWidth: PropTypes.number,\n\ttickStrokeOpacity: PropTypes.number,\n\ttickStrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\ttextAnchor: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tfontWeight: PropTypes.oneOfType([\n\t  PropTypes.string,\n\t  PropTypes.number\n\t]),\n};\n\nfunction axisTicksSVG(props, scale) {\n\tconst result = tickHelper(props, scale);\n\n\tconst { tickLabelFill, tickStroke, tickStrokeOpacity, tickStrokeWidth, tickStrokeDasharray, textAnchor } = result;\n\tconst { fontSize, fontFamily, fontWeight, ticks, format } = result;\n\n\tconst { dy } = result;\n\n\treturn (\n\t\t<g>\n\t\t\t{ticks.map((tick, idx) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Tick key={idx}\n\t\t\t\t\t\ttickStroke={tickStroke}\n\t\t\t\t\t\ttickLabelFill={tickLabelFill}\n\t\t\t\t\t\ttickStrokeWidth={tickStrokeWidth}\n\t\t\t\t\t\ttickStrokeOpacity={tickStrokeOpacity}\n\t\t\t\t\t\ttickStrokeDasharray={tickStrokeDasharray}\n\t\t\t\t\t\tdy={dy}\n\t\t\t\t\t\tx1={tick.x1} y1={tick.y1}\n\t\t\t\t\t\tx2={tick.x2} y2={tick.y2}\n\t\t\t\t\t\tlabelX={tick.labelX} labelY={tick.labelY}\n\t\t\t\t\t\ttextAnchor={textAnchor}\n\t\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\t\tfontFamily={fontFamily}>{format(tick.value)}</Tick>\n\t\t\t\t);\n\t\t\t})}\n\t\t</g>\n\t);\n}\n\nfunction drawTicks(ctx, result) {\n\n\tconst { tickStroke, tickStrokeOpacity, tickLabelFill } = result;\n\tconst { textAnchor, fontSize, fontFamily, fontWeight, ticks, showTickLabel } = result;\n\n\tctx.strokeStyle = hexToRGBA(tickStroke, tickStrokeOpacity);\n\n\tctx.fillStyle = tickStroke;\n\t// ctx.textBaseline = 'middle';\n\n\tticks.forEach((tick) => {\n\t\tdrawEachTick(ctx, tick, result);\n\t});\n\n\tctx.font = `${fontWeight} ${fontSize}px ${fontFamily}`;\n\tctx.fillStyle = tickLabelFill;\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tif (showTickLabel) {\n\t\tticks.forEach((tick) => {\n\t\t\tdrawEachTickLabel(ctx, tick, result);\n\t\t});\n\t}\n}\n\nfunction drawEachTick(ctx, tick, result) {\n\tconst { tickStrokeWidth, tickStrokeDasharray } = result;\n\n\tctx.beginPath();\n\n\tctx.moveTo(tick.x1, tick.y1);\n\tctx.lineTo(tick.x2, tick.y2);\n\tctx.lineWidth = tickStrokeWidth;\n\tctx.setLineDash(getStrokeDasharray(tickStrokeDasharray).split(\",\"));\n\tctx.stroke();\n}\n\nfunction drawEachTickLabel(ctx, tick, result) {\n\tconst { canvas_dy, format } = result;\n\n\tctx.beginPath();\n\tctx.fillText(format(tick.value), tick.labelX, tick.labelY + canvas_dy);\n}\n\nexport default Axis;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;;AACA,IAAAC,UAAA,GAAAD,OAAA;;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,IAAAG,QAAA,GAAAH,OAAA;AAEA,IAAAI,sBAAA,GAAAJ,OAAA;;AACA,IAAAK,iBAAA,GAAAL,OAAA;AACA,IAAAM,gBAAA,GAAAN,OAAA;;AAEA,IAAAO,MAAA,GAAAP,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMQ,I;;EACL,SAAAA,KAAYC,KAAZ,EAAmB;IAAAC,eAAA,OAAAF,IAAA;IAAA,IAAAG,KAAA,GAAAC,0BAAA,QAAAJ,IAAA,CAAAK,SAAA,IAAAC,MAAA,CAAAC,cAAA,CAAAP,IAAA,GAAAQ,IAAA,OACZP,KADY;IAElBE,KAAA,CAAKM,SAAL,GAAiBN,KAAA,CAAKM,SAAL,CAAeC,IAAf,CAAAP,KAAA,CAAjB;IACAA,KAAA,CAAKQ,YAAL,GAAoBR,KAAA,CAAKQ,YAAL,CAAkBD,IAAlB,CAAAP,KAAA,CAApB;IACAA,KAAA,CAAKS,QAAL,GAAgBT,KAAA,CAAKS,QAAL,CAAcF,IAAd,CAAAP,KAAA,CAAhB;IACAA,KAAA,CAAKU,YAAL,GAAoBV,KAAA,CAAKU,YAAL,CAAkBH,IAAlB,CAAAP,KAAA,CAApB;IALkB,OAAAA,KAAA;EAMlB;;;6BACQW,I,EAAM;MACd,KAAKA,IAAL,GAAYA,IAAZ;IACA;;;mCACc;MACd,OAAO,KAAKA,IAAL,CAAUD,YAAV,EAAP;IACA;;;iCACYE,G,EAAKC,S,EAAW;MAAA,IAAAC,MAAA,GACkC,KAAKhB,KADvC;QACpBiB,UADoB,GAAAD,MAAA,CACpBC,UADoB;QACRC,SADQ,GAAAF,MAAA,CACRE,SADQ;QACGC,SADH,GAAAH,MAAA,CACGG,SADH;QACcC,KADd,GAAAJ,MAAA,CACcI,KADd;QACqBC,QADrB,GAAAL,MAAA,CACqBK,QADrB;MAG5BP,GAAA,CAAIQ,IAAJ;MACAR,GAAA,CAAIS,SAAJ,CAAcJ,SAAA,CAAU,CAAV,CAAd,EAA4BA,SAAA,CAAU,CAAV,CAA5B;MAEA,IAAIF,UAAJ,EAAgBO,YAAA,CAAaV,GAAb,EAAkB,KAAKd,KAAvB,EAA8BoB,KAA9B;MAChB,IAAIF,SAAJ,EAAe;QACd,IAAMO,SAAA,GAAYC,UAAA,CAAW,KAAK1B,KAAhB,EAAuBqB,QAAA,CAASN,SAAT,CAAvB,CAAlB;QACAY,SAAA,CAAUb,GAAV,EAAeW,SAAf;MACA;MAEDX,GAAA,CAAIc,OAAJ;IACA;;;8BACSb,S,EAAW;MAAA,IACZc,SADY,GACE,KAAK7B,KADP,CACZ6B,SADY;MAAA,IAAAC,OAAA,GAE+B,KAAK9B,KAFpC;QAEZiB,UAFY,GAAAa,OAAA,CAEZb,UAFY;QAEAC,SAFA,GAAAY,OAAA,CAEAZ,SAFA;QAEWE,KAFX,GAAAU,OAAA,CAEWV,KAFX;QAEkBC,QAFlB,GAAAS,OAAA,CAEkBT,QAFlB;MAIpB,IAAMU,KAAA,GAAQb,SAAA,GAAYc,YAAA,CAAa,KAAKhC,KAAlB,EAAyBqB,QAAA,CAASN,SAAT,CAAzB,CAAZ,GAA4D,IAA1E;MACA,IAAMkB,MAAA,GAAShB,UAAA,GAAaiB,WAAA,CAAY,KAAKlC,KAAjB,EAAwBoB,KAAxB,CAAb,GAA8C,IAA7D;MAEA,OAAOe,OAAA,CAAAC,OAAA,CAAAC,aAAA;QAAGR,SAAA,EAAWA;MAAd,GACLE,KADK,EAELE,MAFK,CAAP;IAIA;;;6BACQ;MAAA,IAAAK,OAAA,GAC0F,KAAKtC,KAD/F;QACAuC,EADA,GAAAD,OAAA,CACAC,EADA;QACIC,gBADJ,GAAAF,OAAA,CACIE,gBADJ;QACsBX,SADtB,GAAAS,OAAA,CACsBT,SADtB;QACiCY,mBADjC,GAAAH,OAAA,CACiCG,mBADjC;QACsDC,WADtD,GAAAJ,OAAA,CACsDI,WADtD;QACmErB,QADnE,GAAAiB,OAAA,CACmEjB,QADnE;QAC6EsB,QAD7E,GAAAL,OAAA,CAC6EK,QAD7E;MAAA,IAAAC,OAAA,GAEuC,KAAK5C,KAF5C;QAEAmB,SAFA,GAAAyB,OAAA,CAEAzB,SAFA;QAEW0B,aAFX,GAAAD,OAAA,CAEWC,aAFX;QAE0BC,QAF1B,GAAAF,OAAA,CAE0BE,QAF1B;MAAA,IAAAC,OAAA,GAGiC,KAAK/C,KAHtC;QAGAgD,aAHA,GAAAD,OAAA,CAGAC,aAHA;QAGeC,aAHf,GAAAF,OAAA,CAGeE,aAHf;MAKR,IAAMC,WAAA,GAAcR,WAAA,GACjBP,OAAA,CAAAC,OAAA,CAAAC,aAAA,CAAAc,iBAAA,CAAAf,OAAA;QACDG,EAAA,EAAIA,EADH;QAEDlB,QAAA,EAAUA,QAFT;QAGDT,YAAA,EAAc,KAAKA,YAHlB;QAIDiC,aAAA,EAAeA,aAJd;QAKDL,gBAAA,EAAkBA,gBALjB;QAMDX,SAAA,EAAWA,SANV;QAODY,mBAAA,EAAqBA,mBAPpB;QAQDE,QAAA,EAAUA,QART;QASDK,aAAA,EAAeA,aATd;QAUDC,aAAA,EAAeA;MAVd,EADiB,GAajB,IAbH;MAeA,OAAOd,OAAA,CAAAC,OAAA,CAAAC,aAAA;QAAGlB,SAAA,iBAAyBA,SAAA,CAAU,CAAV,CAAzB,UAA4CA,SAAA,CAAU,CAAV,CAA5C;MAAH,GACL+B,WADK,EAENf,OAAA,CAAAC,OAAA,CAAAC,aAAA,CAAAe,uBAAA,CAAAhB,OAAA;QAAuBiB,GAAA,EAAK,KAAK1C,QAAjC;QACC2C,YAAA,EAAA1D,iBAAA,CAAA2D,aADD;QAECC,IAAA,EAAM,KAFP;QAGCV,QAAA,EAAUA,QAHX;QAICW,OAAA,EAAS,KAAKjD,SAJf;QAKCkD,UAAA,EAAY,KAAKhD,YALlB;QAMCiD,MAAA,EAAQ,CAAC,KAAD;MANT,EAFM,CAAP;IAWA;;;;AAGF5D,IAAA,CAAK6D,SAAL,GAAiB;EAChBC,aAAA,EAAeC,WAAA,CAAA1B,OAAA,CAAU2B,MADT;EAEhBC,aAAA,EAAeF,WAAA,CAAA1B,OAAA,CAAU2B,MAFT;EAGhBE,UAAA,EAAYH,WAAA,CAAA1B,OAAA,CAAU8B,IAHN;EAIhBC,WAAA,EAAaL,WAAA,CAAA1B,OAAA,CAAU2B,MAJP;EAKhBK,QAAA,EAAUN,WAAA,CAAA1B,OAAA,CAAU2B,MALJ;EAMhBhC,KAAA,EAAO+B,WAAA,CAAA1B,OAAA,CAAU2B,MAND;EAOhBM,aAAA,EAAeP,WAAA,CAAA1B,OAAA,CAAUkC,MAPT;EAQhBC,UAAA,EAAYT,WAAA,CAAA1B,OAAA,CAAUkC,MARN;EAShBE,iBAAA,EAAmBV,WAAA,CAAA1B,OAAA,CAAU2B,MATb;EAUhBU,eAAA,EAAiBX,WAAA,CAAA1B,OAAA,CAAU2B,MAVX;EAWhBW,mBAAA,EAAqBZ,WAAA,CAAA1B,OAAA,CAAUuC,KAAV,CAAA7E,MAAA,CAAA8E,eAAA,CAXL;EAYhBC,UAAA,EAAYf,WAAA,CAAA1B,OAAA,CAAU0C,SAAV,CAAoB,CAAChB,WAAA,CAAA1B,OAAA,CAAU2C,KAAX,EAAkBjB,WAAA,CAAA1B,OAAA,CAAU8B,IAA5B,CAApB,CAZI;EAahBc,YAAA,EAAclB,WAAA,CAAA1B,OAAA,CAAU2B,MAbR;EAchBkB,oBAAA,EAAsBnB,WAAA,CAAA1B,OAAA,CAAU8B,IAdhB;EAehBjD,UAAA,EAAY6C,WAAA,CAAA1B,OAAA,CAAU8C,IAfN;EAgBhBhE,SAAA,EAAW4C,WAAA,CAAA1B,OAAA,CAAU8C,IAhBL;EAiBhBrD,SAAA,EAAWiC,WAAA,CAAA1B,OAAA,CAAUkC,MAjBL;EAkBhB9B,gBAAA,EAAkBsB,WAAA,CAAA1B,OAAA,CAAU8B,IAlBZ;EAmBhBxB,WAAA,EAAaoB,WAAA,CAAA1B,OAAA,CAAU8C,IAnBP;EAoBhBvC,QAAA,EAAUmB,WAAA,CAAA1B,OAAA,CAAU8C,IApBJ;EAqBhBzC,mBAAA,EAAqBqB,WAAA,CAAA1B,OAAA,CAAUkC,MArBf;EAsBhBnD,SAAA,EAAW2C,WAAA,CAAA1B,OAAA,CAAU+C,OAAV,CAAkBrB,WAAA,CAAA1B,OAAA,CAAU2B,MAA5B,EAAoCqB,UAtB/B;EAuBhBhE,KAAA,EAAO0C,WAAA,CAAA1B,OAAA,CAAU+C,OAAV,CAAkBrB,WAAA,CAAA1B,OAAA,CAAU2B,MAA5B,EAAoCqB,UAvB3B;EAwBhBvC,aAAA,EAAeiB,WAAA,CAAA1B,OAAA,CAAU8B,IAAV,CAAekB,UAxBd;EAyBhB/D,QAAA,EAAUyC,WAAA,CAAA1B,OAAA,CAAU8B,IAAV,CAAekB,UAzBT;EA0BhB7C,EAAA,EAAIuB,WAAA,CAAA1B,OAAA,CAAUiD,MAAV,CAAiBD,UA1BL;EA2BhBtC,QAAA,EAAUgB,WAAA,CAAA1B,OAAA,CAAU8C,IAAV,CAAeE,UA3BT;EA4BhBpC,aAAA,EAAec,WAAA,CAAA1B,OAAA,CAAU8B,IA5BT;EA6BhBjB,aAAA,EAAea,WAAA,CAAA1B,OAAA,CAAU8B;AA7BT,CAAjB;AAgCAnE,IAAA,CAAKuF,YAAL,GAAoB;EACnB5C,WAAA,EAAa,KADM;EAEnBD,mBAAA,EAAqB,EAFF;EAGnBK,QAAA,EAAU;AAHS,CAApB;AAMA,SAASpB,UAATA,CAAoB1B,KAApB,EAA2BuF,KAA3B,EAAkC;EAAA,IAEhCC,MAFgC,GAM7BxF,KAN6B,CAEhCwF,MAFgC;IAExB3B,aAFwB,GAM7B7D,KAN6B,CAExB6D,aAFwB;IAETI,UAFS,GAM7BjE,KAN6B,CAETiE,UAFS;IAEGE,WAFH,GAM7BnE,KAN6B,CAEGmE,WAFH;IAGhCE,aAHgC,GAM7BrE,KAN6B,CAGhCqE,aAHgC;IAGjBI,eAHiB,GAM7BzE,KAN6B,CAGjByE,eAHiB;IAGAC,mBAHA,GAM7B1E,KAN6B,CAGA0E,mBAHA;IAIhCe,QAJgC,GAM7BzF,KAN6B,CAIhCyF,QAJgC;IAItBC,UAJsB,GAM7B1F,KAN6B,CAItB0F,UAJsB;IAIVC,UAJU,GAM7B3F,KAN6B,CAIV2F,UAJU;IAIEzE,SAJF,GAM7BlB,KAN6B,CAIEkB,SAJF;IAIa0E,SAJb,GAM7B5F,KAN6B,CAIa4F,SAJb;IAKhCC,aALgC,GAM7B7F,KAN6B,CAKhC6F,aALgC;EAAA,IAQzBC,aARyB,GAU7B9F,KAV6B,CAQhC+B,KARgC;IAQEgE,cARF,GAU7B/F,KAV6B,CAQV6E,UARU;IAShCN,UATgC,GAU7BvE,KAV6B,CAShCuE,UATgC;IASpBC,iBAToB,GAU7BxE,KAV6B,CASpBwE,iBAToB;IASDQ,YATC,GAU7BhF,KAV6B,CASDgF,YATC;IASaC,oBATb,GAU7BjF,KAV6B,CASaiF,oBATb;;EAYjC;;EAEA,IAAIJ,UAAA,SAAJ;EACA,IAAI,IAAA/E,MAAA,CAAAkG,SAAA,EAAUD,cAAV,CAAJ,EAA+B;IAC9B,IAAI,OAAOA,cAAP,KAA0B,UAA9B,EAA0C;MACzClB,UAAA,GAAakB,cAAA,CAAeR,KAAA,CAAMtD,MAAN,EAAf,CAAb;IACA,CAFD,MAEO;MACN4C,UAAA,GAAakB,cAAb;IACA;EACD,CAND,MAMO,IAAI,IAAAjG,MAAA,CAAAkG,SAAA,EAAUhB,YAAV,CAAJ,EAA6B;IAAA,IAAAiB,aAAA,GAChBV,KAAA,CAAMtD,MAAN,EADgB;MAAAiE,cAAA,GAAAC,cAAA,CAAAF,aAAA;MAC5BG,GAD4B,GAAAF,cAAA;MACvBG,GADuB,GAAAH,cAAA;IAEnC,IAAMI,cAAA,GAAiB,IAAA5G,QAAA,CAAA0B,KAAA,EAAQgF,GAAR,EAAaC,GAAb,EAAkB,CAACA,GAAA,GAAMD,GAAP,IAAcpB,YAAhC,CAAvB;IAEAH,UAAA,GAAaI,oBAAA,GACVA,oBAAA,CAAqBmB,GAArB,EAA0BC,GAA1B,EAA+BrB,YAA/B,CADU,GAEVsB,cAFH;EAGA,CAPM,MAOA,IAAI,IAAAxG,MAAA,CAAAkG,SAAA,EAAUT,KAAA,CAAMxD,KAAhB,CAAJ,EAA4B;IAClC8C,UAAA,GAAaU,KAAA,CAAMxD,KAAN,CAAY+D,aAAZ,EAA2BF,SAA3B,CAAb;EACA,CAFM,MAEA;IACNf,UAAA,GAAaU,KAAA,CAAMtD,MAAN,EAAb;EACA;EAED,IAAMsE,UAAA,GAAahB,KAAA,CAAMtB,UAAN,GAChBsB,KAAA,CAAMtB,UAAN,CAAiB6B,aAAjB,CADgB,GAAAhG,MAAA,CAAA0G,QAAnB;EAIA,IAAMC,MAAA,GAAS,IAAA3G,MAAA,CAAA4G,YAAA,EAAazC,UAAb,IACZsC,UADY,GAEZ,UAAAI,CAAA;IAAA,OAAK1C,UAAA,CAAW0C,CAAX,KAAiB,EAAtB;EAAA,CAFH;EAIA,IAAMC,IAAA,GAAOpB,MAAA,KAAW,KAAX,IAAoBA,MAAA,KAAW,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAA1D;EACA,IAAMqB,WAAA,GAAcC,IAAA,CAAKT,GAAL,CAASxC,aAAT,EAAwB,CAAxB,IAA6BM,WAAjD;EAEA,IAAIpC,KAAA,SAAJ;IAAWgF,EAAA,SAAX;IAAeC,SAAA,SAAf;IAA0BC,UAAA,SAA1B;EAEA,IAAIzB,MAAA,KAAW,QAAX,IAAuBA,MAAA,KAAW,KAAtC,EAA6C;IAC5CuB,EAAA,GAAKH,IAAA,GAAO,CAAP,GAAW,KAAX,GAAmB,OAAxB;IACAI,SAAA,GAAYJ,IAAA,GAAO,CAAP,GAAW,CAAX,GAAgBnB,QAAA,GAAW,GAAvC;IACAwB,UAAA,GAAa,QAAb;IAEAlF,KAAA,GAAQ8C,UAAA,CAAWqC,GAAX,CAAe,UAAAP,CAAA,EAAK;MAC3B,IAAMQ,CAAA,GAAIL,IAAA,CAAKM,KAAL,CAAW7B,KAAA,CAAMoB,CAAN,CAAX,CAAV;MACA,OAAO;QACNU,KAAA,EAAOV,CADD;QAENW,EAAA,EAAIH,CAFE;QAGNI,EAAA,EAAI,CAHE;QAINC,EAAA,EAAIL,CAJE;QAKNM,EAAA,EAAIb,IAAA,GAAO/C,aALL;QAMN6D,MAAA,EAAQP,CANF;QAONQ,MAAA,EAAQf,IAAA,GAAOC;MAPT,CAAP;IASA,CAXO,CAAR;IAaA,IAAI3F,SAAA,IAAa0E,SAAjB,EAA4B;MAC3B;;MAEA,IAAMgC,KAAA,GAAQ7F,KAAA,CAAMmF,GAAN,CAAU,UAAAP,CAAA;QAAA,OAAM;UAAEkB,EAAA,EAAIlB,CAAA,CAAEU,KAAR;UAAeA,KAAA,EAAOV,CAAA,CAAEU,KAAxB;UAA+BS,EAAA,EAAInB,CAAA,CAAEc,EAArC;UAAyCM,KAAA,EAAOpB,CAAA,CAAEW;QAAlD,CAAN;MAAA,CAAV,CAAd;MAEA,IAAMU,UAAA,GAAa,IAAAvI,QAAA,CAAAwI,eAAA,EAAgBL,KAAhB,EACjBM,KADiB,CACX,GADW,EACN,IAAAzI,QAAA,CAAA0I,MAAA,EAAO,UAAAxB,CAAA;QAAA,OAAKA,CAAA,CAAEoB,KAAP;MAAA,CAAP,EAAqBK,QAArB,CAA8B,CAA9B,CADM,EAEjBF,KAFiB,CAEX,SAFW,EAEA,IAAAzI,QAAA,CAAA4I,YAAA,EAAa,EAAb,CAFA;MAGlB;MAAA,CACCC,IAJiB,EAAnB;MAMA,KAAK,IAAIC,CAAA,GAAI,CAAb,EAAgBA,CAAA,GAAI,GAApB,EAAyB,EAAEA,CAA3B;QAA8BP,UAAA,CAAWQ,IAAX;MAA9B,CAX2B,CAY3B;;MAEA,IAAMC,GAAA,GAAM,IAAA3I,MAAA,CAAA4I,MAAA,IACVC,OADU,CACF,UAACC,CAAD,EAAIC,CAAJ,EAAU;QAClB,IAAI/B,IAAA,CAAKgC,GAAL,CAASD,CAAA,CAAE1B,CAAF,GAAM0B,CAAA,CAAEd,KAAjB,IAA0B,IAA9B,EAAoC;UACnC,OAAAgB,QAAA,KACIH,CADJ;YAECpB,EAAA,EAAIqB,CAAA,CAAE1B,CAFP;YAGCO,MAAA,EAAQmB,CAAA,CAAE1B;UAHX;QAKA;QACD,OAAOyB,CAAP;MACA,CAVU,CAAZ;MAYA7G,KAAA,GAAQ0G,GAAA,CAAI1G,KAAJ,EAAW6F,KAAX,CAAR;IACA;EAGD,CAhDD,MAgDO;IACN7F,KAAA,GAAQ8C,UAAA,CAAWqC,GAAX,CAAe,UAAAP,CAAA,EAAK;MAC3B,IAAMqC,CAAA,GAAIlC,IAAA,CAAKM,KAAL,CAAW7B,KAAA,CAAMoB,CAAN,CAAX,CAAV;MACA,OAAO;QACNU,KAAA,EAAOV,CADD;QAENW,EAAA,EAAI,CAFE;QAGNC,EAAA,EAAIyB,CAHE;QAINxB,EAAA,EAAIZ,IAAA,GAAO/C,aAJL;QAKN4D,EAAA,EAAIuB,CALE;QAMNtB,MAAA,EAAQd,IAAA,GAAOC,WANT;QAONc,MAAA,EAAQqB;MAPF,CAAP;IASA,CAXO,CAAR;IAaAjC,EAAA,GAAK,OAAL;IACAC,SAAA,GAAavB,QAAA,GAAW,GAAxB;IACAwB,UAAA,GAAaL,IAAA,GAAO,CAAP,GAAW,KAAX,GAAmB,OAAhC;EACA;EAED,OAAO;IACN7E,KAAA,EAAAA,KADM;IACCwD,KAAA,EAAAA,KADD;IACQhB,UAAA,EAAAA,UADR;IAENF,aAAA,EAAgBA,aAAA,IAAiBE,UAF3B;IAGNC,iBAAA,EAAAA,iBAHM;IAINC,eAAA,EAAAA,eAJM;IAKNC,mBAAA,EAAAA,mBALM;IAMNqC,EAAA,EAAAA,EANM;IAONC,SAAA,EAAAA,SAPM;IAQNC,UAAA,EAAAA,UARM;IASNxB,QAAA,EAAAA,QATM;IAUNC,UAAA,EAAAA,UAVM;IAWNC,UAAA,EAAAA,UAXM;IAYNc,MAAA,EAAAA,MAZM;IAaNZ,aAAA,EAAAA;EAbM,CAAP;AAeA;;AAED;AACA,SAAS3D,WAATA,CAAqBlC,KAArB,EAA4BoB,KAA5B,EAAmC;EAAA,IAC1BoE,MAD0B,GACAxF,KADA,CAC1BwF,MAD0B;IAClBxB,aADkB,GACAhE,KADA,CAClBgE,aADkB;EAAA,IAE1BiF,eAF0B,GAE8BjJ,KAF9B,CAE1BiJ,eAF0B;IAETC,IAFS,GAE8BlJ,KAF9B,CAETkJ,IAFS;IAEHC,MAFG,GAE8BnJ,KAF9B,CAEHmJ,MAFG;IAEKC,WAFL,GAE8BpJ,KAF9B,CAEKoJ,WAFL;IAEkBC,OAFlB,GAE8BrJ,KAF9B,CAEkBqJ,OAFlB;EAIlC,IAAMzC,IAAA,GAAOpB,MAAA,KAAW,KAAX,IAAoBA,MAAA,KAAW,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAA1D;EAEA,IAAImB,CAAA,SAAJ;EAEA,IAAInB,MAAA,KAAW,QAAX,IAAuBA,MAAA,KAAW,KAAtC,EAA6C;IAC5CmB,CAAA,GAAI,MAAMvF,KAAA,CAAM,CAAN,CAAN,GAAiB,GAAjB,GAAuBwF,IAAA,GAAO5C,aAA9B,GAA8C,KAA9C,GAAsD5C,KAAA,CAAM,CAAN,CAAtD,GAAiE,GAAjE,GAAuEwF,IAAA,GAAO5C,aAAlF;EACA,CAFD,MAEO;IACN2C,CAAA,GAAI,MAAMC,IAAA,GAAO5C,aAAb,GAA6B,GAA7B,GAAmC5C,KAAA,CAAM,CAAN,CAAnC,GAA8C,KAA9C,GAAsDA,KAAA,CAAM,CAAN,CAAtD,GAAiE,GAAjE,GAAuEwF,IAAA,GAAO5C,aAAlF;EACA;EAED,OACC7B,OAAA,CAAAC,OAAA,CAAAC,aAAA;IACCR,SAAA,EAAWoH,eADZ;IAECtC,CAAA,EAAGA,CAFJ;IAGCuC,IAAA,EAAMA,IAHP;IAICG,OAAA,EAASA,OAJV;IAKCF,MAAA,EAAQA,MALT;IAMCC,WAAA,EAAaA;EANd,EADD;AAUA;AACD;;AAGA,SAAS5H,YAATA,CAAsBV,GAAtB,EAA2Bd,KAA3B,EAAkCoB,KAAlC,EAAyC;EACxC;;EADwC,IAGhCoE,MAHgC,GAGwBxF,KAHxB,CAGhCwF,MAHgC;IAGxBxB,aAHwB,GAGwBhE,KAHxB,CAGxBgE,aAHwB;IAGTmF,MAHS,GAGwBnJ,KAHxB,CAGTmJ,MAHS;IAGDC,WAHC,GAGwBpJ,KAHxB,CAGDoJ,WAHC;IAGYC,OAHZ,GAGwBrJ,KAHxB,CAGYqJ,OAHZ;EAKxC,IAAMzC,IAAA,GAAOpB,MAAA,KAAW,KAAX,IAAoBA,MAAA,KAAW,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAA1D;EACA,IAAM8D,KAAA,GAAS9D,MAAA,KAAW,QAAX,IAAuBA,MAAA,KAAW,KAAjD;;EAEA;;EAEA1E,GAAA,CAAIyI,SAAJ,GAAgBH,WAAhB;EACAtI,GAAA,CAAI0I,WAAJ,GAAkB,IAAA1J,MAAA,CAAA2J,SAAA,EAAUN,MAAV,EAAkBE,OAAlB,CAAlB;EAEAvI,GAAA,CAAI4I,SAAJ;EAEA,IAAIJ,KAAJ,EAAW;IACVxI,GAAA,CAAI6I,MAAJ,CAAW,IAAA7J,MAAA,CAAA8J,KAAA,EAAMxI,KAAN,CAAX,EAAyBwF,IAAA,GAAO5C,aAAhC;IACAlD,GAAA,CAAI+I,MAAJ,CAAW,IAAA/J,MAAA,CAAA8J,KAAA,EAAMxI,KAAN,CAAX,EAAyB,CAAzB;IACAN,GAAA,CAAI+I,MAAJ,CAAW,IAAA/J,MAAA,CAAAgK,IAAA,EAAK1I,KAAL,CAAX,EAAwB,CAAxB;IACAN,GAAA,CAAI+I,MAAJ,CAAW,IAAA/J,MAAA,CAAAgK,IAAA,EAAK1I,KAAL,CAAX,EAAwBwF,IAAA,GAAO5C,aAA/B;EACA,CALD,MAKO;IACNlD,GAAA,CAAI6I,MAAJ,CAAW/C,IAAA,GAAO5C,aAAlB,EAAiC,IAAAlE,MAAA,CAAA8J,KAAA,EAAMxI,KAAN,CAAjC;IACAN,GAAA,CAAI+I,MAAJ,CAAW,CAAX,EAAc,IAAA/J,MAAA,CAAA8J,KAAA,EAAMxI,KAAN,CAAd;IACAN,GAAA,CAAI+I,MAAJ,CAAW,CAAX,EAAc,IAAA/J,MAAA,CAAAgK,IAAA,EAAK1I,KAAL,CAAd;IACAN,GAAA,CAAI+I,MAAJ,CAAWjD,IAAA,GAAO5C,aAAlB,EAAiC,IAAAlE,MAAA,CAAAgK,IAAA,EAAK1I,KAAL,CAAjC;EACA;EACDN,GAAA,CAAIqI,MAAJ;AACA;AAED,SAASY,IAATA,CAAc/J,KAAd,EAAqB;EAAA,IACZqE,aADY,GACyHrE,KADzH,CACZqE,aADY;IACGE,UADH,GACyHvE,KADzH,CACGuE,UADH;IACeC,iBADf,GACyHxE,KADzH,CACewE,iBADf;IACkCE,mBADlC,GACyH1E,KADzH,CACkC0E,mBADlC;IACuDD,eADvD,GACyHzE,KADzH,CACuDyE,eADvD;IACwEwC,UADxE,GACyHjH,KADzH,CACwEiH,UADxE;IACoFxB,QADpF,GACyHzF,KADzH,CACoFyF,QADpF;IAC8FC,UAD9F,GACyH1F,KADzH,CAC8F0F,UAD9F;IAC0GC,UAD1G,GACyH3F,KADzH,CAC0G2F,UAD1G;EAAA,IAEZ2B,EAFY,GAE2BtH,KAF3B,CAEZsH,EAFY;IAERC,EAFQ,GAE2BvH,KAF3B,CAERuH,EAFQ;IAEJC,EAFI,GAE2BxH,KAF3B,CAEJwH,EAFI;IAEAC,EAFA,GAE2BzH,KAF3B,CAEAyH,EAFA;IAEIC,MAFJ,GAE2B1H,KAF3B,CAEI0H,MAFJ;IAEYC,MAFZ,GAE2B3H,KAF3B,CAEY2H,MAFZ;IAEoBZ,EAFpB,GAE2B/G,KAF3B,CAEoB+G,EAFpB;EAGpB,OACC5E,OAAA,CAAAC,OAAA,CAAAC,aAAA;IAAGR,SAAA,EAAU;EAAb,GACCM,OAAA,CAAAC,OAAA,CAAAC,aAAA;IACC2H,cAAA,EAAe,YADhB;IAECX,OAAA,EAAS7E,iBAFV;IAGC2E,MAAA,EAAQ5E,UAHT;IAIC6E,WAAA,EAAa3E,eAJd;IAKCwF,eAAA,EAAiB,IAAAnK,MAAA,CAAAoK,kBAAA,EAAmBxF,mBAAnB,CALlB;IAMC4C,EAAA,EAAIA,EANL;IAMSC,EAAA,EAAIA,EANb;IAOCC,EAAA,EAAIA,EAPL;IAOSC,EAAA,EAAIA;EAPb,EADD,EASCtF,OAAA,CAAAC,OAAA,CAAAC,aAAA;IACC0E,EAAA,EAAIA,EADL;IACSI,CAAA,EAAGO,MADZ;IACoBsB,CAAA,EAAGrB,MADvB;IAECuB,IAAA,EAAM7E,aAFP;IAGCoB,QAAA,EAAUA,QAHX;IAICE,UAAA,EAAYA,UAJb;IAKCD,UAAA,EAAYA,UALb;IAMCuB,UAAA,EAAYA;EANb,GAOEjH,KAAA,CAAMmK,QAPR,CATD,CADD;AAqBA;AAEDJ,IAAA,CAAKnG,SAAL,GAAiB;EAChBuG,QAAA,EAAUrG,WAAA,CAAA1B,OAAA,CAAUkC,MAAV,CAAiBc,UADX;EAEhBkC,EAAA,EAAIxD,WAAA,CAAA1B,OAAA,CAAU2B,MAAV,CAAiBqB,UAFL;EAGhBmC,EAAA,EAAIzD,WAAA,CAAA1B,OAAA,CAAU2B,MAAV,CAAiBqB,UAHL;EAIhBoC,EAAA,EAAI1D,WAAA,CAAA1B,OAAA,CAAU2B,MAAV,CAAiBqB,UAJL;EAKhBqC,EAAA,EAAI3D,WAAA,CAAA1B,OAAA,CAAU2B,MAAV,CAAiBqB,UALL;EAMhBsC,MAAA,EAAQ5D,WAAA,CAAA1B,OAAA,CAAU2B,MAAV,CAAiBqB,UANT;EAOhBuC,MAAA,EAAQ7D,WAAA,CAAA1B,OAAA,CAAU2B,MAAV,CAAiBqB,UAPT;EAQhB2B,EAAA,EAAIjD,WAAA,CAAA1B,OAAA,CAAUkC,MAAV,CAAiBc,UARL;EAShBb,UAAA,EAAYT,WAAA,CAAA1B,OAAA,CAAUkC,MATN;EAUhBD,aAAA,EAAeP,WAAA,CAAA1B,OAAA,CAAUkC,MAVT;EAWhBG,eAAA,EAAiBX,WAAA,CAAA1B,OAAA,CAAU2B,MAXX;EAYhBS,iBAAA,EAAmBV,WAAA,CAAA1B,OAAA,CAAU2B,MAZb;EAahBW,mBAAA,EAAqBZ,WAAA,CAAA1B,OAAA,CAAUuC,KAAV,CAAA7E,MAAA,CAAA8E,eAAA,CAbL;EAchBqC,UAAA,EAAYnD,WAAA,CAAA1B,OAAA,CAAUkC,MAdN;EAehBmB,QAAA,EAAU3B,WAAA,CAAA1B,OAAA,CAAU2B,MAfJ;EAgBhB2B,UAAA,EAAY5B,WAAA,CAAA1B,OAAA,CAAUkC,MAhBN;EAiBhBqB,UAAA,EAAY7B,WAAA,CAAA1B,OAAA,CAAU0C,SAAV,CAAoB,CAC9BhB,WAAA,CAAA1B,OAAA,CAAUkC,MADoB,EAE9BR,WAAA,CAAA1B,OAAA,CAAU2B,MAFoB,CAApB;AAjBI,CAAjB;AAuBA,SAAS/B,YAATA,CAAsBhC,KAAtB,EAA6BuF,KAA7B,EAAoC;EACnC,IAAM6E,MAAA,GAAS1I,UAAA,CAAW1B,KAAX,EAAkBuF,KAAlB,CAAf;EADmC,IAG3BlB,aAH2B,GAGwE+F,MAHxE,CAG3B/F,aAH2B;IAGZE,UAHY,GAGwE6F,MAHxE,CAGZ7F,UAHY;IAGAC,iBAHA,GAGwE4F,MAHxE,CAGA5F,iBAHA;IAGmBC,eAHnB,GAGwE2F,MAHxE,CAGmB3F,eAHnB;IAGoCC,mBAHpC,GAGwE0F,MAHxE,CAGoC1F,mBAHpC;IAGyDuC,UAHzD,GAGwEmD,MAHxE,CAGyDnD,UAHzD;EAAA,IAI3BxB,QAJ2B,GAIyB2E,MAJzB,CAI3B3E,QAJ2B;IAIjBC,UAJiB,GAIyB0E,MAJzB,CAIjB1E,UAJiB;IAILC,UAJK,GAIyByE,MAJzB,CAILzE,UAJK;IAIO5D,KAJP,GAIyBqI,MAJzB,CAIOrI,KAJP;IAIc0E,MAJd,GAIyB2D,MAJzB,CAIc3D,MAJd;EAAA,IAM3BM,EAN2B,GAMpBqD,MANoB,CAM3BrD,EAN2B;EAQnC,OACC5E,OAAA,CAAAC,OAAA,CAAAC,aAAA,YACEN,KAAA,CAAMmF,GAAN,CAAU,UAACsB,IAAD,EAAO6B,GAAP,EAAe;IACzB,OACClI,OAAA,CAAAC,OAAA,CAAAC,aAAA,CAAC0H,IAAD;MAAMO,GAAA,EAAKD,GAAX;MACC9F,UAAA,EAAYA,UADb;MAECF,aAAA,EAAeA,aAFhB;MAGCI,eAAA,EAAiBA,eAHlB;MAICD,iBAAA,EAAmBA,iBAJpB;MAKCE,mBAAA,EAAqBA,mBALtB;MAMCqC,EAAA,EAAIA,EANL;MAOCO,EAAA,EAAIkB,IAAA,CAAKlB,EAPV;MAOcC,EAAA,EAAIiB,IAAA,CAAKjB,EAPvB;MAQCC,EAAA,EAAIgB,IAAA,CAAKhB,EARV;MAQcC,EAAA,EAAIe,IAAA,CAAKf,EARvB;MASCC,MAAA,EAAQc,IAAA,CAAKd,MATd;MASsBC,MAAA,EAAQa,IAAA,CAAKb,MATnC;MAUCV,UAAA,EAAYA,UAVb;MAWCxB,QAAA,EAAUA,QAXX;MAYCE,UAAA,EAAYA,UAZb;MAaCD,UAAA,EAAYA;IAbb,GAa0Be,MAAA,CAAO+B,IAAA,CAAKnB,KAAZ,CAb1B,CADD;EAgBA,CAjBA,CADF,CADD;AAsBA;AAED,SAAS1F,SAATA,CAAmBb,GAAnB,EAAwBsJ,MAAxB,EAAgC;EAAA,IAEvB7F,UAFuB,GAE0B6F,MAF1B,CAEvB7F,UAFuB;IAEXC,iBAFW,GAE0B4F,MAF1B,CAEX5F,iBAFW;IAEQH,aAFR,GAE0B+F,MAF1B,CAEQ/F,aAFR;EAAA,IAGvB4C,UAHuB,GAGgDmD,MAHhD,CAGvBnD,UAHuB;IAGXxB,QAHW,GAGgD2E,MAHhD,CAGX3E,QAHW;IAGDC,UAHC,GAGgD0E,MAHhD,CAGD1E,UAHC;IAGWC,UAHX,GAGgDyE,MAHhD,CAGWzE,UAHX;IAGuB5D,KAHvB,GAGgDqI,MAHhD,CAGuBrI,KAHvB;IAG8B8D,aAH9B,GAGgDuE,MAHhD,CAG8BvE,aAH9B;EAK/B/E,GAAA,CAAI0I,WAAJ,GAAkB,IAAA1J,MAAA,CAAA2J,SAAA,EAAUlF,UAAV,EAAsBC,iBAAtB,CAAlB;EAEA1D,GAAA,CAAIyJ,SAAJ,GAAgBhG,UAAhB;EACA;;EAEAxC,KAAA,CAAMyI,OAAN,CAAc,UAAChC,IAAD,EAAU;IACvBiC,YAAA,CAAa3J,GAAb,EAAkB0H,IAAlB,EAAwB4B,MAAxB;EACA,CAFD;EAIAtJ,GAAA,CAAI4J,IAAJ,GAAc/E,UAAd,SAA4BF,QAA5B,WAA0CC,UAA1C;EACA5E,GAAA,CAAIyJ,SAAJ,GAAgBlG,aAAhB;EACAvD,GAAA,CAAI6J,SAAJ,GAAgB1D,UAAA,KAAe,QAAf,GAA0B,QAA1B,GAAqCA,UAArD;EAEA,IAAIpB,aAAJ,EAAmB;IAClB9D,KAAA,CAAMyI,OAAN,CAAc,UAAChC,IAAD,EAAU;MACvBoC,iBAAA,CAAkB9J,GAAlB,EAAuB0H,IAAvB,EAA6B4B,MAA7B;IACA,CAFD;EAGA;AACD;AAED,SAASK,YAATA,CAAsB3J,GAAtB,EAA2B0H,IAA3B,EAAiC4B,MAAjC,EAAyC;EAAA,IAChC3F,eADgC,GACS2F,MADT,CAChC3F,eADgC;IACfC,mBADe,GACS0F,MADT,CACf1F,mBADe;EAGxC5D,GAAA,CAAI4I,SAAJ;EAEA5I,GAAA,CAAI6I,MAAJ,CAAWnB,IAAA,CAAKlB,EAAhB,EAAoBkB,IAAA,CAAKjB,EAAzB;EACAzG,GAAA,CAAI+I,MAAJ,CAAWrB,IAAA,CAAKhB,EAAhB,EAAoBgB,IAAA,CAAKf,EAAzB;EACA3G,GAAA,CAAIyI,SAAJ,GAAgB9E,eAAhB;EACA3D,GAAA,CAAI+J,WAAJ,CAAgB,IAAA/K,MAAA,CAAAoK,kBAAA,EAAmBxF,mBAAnB,EAAwCoG,KAAxC,CAA8C,GAA9C,CAAhB;EACAhK,GAAA,CAAIqI,MAAJ;AACA;AAED,SAASyB,iBAATA,CAA2B9J,GAA3B,EAAgC0H,IAAhC,EAAsC4B,MAAtC,EAA8C;EAAA,IACrCpD,SADqC,GACfoD,MADe,CACrCpD,SADqC;IAC1BP,MAD0B,GACf2D,MADe,CAC1B3D,MAD0B;EAG7C3F,GAAA,CAAI4I,SAAJ;EACA5I,GAAA,CAAIiK,QAAJ,CAAatE,MAAA,CAAO+B,IAAA,CAAKnB,KAAZ,CAAb,EAAiCmB,IAAA,CAAKd,MAAtC,EAA8Cc,IAAA,CAAKb,MAAL,GAAcX,SAA5D;AACA;kBAEcjH,I","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}