{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nexports.default = fitDimensions;\nvar _react = require(\"react\");\nvar _react2 = _interopRequireDefault(_react);\nvar _reactDom = require(\"react-dom\");\nvar _reactDom2 = _interopRequireDefault(_reactDom);\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nfunction getDisplayName(Series) {\n  var name = Series.displayName || Series.name || \"Series\";\n  return name;\n}\nfunction fitDimensions(WrappedComponent) {\n  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _props$minWidth = props.minWidth,\n    minWidth = _props$minWidth === undefined ? 100 : _props$minWidth,\n    _props$minHeight = props.minHeight,\n    minHeight = _props$minHeight === undefined ? 100 : _props$minHeight,\n    ratio = props.ratio,\n    width = props.width,\n    height = props.height;\n  function getDimensions(el) {\n    var w = el.parentNode.clientWidth;\n    var h = el.parentNode.clientHeight;\n    return {\n      width: (0, _utils.isDefined)(width) ? width : Math.max(w, minWidth),\n      height: (0, _utils.isDefined)(height) ? height : Math.max(h, minHeight)\n    };\n  }\n  var ResponsiveComponent = function (_Component) {\n    _inherits(ResponsiveComponent, _Component);\n    function ResponsiveComponent(props) {\n      _classCallCheck(this, ResponsiveComponent);\n      var _this = _possibleConstructorReturn(this, (ResponsiveComponent.__proto__ || Object.getPrototypeOf(ResponsiveComponent)).call(this, props));\n      _this.handleWindowResize = _this.handleWindowResize.bind(_this);\n      _this.getWrappedInstance = _this.getWrappedInstance.bind(_this);\n      _this.saveNode = _this.saveNode.bind(_this);\n      _this.setTestCanvas = _this.setTestCanvas.bind(_this);\n      _this.state = {};\n      return _this;\n    }\n    _createClass(ResponsiveComponent, [{\n      key: \"saveNode\",\n      value: function saveNode(node) {\n        this.node = node;\n      }\n    }, {\n      key: \"setTestCanvas\",\n      value: function setTestCanvas(node) {\n        this.testCanvas = node;\n      }\n    }, {\n      key: \"getRatio\",\n      value: function getRatio() {\n        if ((0, _utils.isDefined)(this.testCanvas)) {\n          var context = this.testCanvas.getContext(\"2d\");\n          var devicePixelRatio = window.devicePixelRatio || 1;\n          var backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n          var _ratio = devicePixelRatio / backingStoreRatio;\n          // console.log(\"ratio = \", ratio);\n          return _ratio;\n        }\n        return 1;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        window.addEventListener(\"resize\", this.handleWindowResize);\n        var dimensions = getDimensions(this.node);\n\n        /* eslint-disable react/no-did-mount-set-state */\n        this.setState(_extends({}, dimensions, {\n          ratio: (0, _utils.isDefined)(ratio) ? ratio : this.getRatio()\n        }));\n        /* eslint-enable react/no-did-mount-set-state */\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        window.removeEventListener(\"resize\", this.handleWindowResize);\n      }\n    }, {\n      key: \"handleWindowResize\",\n      value: function handleWindowResize() {\n        var node = _reactDom2.default.findDOMNode(this.node); // eslint-disable-line react/no-find-dom-node\n        this.setState(getDimensions(node));\n      }\n    }, {\n      key: \"getWrappedInstance\",\n      value: function getWrappedInstance() {\n        return this.node;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var ref = {\n          ref: this.saveNode\n        };\n        if (this.state.width) {\n          return _react2.default.createElement(WrappedComponent, _extends({\n            height: this.state.height,\n            width: this.state.width,\n            ratio: this.state.ratio\n          }, this.props, ref));\n        } else {\n          return _react2.default.createElement(\"div\", ref, _react2.default.createElement(\"canvas\", {\n            ref: this.setTestCanvas\n          }));\n        }\n      }\n    }]);\n    return ResponsiveComponent;\n  }(_react.Component);\n  ResponsiveComponent.displayName = \"fitDimensions(\" + getDisplayName(WrappedComponent) + \")\";\n  return ResponsiveComponent;\n}","map":{"version":3,"names":["fitDimensions","_react","require","_reactDom","_utils","getDisplayName","Series","name","displayName","WrappedComponent","props","arguments","length","undefined","_props$minWidth","minWidth","_props$minHeight","minHeight","ratio","width","height","getDimensions","el","w","parentNode","clientWidth","h","clientHeight","isDefined","Math","max","ResponsiveComponent","_Component","_inherits","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","handleWindowResize","bind","getWrappedInstance","saveNode","setTestCanvas","state","_createClass","key","value","node","testCanvas","getRatio","context","getContext","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","_ratio","componentDidMount","addEventListener","dimensions","setState","_extends","componentWillUnmount","removeEventListener","_reactDom2","default","findDOMNode","render","ref","_react2","createElement","Component"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\src\\lib\\helper\\fitDimensions.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { isDefined } from \"../utils\";\n\nfunction getDisplayName(Series) {\n\tconst name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\nexport default function fitDimensions(WrappedComponent, props = {}) {\n\n\tconst {\n\t\tminWidth = 100,\n\t\tminHeight = 100,\n\t\tratio,\n\t\twidth,\n\t\theight,\n\t} = props;\n\n\tfunction getDimensions(el) {\n\t\tconst w = el.parentNode.clientWidth;\n\t\tconst h = el.parentNode.clientHeight;\n\n\t\treturn {\n\t\t\twidth: isDefined(width) ? width : Math.max(w, minWidth),\n\t\t\theight: isDefined(height) ? height : Math.max(h, minHeight),\n\t\t};\n\t}\n\tclass ResponsiveComponent extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.handleWindowResize = this.handleWindowResize.bind(this);\n\t\t\tthis.getWrappedInstance = this.getWrappedInstance.bind(this);\n\t\t\tthis.saveNode = this.saveNode.bind(this);\n\t\t\tthis.setTestCanvas = this.setTestCanvas.bind(this);\n\t\t\tthis.state = {};\n\t\t}\n\t\tsaveNode(node) {\n\t\t\tthis.node = node;\n\t\t}\n\t\tsetTestCanvas(node) {\n\t\t\tthis.testCanvas = node;\n\t\t}\n\t\tgetRatio() {\n\t\t\tif (isDefined(this.testCanvas)) {\n\t\t\t\tconst context = this.testCanvas.getContext(\"2d\");\n\n\t\t\t\tconst devicePixelRatio = window.devicePixelRatio || 1;\n\t\t\t\tconst backingStoreRatio = context.webkitBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.mozBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.msBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.oBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.backingStorePixelRatio || 1;\n\n\t\t\t\tconst ratio = devicePixelRatio / backingStoreRatio;\n\t\t\t\t// console.log(\"ratio = \", ratio);\n\t\t\t\treturn ratio;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\t\tcomponentDidMount() {\n\t\t\twindow.addEventListener(\"resize\", this.handleWindowResize);\n\t\t\tconst dimensions = getDimensions(this.node);\n\n\t\t\t/* eslint-disable react/no-did-mount-set-state */\n\t\t\tthis.setState({\n\t\t\t\t...dimensions,\n\t\t\t\tratio: isDefined(ratio) ? ratio : this.getRatio(),\n\t\t\t});\n\t\t\t/* eslint-enable react/no-did-mount-set-state */\n\t\t}\n\t\tcomponentWillUnmount() {\n\t\t\twindow.removeEventListener(\"resize\", this.handleWindowResize);\n\t\t}\n\t\thandleWindowResize() {\n\t\t\tconst node = ReactDOM.findDOMNode(this.node); // eslint-disable-line react/no-find-dom-node\n\t\t\tthis.setState(getDimensions(node));\n\t\t}\n\t\tgetWrappedInstance() {\n\t\t\treturn this.node;\n\t\t}\n\t\trender() {\n\t\t\tconst ref = { ref: this.saveNode };\n\n\t\t\tif (this.state.width) {\n\t\t\t\treturn <WrappedComponent\n\t\t\t\t\theight={this.state.height}\n\t\t\t\t\twidth={this.state.width}\n\t\t\t\t\tratio={this.state.ratio}\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t{...ref}\n\t\t\t\t/>;\n\t\t\t} else {\n\t\t\t\treturn <div {...ref}>\n\t\t\t\t\t<canvas ref={this.setTestCanvas}  />\n\t\t\t\t</div>;\n\t\t\t}\n\t\t}\n\t}\n\n\tResponsiveComponent.displayName = `fitDimensions(${ getDisplayName(WrappedComponent) })`;\n\n\treturn ResponsiveComponent;\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}