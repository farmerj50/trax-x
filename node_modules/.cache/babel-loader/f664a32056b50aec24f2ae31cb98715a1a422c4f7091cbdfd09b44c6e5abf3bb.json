{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _react = require(\"react\");\nvar _react2 = _interopRequireDefault(_react);\nvar _propTypes = require(\"prop-types\");\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _d3Selection = require(\"d3-selection\");\nvar _d3Array = require(\"d3-array\");\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar AxisZoomCapture = function (_Component) {\n  _inherits(AxisZoomCapture, _Component);\n  function AxisZoomCapture(props) {\n    _classCallCheck(this, AxisZoomCapture);\n    var _this = _possibleConstructorReturn(this, (AxisZoomCapture.__proto__ || Object.getPrototypeOf(AxisZoomCapture)).call(this, props));\n    _this.handleDragStartMouse = _this.handleDragStartMouse.bind(_this);\n    _this.handleDragStartTouch = _this.handleDragStartTouch.bind(_this);\n    _this.handleDrag = _this.handleDrag.bind(_this);\n    _this.handleDragEnd = _this.handleDragEnd.bind(_this);\n    _this.handleRightClick = _this.handleRightClick.bind(_this);\n    _this.saveNode = _this.saveNode.bind(_this);\n    _this.state = {\n      startPosition: null\n    };\n    return _this;\n  }\n  _createClass(AxisZoomCapture, [{\n    key: \"saveNode\",\n    value: function saveNode(node) {\n      this.node = node;\n    }\n  }, {\n    key: \"handleRightClick\",\n    value: function handleRightClick(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var onContextMenu = this.props.onContextMenu;\n      var mouseXY = (0, _utils.mousePosition)(e, this.node.getBoundingClientRect());\n      (0, _d3Selection.select)((0, _utils.d3Window)(this.node)).on(_utils.MOUSEMOVE, null).on(_utils.MOUSEUP, null);\n      this.setState({\n        startPosition: null\n      });\n      onContextMenu(mouseXY, e);\n      this.contextMenuClicked = true;\n    }\n  }, {\n    key: \"handleDragStartMouse\",\n    value: function handleDragStartMouse(e) {\n      this.mouseInteraction = true;\n      var _props = this.props,\n        getScale = _props.getScale,\n        getMoreProps = _props.getMoreProps;\n      var startScale = getScale(getMoreProps());\n      this.dragHappened = false;\n      if (startScale.invert) {\n        (0, _d3Selection.select)((0, _utils.d3Window)(this.node)).on(_utils.MOUSEMOVE, this.handleDrag, false).on(_utils.MOUSEUP, this.handleDragEnd, false);\n        var startXY = (0, _utils.mousePosition)(e);\n        this.setState({\n          startPosition: {\n            startXY: startXY,\n            startScale: startScale\n          }\n        });\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"handleDragStartTouch\",\n    value: function handleDragStartTouch(e) {\n      this.mouseInteraction = false;\n      var _props2 = this.props,\n        getScale = _props2.getScale,\n        getMoreProps = _props2.getMoreProps;\n      var startScale = getScale(getMoreProps());\n      this.dragHappened = false;\n      if (e.touches.length === 1 && startScale.invert) {\n        (0, _d3Selection.select)((0, _utils.d3Window)(this.node)).on(_utils.TOUCHMOVE, this.handleDrag).on(_utils.TOUCHEND, this.handleDragEnd);\n        var startXY = (0, _utils.touchPosition)((0, _utils.getTouchProps)(e.touches[0]), e);\n        this.setState({\n          startPosition: {\n            startXY: startXY,\n            startScale: startScale\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleDrag\",\n    value: function handleDrag() {\n      var startPosition = this.state.startPosition;\n      var _props3 = this.props,\n        getMouseDelta = _props3.getMouseDelta,\n        inverted = _props3.inverted;\n      this.dragHappened = true;\n      if ((0, _utils.isDefined)(startPosition)) {\n        var startScale = startPosition.startScale;\n        var startXY = startPosition.startXY;\n        var mouseXY = this.mouseInteraction ? (0, _d3Selection.mouse)(this.node) : (0, _d3Selection.touches)(this.node)[0];\n        var diff = getMouseDelta(startXY, mouseXY);\n        var center = (0, _d3Array.mean)(startScale.range());\n        var tempRange = startScale.range().map(function (d) {\n          return inverted ? d - (0, _utils.sign)(d - center) * diff : d + (0, _utils.sign)(d - center) * diff;\n        });\n        var newDomain = tempRange.map(startScale.invert);\n        if ((0, _utils.sign)((0, _utils.last)(startScale.range()) - (0, _utils.first)(startScale.range())) === (0, _utils.sign)((0, _utils.last)(tempRange) - (0, _utils.first)(tempRange))) {\n          var axisZoomCallback = this.props.axisZoomCallback;\n          // console.log(startXScale.domain(), newXDomain)\n\n          axisZoomCallback(newDomain);\n        }\n      }\n    }\n  }, {\n    key: \"handleDragEnd\",\n    value: function handleDragEnd() {\n      var _this2 = this;\n      if (!this.dragHappened) {\n        if (this.clicked) {\n          var e = _d3Selection.event;\n          var mouseXY = this.mouseInteraction ? (0, _d3Selection.mouse)(this.node) : (0, _d3Selection.touches)(this.node)[0];\n          var onDoubleClick = this.props.onDoubleClick;\n          onDoubleClick(mouseXY, e);\n        } else {\n          this.clicked = true;\n          setTimeout(function () {\n            _this2.clicked = false;\n          }, 300);\n        }\n      }\n      (0, _d3Selection.select)((0, _utils.d3Window)(this.node)).on(_utils.MOUSEMOVE, null).on(_utils.MOUSEUP, null).on(_utils.TOUCHMOVE, null).on(_utils.TOUCHEND, null);\n      this.setState({\n        startPosition: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props4 = this.props,\n        bg = _props4.bg,\n        className = _props4.className,\n        zoomCursorClassName = _props4.zoomCursorClassName;\n      var cursor = (0, _utils.isDefined)(this.state.startPosition) ? zoomCursorClassName : \"react-stockcharts-default-cursor\";\n      return _react2.default.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction \" + cursor + \" \" + className,\n        ref: this.saveNode,\n        x: bg.x,\n        y: bg.y,\n        opacity: 0,\n        height: bg.h,\n        width: bg.w,\n        onContextMenu: this.handleRightClick,\n        onMouseDown: this.handleDragStartMouse,\n        onTouchStart: this.handleDragStartTouch\n      });\n    }\n  }]);\n  return AxisZoomCapture;\n}(_react.Component);\nAxisZoomCapture.propTypes = {\n  innerTickSize: _propTypes2.default.number,\n  outerTickSize: _propTypes2.default.number,\n  tickFormat: _propTypes2.default.func,\n  tickPadding: _propTypes2.default.number,\n  tickSize: _propTypes2.default.number,\n  ticks: _propTypes2.default.number,\n  tickValues: _propTypes2.default.array,\n  showDomain: _propTypes2.default.bool,\n  showTicks: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  axisZoomCallback: _propTypes2.default.func,\n  inverted: _propTypes2.default.bool,\n  bg: _propTypes2.default.object.isRequired,\n  zoomCursorClassName: _propTypes2.default.string.isRequired,\n  getMoreProps: _propTypes2.default.func.isRequired,\n  getScale: _propTypes2.default.func.isRequired,\n  getMouseDelta: _propTypes2.default.func.isRequired,\n  onDoubleClick: _propTypes2.default.func.isRequired,\n  onContextMenu: _propTypes2.default.func.isRequired\n};\nAxisZoomCapture.defaultProps = {\n  onDoubleClick: _utils.noop,\n  onContextMenu: _utils.noop,\n  inverted: true\n};\nexports.default = AxisZoomCapture;","map":{"version":3,"names":["_react","require","_propTypes","_d3Selection","_d3Array","_utils","AxisZoomCapture","props","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","handleDragStartMouse","bind","handleDragStartTouch","handleDrag","handleDragEnd","handleRightClick","saveNode","state","startPosition","node","e","stopPropagation","preventDefault","onContextMenu","mouseXY","mousePosition","getBoundingClientRect","select","d3Window","on","MOUSEMOVE","MOUSEUP","setState","contextMenuClicked","mouseInteraction","_props","getScale","getMoreProps","startScale","dragHappened","invert","startXY","_props2","touches","length","TOUCHMOVE","TOUCHEND","touchPosition","getTouchProps","_props3","getMouseDelta","inverted","isDefined","mouse","diff","center","mean","range","tempRange","map","d","sign","newDomain","last","first","axisZoomCallback","_this2","clicked","event","onDoubleClick","setTimeout","_props4","bg","className","zoomCursorClassName","cursor","_react2","default","createElement","ref","x","y","opacity","height","h","width","w","onMouseDown","onTouchStart","propTypes","innerTickSize","_propTypes2","number","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","tickValues","array","showDomain","bool","showTicks","string","object","isRequired","defaultProps","noop"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\src\\lib\\axes\\AxisZoomCapture.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { select, event as d3Event, mouse, touches } from \"d3-selection\";\nimport { mean } from \"d3-array\";\n\nimport {\n\tfirst,\n\tlast,\n\tisDefined,\n\tnoop,\n\tmousePosition,\n\td3Window,\n\tMOUSEMOVE,\n\tMOUSEUP,\n\tTOUCHMOVE,\n\tTOUCHEND,\n\ttouchPosition,\n\tgetTouchProps,\n\tsign,\n} from \"../utils\";\n\nclass AxisZoomCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleDragStartMouse = this.handleDragStartMouse.bind(this);\n\t\tthis.handleDragStartTouch = this.handleDragStartTouch.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\tthis.handleRightClick = this.handleRightClick.bind(this);\n\t\tthis.saveNode = this.saveNode.bind(this);\n\t\tthis.state = {\n\t\t\tstartPosition: null\n\t\t};\n\t}\n\tsaveNode(node) {\n\t\tthis.node = node;\n\t}\n\thandleRightClick(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tconst { onContextMenu } = this.props;\n\n\t\tconst mouseXY = mousePosition(e, this.node.getBoundingClientRect());\n\n\t\tselect(d3Window(this.node))\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\t\tthis.setState({\n\t\t\tstartPosition: null,\n\t\t});\n\n\t\tonContextMenu(mouseXY, e);\n\n\t\tthis.contextMenuClicked = true;\n\t}\n\thandleDragStartMouse(e) {\n\t\tthis.mouseInteraction = true;\n\n\t\tconst { getScale, getMoreProps } = this.props;\n\t\tconst startScale = getScale(getMoreProps());\n\t\tthis.dragHappened = false;\n\n\t\tif (startScale.invert) {\n\t\t\tselect(d3Window(this.node))\n\t\t\t\t.on(MOUSEMOVE, this.handleDrag, false)\n\t\t\t\t.on(MOUSEUP, this.handleDragEnd, false);\n\n\t\t\tconst startXY = mousePosition(e);\n\n\t\t\tthis.setState({\n\t\t\t\tstartPosition: {\n\t\t\t\t\tstartXY,\n\t\t\t\t\tstartScale,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\te.preventDefault();\n\t}\n\thandleDragStartTouch(e) {\n\t\tthis.mouseInteraction = false;\n\n\t\tconst { getScale, getMoreProps } = this.props;\n\t\tconst startScale = getScale(getMoreProps());\n\t\tthis.dragHappened = false;\n\n\t\tif (e.touches.length === 1 && startScale.invert) {\n\t\t\tselect(d3Window(this.node))\n\t\t\t\t.on(TOUCHMOVE, this.handleDrag)\n\t\t\t\t.on(TOUCHEND, this.handleDragEnd);\n\n\t\t\tconst startXY = touchPosition(getTouchProps(e.touches[0]), e);\n\n\t\t\tthis.setState({\n\t\t\t\tstartPosition: {\n\t\t\t\t\tstartXY,\n\t\t\t\t\tstartScale,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDrag() {\n\t\tconst { startPosition } = this.state;\n\t\tconst { getMouseDelta, inverted } = this.props;\n\n\t\tthis.dragHappened = true;\n\t\tif (isDefined(startPosition)) {\n\t\t\tconst { startScale } = startPosition;\n\t\t\tconst { startXY } = startPosition;\n\n\t\t\tconst mouseXY = this.mouseInteraction\n\t\t\t\t? mouse(this.node)\n\t\t\t\t: touches(this.node)[0];\n\n\t\t\tconst diff = getMouseDelta(startXY, mouseXY);\n\n\t\t\tconst center = mean(startScale.range());\n\n\t\t\tconst tempRange = startScale.range()\n\t\t\t\t.map(d => inverted ? d - sign(d - center) * diff : d + sign(d - center) * diff);\n\n\t\t\tconst newDomain = tempRange.map(startScale.invert);\n\n\t\t\tif (sign(last(startScale.range()) - first(startScale.range())) === sign(last(tempRange) - first(tempRange))) {\n\n\t\t\t\tconst { axisZoomCallback } = this.props;\n\t\t\t\t// console.log(startXScale.domain(), newXDomain)\n\t\t\t\taxisZoomCallback(newDomain);\n\t\t\t}\n\t\t}\n\t}\n\thandleDragEnd() {\n\n\t\tif (!this.dragHappened) {\n\t\t\tif (this.clicked) {\n\t\t\t\tconst e = d3Event;\n\t\t\t\tconst mouseXY = this.mouseInteraction\n\t\t\t\t\t? mouse(this.node)\n\t\t\t\t\t: touches(this.node)[0];\n\t\t\t\tconst { onDoubleClick } = this.props;\n\n\t\t\t\tonDoubleClick(mouseXY, e);\n\t\t\t} else {\n\t\t\t\tthis.clicked = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clicked = false;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\n\t\tselect(d3Window(this.node))\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null)\n\t\t\t.on(TOUCHMOVE, null)\n\t\t\t.on(TOUCHEND, null);\n\n\t\tthis.setState({\n\t\t\tstartPosition: null,\n\t\t});\n\t}\n\trender() {\n\t\tconst { bg, className, zoomCursorClassName } = this.props;\n\n\t\tconst cursor = isDefined(this.state.startPosition)\n\t\t\t? zoomCursorClassName\n\t\t\t: \"react-stockcharts-default-cursor\";\n\n\t\treturn <rect\n\t\t\tclassName={`react-stockcharts-enable-interaction ${cursor} ${className}`}\n\t\t\tref={this.saveNode}\n\t\t\tx={bg.x} y={bg.y} opacity={0} height={bg.h} width={bg.w}\n\t\t\tonContextMenu={this.handleRightClick}\n\t\t\tonMouseDown={this.handleDragStartMouse}\n\t\t\tonTouchStart={this.handleDragStartTouch}\n\t\t/>;\n\t}\n}\n\nAxisZoomCapture.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\tinverted: PropTypes.bool,\n\tbg: PropTypes.object.isRequired,\n\tzoomCursorClassName: PropTypes.string.isRequired,\n\tgetMoreProps: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n\tonDoubleClick: PropTypes.func.isRequired,\n\tonContextMenu: PropTypes.func.isRequired,\n};\n\nAxisZoomCapture.defaultProps = {\n\tonDoubleClick: noop,\n\tonContextMenu: noop,\n\tinverted: true\n};\n\nexport default AxisZoomCapture;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}