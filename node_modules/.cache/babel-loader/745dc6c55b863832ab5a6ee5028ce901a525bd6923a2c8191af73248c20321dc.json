{"ast":null,"code":"import { zip } from \"d3-array\";\nimport { SmoothedForceIndex as defaultOptions } from \"./defaultOptionsForComputation\";\nimport ema from \"./ema\";\nimport forceIndex from \"./forceIndex\";\nimport sma from \"./sma\";\nexport default function () {\n  const underlyingAlgorithm = forceIndex();\n  let options = defaultOptions;\n  const calculator = data => {\n    const {\n      smoothingType,\n      smoothingWindow\n    } = options;\n    const {\n      sourcePath,\n      volumePath\n    } = options;\n    const algo = underlyingAlgorithm.options({\n      sourcePath,\n      volumePath\n    });\n    // @ts-ignore\n    const force = algo(data);\n    const ma = smoothingType === \"ema\" ? ema() : sma();\n    const forceMA = ma.options({\n      windowSize: smoothingWindow,\n      sourcePath: undefined\n    });\n    // @ts-ignore\n    const smoothed = forceMA(force);\n    return zip(force, smoothed).map(d => ({\n      force: d[0],\n      smoothed: d[1]\n    }));\n  };\n  calculator.undefinedLength = () => {\n    const {\n      smoothingWindow\n    } = options;\n    return underlyingAlgorithm.undefinedLength() + smoothingWindow - 1;\n  };\n  calculator.options = newOptions => {\n    if (newOptions === undefined) {\n      return options;\n    }\n    options = Object.assign(Object.assign({}, defaultOptions), newOptions);\n    return calculator;\n  };\n  return calculator;\n}","map":{"version":3,"names":["zip","SmoothedForceIndex","defaultOptions","ema","forceIndex","sma","underlyingAlgorithm","options","calculator","data","smoothingType","smoothingWindow","sourcePath","volumePath","algo","force","ma","forceMA","windowSize","undefined","smoothed","map","d","undefinedLength","newOptions","Object","assign"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\@react-financial-charts\\indicators\\src\\calculator\\smoothedForceIndex.ts"],"sourcesContent":["import { zip } from \"d3-array\";\nimport { SmoothedForceIndex as defaultOptions } from \"./defaultOptionsForComputation\";\nimport ema from \"./ema\";\nimport forceIndex from \"./forceIndex\";\nimport sma from \"./sma\";\n\nexport default function () {\n    const underlyingAlgorithm = forceIndex();\n\n    let options = defaultOptions;\n\n    const calculator = (data: any[]) => {\n        const { smoothingType, smoothingWindow } = options;\n        const { sourcePath, volumePath } = options;\n\n        const algo = underlyingAlgorithm.options({ sourcePath, volumePath });\n\n        // @ts-ignore\n        const force = algo(data);\n\n        const ma = smoothingType === \"ema\" ? ema() : sma();\n        const forceMA = ma.options({\n            windowSize: smoothingWindow,\n            sourcePath: undefined,\n        });\n\n        // @ts-ignore\n        const smoothed = forceMA(force);\n\n        return zip(force, smoothed).map((d) => ({\n            force: d[0],\n            smoothed: d[1],\n        }));\n    };\n\n    calculator.undefinedLength = () => {\n        const { smoothingWindow } = options;\n\n        return underlyingAlgorithm.undefinedLength() + smoothingWindow - 1;\n    };\n\n    calculator.options = (newOptions?: any) => {\n        if (newOptions === undefined) {\n            return options;\n        }\n\n        options = { ...defaultOptions, ...newOptions };\n\n        return calculator;\n    };\n\n    return calculator;\n}\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,UAAU;AAC9B,SAASC,kBAAkB,IAAIC,cAAc,QAAQ,gCAAgC;AACrF,OAAOC,GAAG,MAAM,OAAO;AACvB,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,GAAG,MAAM,OAAO;AAEvB,eAAc;EACV,MAAMC,mBAAmB,GAAGF,UAAU,EAAE;EAExC,IAAIG,OAAO,GAAGL,cAAc;EAE5B,MAAMM,UAAU,GAAIC,IAAW,IAAI;IAC/B,MAAM;MAAEC,aAAa;MAAEC;IAAe,CAAE,GAAGJ,OAAO;IAClD,MAAM;MAAEK,UAAU;MAAEC;IAAU,CAAE,GAAGN,OAAO;IAE1C,MAAMO,IAAI,GAAGR,mBAAmB,CAACC,OAAO,CAAC;MAAEK,UAAU;MAAEC;IAAU,CAAE,CAAC;IAEpE;IACA,MAAME,KAAK,GAAGD,IAAI,CAACL,IAAI,CAAC;IAExB,MAAMO,EAAE,GAAGN,aAAa,KAAK,KAAK,GAAGP,GAAG,EAAE,GAAGE,GAAG,EAAE;IAClD,MAAMY,OAAO,GAAGD,EAAE,CAACT,OAAO,CAAC;MACvBW,UAAU,EAAEP,eAAe;MAC3BC,UAAU,EAAEO;KACf,CAAC;IAEF;IACA,MAAMC,QAAQ,GAAGH,OAAO,CAACF,KAAK,CAAC;IAE/B,OAAOf,GAAG,CAACe,KAAK,EAAEK,QAAQ,CAAC,CAACC,GAAG,CAAEC,CAAC,KAAM;MACpCP,KAAK,EAAEO,CAAC,CAAC,CAAC,CAAC;MACXF,QAAQ,EAAEE,CAAC,CAAC,CAAC;KAChB,CAAC,CAAC;EACP,CAAC;EAEDd,UAAU,CAACe,eAAe,GAAG,MAAK;IAC9B,MAAM;MAAEZ;IAAe,CAAE,GAAGJ,OAAO;IAEnC,OAAOD,mBAAmB,CAACiB,eAAe,EAAE,GAAGZ,eAAe,GAAG,CAAC;EACtE,CAAC;EAEDH,UAAU,CAACD,OAAO,GAAIiB,UAAgB,IAAI;IACtC,IAAIA,UAAU,KAAKL,SAAS,EAAE;MAC1B,OAAOZ,OAAO;;IAGlBA,OAAO,GAAAkB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAQxB,cAAc,GAAKsB,UAAU,CAAE;IAE9C,OAAOhB,UAAU;EACrB,CAAC;EAED,OAAOA,UAAU;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}