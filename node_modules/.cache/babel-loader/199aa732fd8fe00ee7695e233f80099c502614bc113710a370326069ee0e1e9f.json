{"ast":null,"code":"import { mean } from \"d3-array\";\nimport { slidingWindow } from \"../utils\";\nimport { SMA as defaultOptions } from \"./defaultOptionsForComputation\";\nexport default function () {\n  let options = defaultOptions;\n  const calculator = data => {\n    const {\n      windowSize,\n      sourcePath\n    } = options;\n    const average = slidingWindow().windowSize(windowSize).sourcePath(sourcePath).accumulator(values => mean(values));\n    return average(data);\n  };\n  calculator.undefinedLength = () => {\n    const {\n      windowSize\n    } = options;\n    return windowSize - 1;\n  };\n  calculator.options = newOptions => {\n    if (newOptions === undefined) {\n      return options;\n    }\n    options = Object.assign(Object.assign({}, defaultOptions), newOptions);\n    return calculator;\n  };\n  return calculator;\n}","map":{"version":3,"names":["mean","slidingWindow","SMA","defaultOptions","options","calculator","data","windowSize","sourcePath","average","accumulator","values","undefinedLength","newOptions","undefined","Object","assign"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\@react-financial-charts\\indicators\\src\\calculator\\sma.ts"],"sourcesContent":["import { mean } from \"d3-array\";\nimport { slidingWindow } from \"../utils\";\nimport { SMA as defaultOptions } from \"./defaultOptionsForComputation\";\n\nexport interface SMAOptions {\n    readonly sourcePath?: string;\n    readonly windowSize: number;\n}\n\nexport default function () {\n    let options = defaultOptions;\n\n    const calculator = (data: any[]) => {\n        const { windowSize, sourcePath } = options;\n\n        const average = slidingWindow()\n            .windowSize(windowSize)\n            .sourcePath(sourcePath)\n            .accumulator((values: any[]) => mean(values));\n\n        return average(data);\n    };\n\n    calculator.undefinedLength = () => {\n        const { windowSize } = options;\n\n        return windowSize - 1;\n    };\n\n    calculator.options = (newOptions?: SMAOptions) => {\n        if (newOptions === undefined) {\n            return options;\n        }\n\n        options = { ...defaultOptions, ...newOptions };\n\n        return calculator;\n    };\n\n    return calculator;\n}\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,UAAU;AAC/B,SAASC,aAAa,QAAQ,UAAU;AACxC,SAASC,GAAG,IAAIC,cAAc,QAAQ,gCAAgC;AAOtE,eAAc;EACV,IAAIC,OAAO,GAAGD,cAAc;EAE5B,MAAME,UAAU,GAAIC,IAAW,IAAI;IAC/B,MAAM;MAAEC,UAAU;MAAEC;IAAU,CAAE,GAAGJ,OAAO;IAE1C,MAAMK,OAAO,GAAGR,aAAa,EAAE,CAC1BM,UAAU,CAACA,UAAU,CAAC,CACtBC,UAAU,CAACA,UAAU,CAAC,CACtBE,WAAW,CAAEC,MAAa,IAAKX,IAAI,CAACW,MAAM,CAAC,CAAC;IAEjD,OAAOF,OAAO,CAACH,IAAI,CAAC;EACxB,CAAC;EAEDD,UAAU,CAACO,eAAe,GAAG,MAAK;IAC9B,MAAM;MAAEL;IAAU,CAAE,GAAGH,OAAO;IAE9B,OAAOG,UAAU,GAAG,CAAC;EACzB,CAAC;EAEDF,UAAU,CAACD,OAAO,GAAIS,UAAuB,IAAI;IAC7C,IAAIA,UAAU,KAAKC,SAAS,EAAE;MAC1B,OAAOV,OAAO;;IAGlBA,OAAO,GAAAW,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAQb,cAAc,GAAKU,UAAU,CAAE;IAE9C,OAAOR,UAAU;EACrB,CAAC;EAED,OAAOA,UAAU;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}