{"ast":null,"code":"import * as React from \"react\";\nimport { head, isDefined, mapObject, GenericComponent, getMouseCanvas } from \"@react-financial-charts/core\";\nimport { getMorePropsForChart, getSelected } from \"./utils\";\nexport class DrawingObjectSelector extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.getInteraction = moreProps => {\n      const {\n        getInteractiveNodes,\n        drawingObjectMap\n      } = this.props;\n      const interactiveNodes = getInteractiveNodes();\n      const interactives = mapObject(interactiveNodes, each => {\n        const key = drawingObjectMap[each.type];\n        const valueArray = isDefined(key) ? each.node.props[key] : undefined;\n        const valuePresent = isDefined(valueArray) && Array.isArray(valueArray) && valueArray.length > 0;\n        if (valuePresent) {\n          const morePropsForChart = getMorePropsForChart(moreProps, each.chartId);\n          const objects = each.node.getSelectionState(morePropsForChart);\n          return {\n            type: each.type,\n            chartId: each.chartId,\n            objects\n          };\n        }\n        return {\n          type: each.type,\n          chartId: each.chartId,\n          objects: []\n        };\n      });\n      return interactives;\n    };\n    this.handleClick = (e, moreProps) => {\n      e.preventDefault();\n      const {\n        onSelect\n      } = this.props;\n      const {\n        enabled\n      } = this.props;\n      if (!enabled) {\n        return;\n      }\n      const interactives = this.getInteraction(moreProps);\n      if (onSelect !== undefined) {\n        onSelect(e, interactives, moreProps);\n      }\n    };\n    this.handleDoubleClick = (e, moreProps) => {\n      e.preventDefault();\n      const {\n        onDoubleClick\n      } = this.props;\n      const {\n        enabled\n      } = this.props;\n      if (!enabled) {\n        return;\n      }\n      const interactives = this.getInteraction(moreProps);\n      const allSelected = getSelected(interactives);\n      if (allSelected.length > 0) {\n        const selected = head(allSelected);\n        const item = {\n          type: selected.type,\n          chartId: selected.chartId,\n          object: head(selected.objects)\n        };\n        const morePropsForChart = getMorePropsForChart(moreProps, selected.chartId);\n        if (onDoubleClick !== undefined) {\n          onDoubleClick(e, item, morePropsForChart);\n        }\n      }\n    };\n  }\n  render() {\n    return React.createElement(GenericComponent, {\n      canvasToDraw: getMouseCanvas,\n      onMouseDown: this.handleClick,\n      onDoubleClick: this.handleDoubleClick,\n      drawOn: [\"mousemove\", \"pan\", \"drag\"]\n    });\n  }\n}\nDrawingObjectSelector.defaultProps = {\n  enabled: true\n};","map":{"version":3,"names":["React","head","isDefined","mapObject","GenericComponent","getMouseCanvas","getMorePropsForChart","getSelected","DrawingObjectSelector","Component","constructor","getInteraction","moreProps","getInteractiveNodes","drawingObjectMap","props","interactiveNodes","interactives","each","key","type","valueArray","node","undefined","valuePresent","Array","isArray","length","morePropsForChart","chartId","objects","getSelectionState","handleClick","e","preventDefault","onSelect","enabled","handleDoubleClick","onDoubleClick","allSelected","selected","item","object","render","createElement","canvasToDraw","onMouseDown","drawOn","defaultProps"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\@react-financial-charts\\interactive\\src\\DrawingObjectSelector.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { head, isDefined, mapObject, GenericComponent, getMouseCanvas } from \"@react-financial-charts/core\";\nimport { getMorePropsForChart, getSelected } from \"./utils\";\n\ninterface DrawingObjectSelectorProps {\n    readonly getInteractiveNodes: () => any[];\n    readonly onSelect?: (e: React.MouseEvent, interactives: any[], moreProps: any) => void;\n    readonly onDoubleClick?: (e: React.MouseEvent, item: any, moreProps: any) => void;\n    readonly drawingObjectMap: any;\n    readonly enabled: boolean;\n}\n\nexport class DrawingObjectSelector extends React.Component<DrawingObjectSelectorProps> {\n    public static defaultProps = {\n        enabled: true,\n    };\n\n    public render() {\n        return (\n            <GenericComponent\n                canvasToDraw={getMouseCanvas}\n                onMouseDown={this.handleClick}\n                onDoubleClick={this.handleDoubleClick}\n                drawOn={[\"mousemove\", \"pan\", \"drag\"]}\n            />\n        );\n    }\n\n    private readonly getInteraction = (moreProps: any) => {\n        const { getInteractiveNodes, drawingObjectMap } = this.props;\n        const interactiveNodes = getInteractiveNodes();\n        const interactives = mapObject(interactiveNodes, (each) => {\n            const key = drawingObjectMap[each.type];\n\n            const valueArray = isDefined(key) ? each.node.props[key] : undefined;\n\n            const valuePresent = isDefined(valueArray) && Array.isArray(valueArray) && valueArray.length > 0;\n            if (valuePresent) {\n                const morePropsForChart = getMorePropsForChart(moreProps, each.chartId);\n\n                const objects = each.node.getSelectionState(morePropsForChart);\n\n                return {\n                    type: each.type,\n                    chartId: each.chartId,\n                    objects,\n                };\n            }\n            return {\n                type: each.type,\n                chartId: each.chartId,\n                objects: [],\n            };\n        });\n\n        return interactives;\n    };\n\n    private readonly handleClick = (e: React.MouseEvent, moreProps: any) => {\n        e.preventDefault();\n        const { onSelect } = this.props;\n        const { enabled } = this.props;\n        if (!enabled) {\n            return;\n        }\n\n        const interactives = this.getInteraction(moreProps);\n        if (onSelect !== undefined) {\n            onSelect(e, interactives, moreProps);\n        }\n    };\n\n    private readonly handleDoubleClick = (e: React.MouseEvent, moreProps: any) => {\n        e.preventDefault();\n        const { onDoubleClick } = this.props;\n        const { enabled } = this.props;\n        if (!enabled) {\n            return;\n        }\n\n        const interactives = this.getInteraction(moreProps);\n        const allSelected = getSelected(interactives);\n\n        if (allSelected.length > 0) {\n            const selected = head(allSelected);\n            const item = {\n                type: selected.type,\n                chartId: selected.chartId,\n                object: head(selected.objects),\n            };\n            const morePropsForChart = getMorePropsForChart(moreProps, selected.chartId);\n            if (onDoubleClick !== undefined) {\n                onDoubleClick(e, item, morePropsForChart);\n            }\n        }\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}