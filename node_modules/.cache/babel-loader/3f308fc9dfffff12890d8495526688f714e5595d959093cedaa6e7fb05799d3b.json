{"ast":null,"code":"import { PointAndFigure as defaultOptions } from \"./defaultOptionsForComputation\";\nfunction createBox(d, dateAccessor, dateMutator) {\n  const box = {\n    open: d.open,\n    fromDate: dateAccessor(d),\n    toDate: dateAccessor(d),\n    startOfYear: d.startOfYear,\n    startOfQuarter: d.startOfQuarter,\n    startOfMonth: d.startOfMonth,\n    startOfWeek: d.startOfWeek\n  };\n  dateMutator(box, dateAccessor(d));\n  return box;\n}\nfunction updateColumns(columnData, dateAccessor, dateMutator) {\n  columnData.forEach(function (d) {\n    d.startOfYear = false;\n    d.startOfQuarter = false;\n    d.startOfMonth = false;\n    d.startOfWeek = false;\n    d.boxes.forEach(function (eachBox) {\n      if (d.open === undefined) {\n        d.open = eachBox.open;\n      }\n      d.close = eachBox.close;\n      d.high = Math.max(d.open, d.close);\n      d.low = Math.min(d.open, d.close);\n      if (d.fromDate === undefined) {\n        d.fromDate = eachBox.fromDate;\n      }\n      if (d.date === undefined) {\n        d.date = eachBox.date;\n      }\n      d.toDate = eachBox.toDate;\n      if (eachBox.startOfYear) {\n        d.startOfYear = d.startOfYear || eachBox.startOfYear;\n        d.startOfQuarter = eachBox.startOfQuarter;\n        d.startOfMonth = eachBox.startOfMonth;\n        d.startOfWeek = eachBox.startOfWeek;\n        dateMutator(d, dateAccessor(eachBox));\n      }\n      if (d.startOfQuarter !== true && eachBox.startOfQuarter) {\n        d.startOfQuarter = eachBox.startOfQuarter;\n        d.startOfMonth = eachBox.startOfMonth;\n        d.startOfWeek = eachBox.startOfWeek;\n        dateMutator(d, dateAccessor(eachBox));\n      }\n      if (d.startOfMonth !== true && eachBox.startOfMonth) {\n        d.startOfMonth = eachBox.startOfMonth;\n        d.startOfWeek = eachBox.startOfWeek;\n        dateMutator(d, dateAccessor(eachBox));\n      }\n      if (d.startOfWeek !== true && eachBox.startOfWeek) {\n        d.startOfWeek = eachBox.startOfWeek;\n        dateMutator(d, dateAccessor(eachBox));\n      }\n    });\n  });\n  return columnData;\n}\nexport default function () {\n  let options = defaultOptions;\n  let dateAccessor = d => d.date;\n  let dateMutator = (d, date) => {\n    d.date = date;\n  };\n  const calculator = rawData => {\n    const {\n      reversal,\n      boxSize,\n      sourcePath\n    } = options;\n    const source =\n    // eslint-disable-next-line prettier/prettier\n    sourcePath === \"high/low\" ? d => ({\n      high: d.high,\n      low: d.low\n    }) : d => ({\n      high: d.close,\n      low: d.close\n    });\n    const pricingMethod = source;\n    const columnData = [];\n    // @ts-ignore\n    let column = {\n      boxes: [],\n      open: rawData[0].open\n    };\n    let box = createBox(rawData[0], dateAccessor, dateMutator);\n    columnData.push(column);\n    rawData.forEach(function (d) {\n      // @ts-ignore\n      column.volume = (column.volume || 0) + d.volume;\n      if (!box.startOfYear) {\n        box.startOfYear = d.startOfYear;\n        if (box.startOfYear) {\n          dateMutator(box, dateAccessor(d));\n        }\n      }\n      if (!box.startOfYear && !box.startOfQuarter) {\n        box.startOfQuarter = d.startOfQuarter;\n        if (box.startOfQuarter && !box.startOfYear) {\n          dateMutator(box, dateAccessor(d));\n        }\n      }\n      if (!box.startOfQuarter && !box.startOfMonth) {\n        box.startOfMonth = d.startOfMonth;\n        if (box.startOfMonth && !box.startOfQuarter) {\n          dateMutator(box, dateAccessor(d));\n        }\n      }\n      if (!box.startOfMonth && !box.startOfWeek) {\n        box.startOfWeek = d.startOfWeek;\n        if (box.startOfWeek && !box.startOfMonth) {\n          dateMutator(box, dateAccessor(d));\n        }\n      }\n      if (columnData.length === 1 && column.boxes.length === 0) {\n        const upwardMovement = Math.max(pricingMethod(d).high - column.open, 0); // upward movement\n        const downwardMovement = Math.abs(Math.min(column.open - pricingMethod(d).low, 0)); // downward movement\n        column.direction = upwardMovement > downwardMovement ? 1 : -1;\n        if (boxSize * reversal < upwardMovement || boxSize * reversal < downwardMovement) {\n          // enough movement to trigger a reversal\n          box.toDate = dateAccessor(d);\n          box.open = column.open;\n          const noOfBoxes = column.direction > 0 ? Math.floor(upwardMovement / boxSize) : Math.floor(downwardMovement / boxSize);\n          for (let i = 0; i < noOfBoxes; i++) {\n            // @ts-ignore\n            box.close = box.open + column.direction * boxSize;\n            // @ts-ignore\n            const prevBoxClose = box.close;\n            column.boxes.push(box);\n            box = createBox(box, dateAccessor, dateMutator);\n            // box = cloneMe(box);\n            box.open = prevBoxClose;\n          }\n          box.fromDate = dateAccessor(d);\n          // @ts-ignore\n          box.date = dateAccessor(d);\n        }\n      } else {\n        // one or more boxes already formed in the current column\n        const upwardMovement = Math.max(pricingMethod(d).high - box.open, 0); // upward movement\n        const downwardMovement = Math.abs(Math.min(pricingMethod(d).low - box.open, 0)); // downward movement\n        if (column.direction > 0 && upwardMovement > boxSize /* rising column AND box can be formed */ || column.direction < 0 && downwardMovement > boxSize /* falling column AND box can be formed */) {\n          // form another box\n          // @ts-ignore\n          box.close = box.open + column.direction * boxSize;\n          box.toDate = dateAccessor(d);\n          // @ts-ignore\n          const prevBoxClose = box.close;\n          column.boxes.push(box);\n          box = createBox(d, dateAccessor, dateMutator);\n          box.open = prevBoxClose;\n          box.fromDate = dateAccessor(d);\n          dateMutator(box, dateAccessor(d));\n        } else if (/* rising column and there is downward movement to trigger a reversal */\n        column.direction > 0 && downwardMovement > boxSize * reversal || (/* falling column and there is downward movement to trigger a reversal */\n        column.direction < 0 && upwardMovement > boxSize * reversal)) {\n          // reversal\n          box.open = box.open + -1 * column.direction * boxSize;\n          box.toDate = dateAccessor(d);\n          // box.displayDate = d.displayDate;\n          dateMutator(box, dateAccessor(d));\n          // box.startOfYear = d.startOfYear;\n          // box.startOfQuarter = d.startOfQuarter;\n          // box.startOfMonth = d.startOfMonth;\n          // box.startOfWeek = d.startOfWeek;\n          // var idx = index + 1;\n          column = {\n            boxes: [],\n            // @ts-ignore\n            volume: 0,\n            direction: -1 * column.direction\n          };\n          const noOfBoxes = column.direction > 0 ? Math.floor(upwardMovement / boxSize) : Math.floor(downwardMovement / boxSize);\n          for (let i = 0; i < noOfBoxes; i++) {\n            // @ts-ignore\n            box.close = box.open + column.direction * boxSize;\n            // @ts-ignore\n            const prevBoxClose = box.close;\n            column.boxes.push(box);\n            box = createBox(d, dateAccessor, dateMutator);\n            box.open = prevBoxClose;\n          }\n          columnData.push(column);\n        }\n      }\n    });\n    updateColumns(columnData, dateAccessor, dateMutator);\n    return columnData;\n  };\n  calculator.options = newOptions => {\n    if (newOptions === undefined) {\n      return options;\n    }\n    options = Object.assign(Object.assign({}, defaultOptions), newOptions);\n    return calculator;\n  };\n  calculator.dateMutator = newDateMutator => {\n    if (newDateMutator === undefined) {\n      return dateMutator;\n    }\n    dateMutator = newDateMutator;\n    return calculator;\n  };\n  calculator.dateAccessor = newDateAccessor => {\n    if (newDateAccessor === undefined) {\n      return dateAccessor;\n    }\n    dateAccessor = newDateAccessor;\n    return calculator;\n  };\n  return calculator;\n}","map":{"version":3,"names":["PointAndFigure","defaultOptions","createBox","d","dateAccessor","dateMutator","box","open","fromDate","toDate","startOfYear","startOfQuarter","startOfMonth","startOfWeek","updateColumns","columnData","forEach","boxes","eachBox","undefined","close","high","Math","max","low","min","date","options","calculator","rawData","reversal","boxSize","sourcePath","source","pricingMethod","column","push","volume","length","upwardMovement","downwardMovement","abs","direction","noOfBoxes","floor","i","prevBoxClose","newOptions","Object","assign","newDateMutator","newDateAccessor"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\@react-financial-charts\\indicators\\src\\calculator\\pointAndFigure.ts"],"sourcesContent":["import { PointAndFigure as defaultOptions } from \"./defaultOptionsForComputation\";\n\nfunction createBox(d: any, dateAccessor: any, dateMutator: any) {\n    const box = {\n        open: d.open,\n        fromDate: dateAccessor(d),\n        toDate: dateAccessor(d),\n        startOfYear: d.startOfYear,\n        startOfQuarter: d.startOfQuarter,\n        startOfMonth: d.startOfMonth,\n        startOfWeek: d.startOfWeek,\n    };\n    dateMutator(box, dateAccessor(d));\n    return box;\n}\n\nfunction updateColumns(columnData: any, dateAccessor: any, dateMutator: any) {\n    columnData.forEach(function (d: any) {\n        d.startOfYear = false;\n        d.startOfQuarter = false;\n        d.startOfMonth = false;\n        d.startOfWeek = false;\n\n        d.boxes.forEach(function (eachBox: any) {\n            if (d.open === undefined) {\n                d.open = eachBox.open;\n            }\n            d.close = eachBox.close;\n            d.high = Math.max(d.open, d.close);\n            d.low = Math.min(d.open, d.close);\n\n            if (d.fromDate === undefined) {\n                d.fromDate = eachBox.fromDate;\n            }\n            if (d.date === undefined) {\n                d.date = eachBox.date;\n            }\n            d.toDate = eachBox.toDate;\n\n            if (eachBox.startOfYear) {\n                d.startOfYear = d.startOfYear || eachBox.startOfYear;\n                d.startOfQuarter = eachBox.startOfQuarter;\n                d.startOfMonth = eachBox.startOfMonth;\n                d.startOfWeek = eachBox.startOfWeek;\n\n                dateMutator(d, dateAccessor(eachBox));\n            }\n            if (d.startOfQuarter !== true && eachBox.startOfQuarter) {\n                d.startOfQuarter = eachBox.startOfQuarter;\n                d.startOfMonth = eachBox.startOfMonth;\n                d.startOfWeek = eachBox.startOfWeek;\n                dateMutator(d, dateAccessor(eachBox));\n            }\n            if (d.startOfMonth !== true && eachBox.startOfMonth) {\n                d.startOfMonth = eachBox.startOfMonth;\n                d.startOfWeek = eachBox.startOfWeek;\n                dateMutator(d, dateAccessor(eachBox));\n            }\n            if (d.startOfWeek !== true && eachBox.startOfWeek) {\n                d.startOfWeek = eachBox.startOfWeek;\n                dateMutator(d, dateAccessor(eachBox));\n            }\n        });\n    });\n\n    return columnData;\n}\n\nexport default function () {\n    let options = defaultOptions;\n    let dateAccessor = (d: any) => d.date;\n    let dateMutator = (d: any, date: any) => {\n        d.date = date;\n    };\n\n    const calculator = (rawData: any[]) => {\n        const { reversal, boxSize, sourcePath } = options;\n\n        const source =\n            // eslint-disable-next-line prettier/prettier\n            sourcePath === \"high/low\" ? ((d: any) => ({ high: d.high, low: d.low })) : ((d: any) => ({ high: d.close, low: d.close }));\n\n        const pricingMethod = source;\n        const columnData: any[] = [];\n\n        // @ts-ignore\n        let column: {\n            boxes: any[];\n            direction: any;\n            open: number;\n            close?: number;\n        } = {\n            boxes: [],\n            open: rawData[0].open,\n        };\n        let box = createBox(rawData[0], dateAccessor, dateMutator);\n\n        columnData.push(column);\n\n        rawData.forEach(function (d) {\n            // @ts-ignore\n            column.volume = (column.volume || 0) + d.volume;\n\n            if (!box.startOfYear) {\n                box.startOfYear = d.startOfYear;\n                if (box.startOfYear) {\n                    dateMutator(box, dateAccessor(d));\n                }\n            }\n\n            if (!box.startOfYear && !box.startOfQuarter) {\n                box.startOfQuarter = d.startOfQuarter;\n                if (box.startOfQuarter && !box.startOfYear) {\n                    dateMutator(box, dateAccessor(d));\n                }\n            }\n\n            if (!box.startOfQuarter && !box.startOfMonth) {\n                box.startOfMonth = d.startOfMonth;\n                if (box.startOfMonth && !box.startOfQuarter) {\n                    dateMutator(box, dateAccessor(d));\n                }\n            }\n            if (!box.startOfMonth && !box.startOfWeek) {\n                box.startOfWeek = d.startOfWeek;\n                if (box.startOfWeek && !box.startOfMonth) {\n                    dateMutator(box, dateAccessor(d));\n                }\n            }\n\n            if (columnData.length === 1 && column.boxes.length === 0) {\n                const upwardMovement = Math.max(pricingMethod(d).high - column.open, 0); // upward movement\n                const downwardMovement = Math.abs(Math.min(column.open - pricingMethod(d).low, 0)); // downward movement\n                column.direction = upwardMovement > downwardMovement ? 1 : -1;\n                if (boxSize * reversal < upwardMovement || boxSize * reversal < downwardMovement) {\n                    // enough movement to trigger a reversal\n                    box.toDate = dateAccessor(d);\n                    box.open = column.open;\n                    const noOfBoxes =\n                        column.direction > 0\n                            ? Math.floor(upwardMovement / boxSize)\n                            : Math.floor(downwardMovement / boxSize);\n                    for (let i = 0; i < noOfBoxes; i++) {\n                        // @ts-ignore\n                        box.close = box.open + column.direction * boxSize;\n                        // @ts-ignore\n                        const prevBoxClose = box.close;\n                        column.boxes.push(box);\n                        box = createBox(box, dateAccessor, dateMutator);\n                        // box = cloneMe(box);\n                        box.open = prevBoxClose;\n                    }\n                    box.fromDate = dateAccessor(d);\n                    // @ts-ignore\n                    box.date = dateAccessor(d);\n                }\n            } else {\n                // one or more boxes already formed in the current column\n                const upwardMovement = Math.max(pricingMethod(d).high - box.open, 0); // upward movement\n                const downwardMovement = Math.abs(Math.min(pricingMethod(d).low - box.open, 0)); // downward movement\n\n                if (\n                    (column.direction > 0 && upwardMovement > boxSize) /* rising column AND box can be formed */ ||\n                    (column.direction < 0 && downwardMovement > boxSize) /* falling column AND box can be formed */\n                ) {\n                    // form another box\n                    // @ts-ignore\n                    box.close = box.open + column.direction * boxSize;\n                    box.toDate = dateAccessor(d);\n\n                    // @ts-ignore\n                    const prevBoxClose = box.close;\n                    column.boxes.push(box);\n                    box = createBox(d, dateAccessor, dateMutator);\n                    box.open = prevBoxClose;\n                    box.fromDate = dateAccessor(d);\n                    dateMutator(box, dateAccessor(d));\n                } else if (\n                    /* rising column and there is downward movement to trigger a reversal */\n                    (column.direction > 0 && downwardMovement > boxSize * reversal) ||\n                    /* falling column and there is downward movement to trigger a reversal */\n                    (column.direction < 0 && upwardMovement > boxSize * reversal)\n                ) {\n                    // reversal\n\n                    box.open = box.open + -1 * column.direction * boxSize;\n                    box.toDate = dateAccessor(d);\n                    // box.displayDate = d.displayDate;\n                    dateMutator(box, dateAccessor(d));\n                    // box.startOfYear = d.startOfYear;\n                    // box.startOfQuarter = d.startOfQuarter;\n                    // box.startOfMonth = d.startOfMonth;\n                    // box.startOfWeek = d.startOfWeek;\n                    // var idx = index + 1;\n                    column = {\n                        boxes: [],\n                        // @ts-ignore\n                        volume: 0,\n                        direction: -1 * column.direction,\n                    };\n                    const noOfBoxes =\n                        column.direction > 0\n                            ? Math.floor(upwardMovement / boxSize)\n                            : Math.floor(downwardMovement / boxSize);\n                    for (let i = 0; i < noOfBoxes; i++) {\n                        // @ts-ignore\n                        box.close = box.open + column.direction * boxSize;\n                        // @ts-ignore\n                        const prevBoxClose = box.close;\n                        column.boxes.push(box);\n                        box = createBox(d, dateAccessor, dateMutator);\n                        box.open = prevBoxClose;\n                    }\n\n                    columnData.push(column);\n                }\n            }\n        });\n        updateColumns(columnData, dateAccessor, dateMutator);\n\n        return columnData;\n    };\n\n    calculator.options = (newOptions?: any) => {\n        if (newOptions === undefined) {\n            return options;\n        }\n\n        options = { ...defaultOptions, ...newOptions };\n\n        return calculator;\n    };\n\n    calculator.dateMutator = (newDateMutator?: any) => {\n        if (newDateMutator === undefined) {\n            return dateMutator;\n        }\n\n        dateMutator = newDateMutator;\n\n        return calculator;\n    };\n\n    calculator.dateAccessor = (newDateAccessor?: any) => {\n        if (newDateAccessor === undefined) {\n            return dateAccessor;\n        }\n\n        dateAccessor = newDateAccessor;\n\n        return calculator;\n    };\n\n    return calculator;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}