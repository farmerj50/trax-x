{"ast":null,"code":"import { Marker } from './marker';\nimport { TextOption, renderTextElement } from '../../smithchart/utils/helper';\nimport { SmithchartRect, LineSegment, PointRegion, DataLabelTextOptions } from '../../smithchart/utils/utils';\nimport { _getEpsilonValue, PathOption, RectOption, getAnimationFunction, templateAnimate } from '../../smithchart/utils/helper';\nimport { animationComplete } from '../../smithchart/model/constant';\nimport { DataLabel } from '../../smithchart/series/datalabel';\nimport { Animation, animationMode } from '@syncfusion/ej2-base';\nimport { textRender, seriesRender } from '../model/constant';\nvar SeriesRender = /** @class */function () {\n  function SeriesRender() {\n    this.xValues = [];\n    this.yValues = [];\n    this.pointsRegion = [];\n    this.lineSegments = [];\n    this.location = [];\n    this.dataLabel = new DataLabel();\n  }\n  SeriesRender.prototype.processData = function (series) {\n    var dataArray = series.dataSource;\n    var resistance = series.resistance;\n    var reactance = series.reactance;\n    var tooltip = series.tooltipMappingName;\n    series.points = [];\n    for (var i = 0; i < dataArray.length; i++) {\n      series.points.push({\n        resistance: dataArray[i][resistance],\n        reactance: dataArray[i][reactance],\n        tooltip: dataArray[i][tooltip]\n      });\n    }\n  };\n  SeriesRender.prototype.draw = function (smithchart, axisRender, bounds) {\n    var groupElement = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_seriesCollections'\n    });\n    var resistantCx;\n    var reactanceCy;\n    var series = smithchart.series;\n    var seriesLength = series.length;\n    var chartAreaRadius = axisRender.areaRadius;\n    var interSectPoint;\n    var index;\n    for (var m = 0; m < seriesLength; m++) {\n      var seriesIndex = m;\n      if (series[m].dataSource && series[m].resistance && series[m].reactance) {\n        this.processData(series[m]);\n      }\n      this.pointsRegion[m] = [];\n      this.location[m] = [];\n      for (var j = 0; j < series[m].points.length; j++) {\n        this.xValues[j] = series[m].points[j]['resistance'];\n        this.yValues[j] = series[m].points[j]['reactance'];\n      }\n      var chartAreaCx = axisRender.circleCenterX;\n      var chartAreaCy = axisRender.circleCenterY;\n      var diameter = axisRender.areaRadius * 2;\n      var reactanceStartPoint = {\n        x: chartAreaCx + (smithchart.renderType === 'Impedance' ? chartAreaRadius : -chartAreaRadius),\n        y: chartAreaCy\n      };\n      var resistantCy = chartAreaCy;\n      var reactanceCx = reactanceStartPoint.x;\n      for (var k = 0; k < series[m].points.length; k++) {\n        var resistance = this.xValues[k];\n        var resistantR = diameter * (1 / (resistance + 1)) / 2;\n        var reactance = this.yValues[k];\n        var reactanceR = Math.abs(1 / reactance * diameter / 2);\n        if (smithchart.renderType === 'Impedance') {\n          reactanceCy = reactance > 0 ? chartAreaCy - reactanceR : chartAreaCy + reactanceR;\n          resistantCx = axisRender.circleLeftX + diameter - resistantR;\n        } else {\n          reactanceCy = reactance < 0 ? chartAreaCy - reactanceR : chartAreaCy + reactanceR;\n          resistantCx = axisRender.circleLeftX + resistantR;\n        }\n        interSectPoint = axisRender.intersectingCirclePoints(reactanceCx, reactanceCy, reactanceR, resistantCx, resistantCy, resistantR, smithchart.renderType);\n        var epsilon = _getEpsilonValue();\n        if (Math.abs(reactance) < epsilon) {\n          interSectPoint.x = smithchart.renderType === 'Impedance' ? resistantCx - resistantR : resistantCx + resistantR;\n          interSectPoint.y = chartAreaCy;\n        }\n        this.pointsRegion[m][k] = new PointRegion();\n        this.pointsRegion[m][k] = {\n          point: interSectPoint,\n          x: resistance,\n          y: reactance\n        };\n        this.location[m][k] = {\n          x: interSectPoint.x,\n          y: interSectPoint.y\n        };\n      }\n      for (var i = 0; i < series[m].points.length - 1; i++) {\n        index = i + 1;\n        this.lineSegments[i] = new LineSegment();\n        this.lineSegments[i] = {\n          x1: this.xValues[i],\n          y1: this.yValues[i],\n          x2: this.xValues[index],\n          y2: this.yValues[index]\n        };\n      }\n      smithchart.svgObject.appendChild(groupElement);\n      this.drawSeries(smithchart, seriesIndex, groupElement, bounds);\n    }\n    for (var j = 0; j < smithchart.series.length; j++) {\n      if (smithchart.series[j].enableSmartLabels && smithchart.series[j].marker.dataLabel.visible) {\n        var gdlcEle = smithchart.renderer.createGroup({\n          'id': smithchart.element.id + '_svg' + '_series' + j + '_Datalabel' + '_connectorLines'\n        });\n        var element = document.getElementById(smithchart.element.id + '_svg' + '_seriesCollection' + j);\n        if (element) {\n          element.setAttribute('aria-label', 'Smithchart with ' + series[j].points.length + ' points');\n          element.appendChild(gdlcEle);\n        }\n        this.dataLabel.calculateSmartLabels(this.dataLabel.labelOptions[j], j);\n        for (var k = 0; k < smithchart.series[j].points.length; k++) {\n          var currentPoint = this.dataLabel.labelOptions[j]['textOptions'][k];\n          if (currentPoint.xPosition + currentPoint.width > smithchart.chartArea.x + smithchart.chartArea.width || currentPoint.xPosition < smithchart.chartArea.x || currentPoint.yPosition < smithchart.chartArea.y || currentPoint.yPosition + currentPoint.height > smithchart.chartArea.y + smithchart.chartArea.height) {\n            this.dataLabel.labelOptions[j].textOptions[k].connectorFlag = false;\n            this.dataLabel.labelOptions[j].textOptions[k].visible = false;\n          }\n          if (currentPoint['connectorFlag']) {\n            this.dataLabel.drawConnectorLines(smithchart, j, k, currentPoint, gdlcEle);\n          }\n        }\n      }\n    }\n    var _loop_1 = function (j) {\n      var dataLabel = smithchart.series[j].marker.dataLabel;\n      if (smithchart.series[j].marker.dataLabel.visible) {\n        var element = document.getElementById(smithchart.element.id + '_svg' + '_seriesCollection' + j);\n        var gdEle_1 = smithchart.renderer.createGroup({\n          'id': smithchart.element.id + '_svg' + '_series' + j + '_Datalabel'\n        });\n        gdEle_1.setAttribute('aria-hidden', 'true');\n        if (element) {\n          element.appendChild(gdEle_1);\n        }\n        var _loop_2 = function (k) {\n          var currentPoint = this_1.dataLabel.labelOptions[j]['textOptions'][k];\n          if (!dataLabel.template && currentPoint.visible) {\n            var options_1 = new DataLabelTextOptions();\n            options_1 = this_1.dataLabel.labelOptions[j]['textOptions'][k];\n            var font_1 = dataLabel.textStyle;\n            var x = options_1['xPosition'];\n            var y = options_1['yPosition'];\n            var id = smithchart.element.id + '_Series' + j + '_Points' + k + '_dataLabel' + '_symbol' + k;\n            var fill = dataLabel['fill'] ? dataLabel['fill'] : smithchart.series[j].fill || smithchart.seriesColors[j % smithchart.seriesColors.length];\n            var border = smithchart.series[j].marker.dataLabel.border;\n            var rectOptions = new RectOption(id, fill, border, options_1['opacity'], new SmithchartRect(x, y, options_1['width'], options_1['height']));\n            var dataEle = smithchart.renderer.drawRectangle(rectOptions);\n            gdEle_1.appendChild(dataEle);\n            var textRenderEventArgs = {\n              text: options_1['text'],\n              x: options_1['x'],\n              y: options_1['y'],\n              seriesIndex: j,\n              pointIndex: k,\n              name: textRender,\n              cancel: false\n            };\n            var textRenderSuccess = function (args) {\n              if (!args.cancel) {\n                var textoptions = new TextOption(options_1['id'], args.x, args.y, 'start', args.text);\n                var color = font_1.color ? font_1.color : smithchart.themeStyle.dataLabelFont.color;\n                var element_1 = renderTextElement(textoptions, font_1, color, gdEle_1, smithchart.themeStyle.dataLabelFont);\n                gdEle_1.appendChild(element_1);\n              }\n            };\n            textRenderSuccess.bind(this_1);\n            smithchart.trigger(textRender, textRenderEventArgs, textRenderSuccess);\n          } else if (dataLabel.template) {\n            var element_2 = document.getElementById(dataLabel.template + '_seriesIndex' + j + '_pointIndex' + k + smithchart.element.id);\n            element_2.style.left = this_1.dataLabel.labelOptions[j]['textOptions'][k].xPosition + 'px';\n            element_2.style.top = this_1.dataLabel.labelOptions[j]['textOptions'][k].yPosition + 'px';\n          }\n        };\n        for (var k = 0; k < smithchart.series[j].points.length; k++) {\n          _loop_2(k);\n        }\n      }\n    };\n    var this_1 = this;\n    for (var j = 0; j < smithchart.series.length; j++) {\n      _loop_1(j);\n    }\n    for (var i = 0; i < smithchart.series.length; i++) {\n      if ((smithchart.series[i].enableAnimation && animationMode !== 'Disable' || animationMode === 'Enable') && smithchart.animateSeries) {\n        if (smithchart.series[i].marker.dataLabel.template) {\n          this.animateDataLabelTemplate(i, smithchart);\n        }\n        var element = document.getElementById(smithchart.element.id + '_svg' + '_seriesCollection' + i);\n        element.setAttribute('aria-label', 'Smithchart with ' + series[i].points.length + ' points');\n        this.performAnimation(smithchart, element, i);\n      }\n    }\n  };\n  SeriesRender.prototype.drawSeries = function (smithchart, seriesindex, groupElement, bounds) {\n    var _this = this;\n    var gsEle = smithchart.renderer.createGroup({\n      'id': smithchart.element.id + '_svg' + '_seriesCollection' + seriesindex,\n      'clip-path': 'url(#' + smithchart.element.id + '_ChartSeriesClipRect_' + seriesindex + ')'\n    });\n    if (!smithchart.series[seriesindex].marker.visible) {\n      gsEle.setAttribute('tabindex', seriesindex === 0 ? '0' : '');\n    }\n    gsEle.setAttribute('visibility', smithchart.series[seriesindex].visibility);\n    gsEle.setAttribute('role', 'region');\n    gsEle.setAttribute('aria-label', 'Smithchart with ' + smithchart.series[seriesindex].points.length + ' points');\n    groupElement.appendChild(gsEle);\n    var sb = '';\n    var element;\n    var count = smithchart.series[seriesindex].points.length - 1;\n    for (var i = 0; i < count; i++) {\n      var point1 = this.pointsRegion[seriesindex][i]['point'];\n      var point2 = this.pointsRegion[seriesindex][i + 1]['point'];\n      sb = sb + ('M' + ' ' + point1.x + ' ' + point1.y + ' ' + 'L' + ' ' + point2.x + ' ' + point2.y + ' ');\n    }\n    var path = sb.toString();\n    var fill = smithchart.series[seriesindex].fill || smithchart.seriesColors[seriesindex % smithchart.seriesColors.length];\n    var seriesEventArgs = {\n      text: smithchart.series[seriesindex].name,\n      fill: fill,\n      name: seriesRender,\n      cancel: false\n    };\n    var seriesRenderSuccess = function (args) {\n      if (!args.cancel) {\n        var options = new PathOption(smithchart.element.id + '_series' + seriesindex + '_points', 'none', smithchart.series[seriesindex].width, seriesEventArgs.fill, smithchart.series[seriesindex].opacity, 'none', path);\n        _this.clipRectElement = smithchart.renderer.drawClipPath(new RectOption(smithchart.element.id + '_ChartSeriesClipRect_' + seriesindex, 'transparent', {\n          width: 1,\n          color: 'Gray'\n        }, 1, {\n          x: bounds.x,\n          y: bounds.y,\n          width: smithchart.availableSize.width,\n          height: smithchart.availableSize.height\n        }));\n        gsEle.appendChild(_this.clipRectElement);\n        var gspEle = smithchart.renderer.createGroup({\n          'id': smithchart.element.id + '_svg' + seriesindex\n        });\n        element = smithchart.renderer.drawPath(options);\n        gspEle.appendChild(element);\n        gsEle.appendChild(gspEle);\n      }\n    };\n    seriesRenderSuccess.bind(this);\n    smithchart.trigger(seriesRender, seriesEventArgs, seriesRenderSuccess);\n    var markerrender = new Marker();\n    markerrender.drawMarker(smithchart, seriesindex, gsEle, this.pointsRegion[seriesindex]);\n    this.dataLabel.drawDataLabel(smithchart, seriesindex, gsEle, this.pointsRegion[seriesindex], bounds);\n  };\n  SeriesRender.prototype.animateDataLabelTemplate = function (seriesindex, smithchart) {\n    var length = smithchart.series[seriesindex].points.length;\n    var delay = 0;\n    var duration = parseFloat(smithchart.series[seriesindex].animationDuration);\n    for (var i = 0; i < length; i++) {\n      var element = document.getElementById(smithchart.series[seriesindex].marker.dataLabel.template + '_seriesIndex' + seriesindex + '_pointIndex' + i + smithchart.element.id);\n      element.style.visibility = 'hidden';\n      templateAnimate(smithchart, element, delay, duration, 'FadeIn');\n      // this.fadein(element);\n    }\n  };\n  /*private fadein(element: HTMLElement): void {\n    let op: number = 0.1;\n    element.style.display = 'block';\n    let timer: number = setInterval( (): void => {\n          if (op >= 1) {\n              clearInterval(timer);\n          }\n          element.style.opacity = op.toString();\n          element.style.filter = 'alpha(opacity=' + op * 100 + ')';\n          op += op * 0.1;\n  }, 50);\n  }*/\n  SeriesRender.prototype.performAnimation = function (smithchart, gsEle, seriesIndex) {\n    var animation = new Animation({});\n    var clipRect = gsEle.childNodes[0].childNodes[0].childNodes[0];\n    var effect = getAnimationFunction('Linear');\n    var reveffect = getAnimationFunction('Reverse');\n    var width = +clipRect.getAttribute('width');\n    var x = +clipRect.getAttribute('x');\n    var value;\n    animation.animate(clipRect, {\n      duration: parseFloat(smithchart.series[seriesIndex].animationDuration) === 0 && animationMode === 'Enable' ? 2000 : parseFloat(smithchart.series[seriesIndex].animationDuration),\n      progress: function (args) {\n        if (smithchart.renderType === 'Impedance') {\n          value = effect(args.timeStamp - args.delay, 0, width, args.duration);\n          clipRect.setAttribute('width', value.toString());\n        } else {\n          value = reveffect(args.timeStamp - args.delay, width, 0, args.duration);\n          clipRect.setAttribute('x', value.toString());\n        }\n      },\n      end: function () {\n        if (smithchart.renderType === 'Impedance') {\n          clipRect.setAttribute('width', width.toString());\n        } else {\n          clipRect.setAttribute('x', x.toString());\n        }\n        var event = {\n          cancel: false,\n          name: animationComplete,\n          smithchart: smithchart\n        };\n        smithchart.trigger(animationComplete, event);\n      }\n    });\n  };\n  SeriesRender.prototype.getLocation = function (seriesindex, pointIndex) {\n    var x = this.location[seriesindex][pointIndex].x;\n    var y = this.location[seriesindex][pointIndex].y;\n    return {\n      x: x,\n      y: y\n    };\n  };\n  return SeriesRender;\n}();\nexport { SeriesRender };","map":{"version":3,"names":["Marker","TextOption","renderTextElement","SmithchartRect","LineSegment","PointRegion","DataLabelTextOptions","_getEpsilonValue","PathOption","RectOption","getAnimationFunction","templateAnimate","animationComplete","DataLabel","Animation","animationMode","textRender","seriesRender","SeriesRender","xValues","yValues","pointsRegion","lineSegments","location","dataLabel","prototype","processData","series","dataArray","dataSource","resistance","reactance","tooltip","tooltipMappingName","points","i","length","push","draw","smithchart","axisRender","bounds","groupElement","renderer","createGroup","element","id","resistantCx","reactanceCy","seriesLength","chartAreaRadius","areaRadius","interSectPoint","index","m","seriesIndex","j","chartAreaCx","circleCenterX","chartAreaCy","circleCenterY","diameter","reactanceStartPoint","x","renderType","y","resistantCy","reactanceCx","k","resistantR","reactanceR","Math","abs","circleLeftX","intersectingCirclePoints","epsilon","point","x1","y1","x2","y2","svgObject","appendChild","drawSeries","enableSmartLabels","marker","visible","gdlcEle","document","getElementById","setAttribute","calculateSmartLabels","labelOptions","currentPoint","xPosition","width","chartArea","yPosition","height","textOptions","connectorFlag","drawConnectorLines","_loop_1","gdEle_1","_loop_2","this_1","template","options_1","font_1","textStyle","fill","seriesColors","border","rectOptions","dataEle","drawRectangle","textRenderEventArgs","text","pointIndex","name","cancel","textRenderSuccess","args","textoptions","color","themeStyle","dataLabelFont","element_1","bind","trigger","element_2","style","left","top","enableAnimation","animateSeries","animateDataLabelTemplate","performAnimation","seriesindex","_this","gsEle","visibility","sb","count","point1","point2","path","toString","seriesEventArgs","seriesRenderSuccess","options","opacity","clipRectElement","drawClipPath","availableSize","gspEle","drawPath","markerrender","drawMarker","drawDataLabel","delay","duration","parseFloat","animationDuration","animation","clipRect","childNodes","effect","reveffect","getAttribute","value","animate","progress","timeStamp","end","event","getLocation"],"sources":["C:/Users/gabby/trax-x/node_modules/@syncfusion/ej2-charts/src/smithchart/series/seriesrender.js"],"sourcesContent":["import { Marker } from './marker';\nimport { TextOption, renderTextElement } from '../../smithchart/utils/helper';\nimport { SmithchartRect, LineSegment, PointRegion, DataLabelTextOptions } from '../../smithchart/utils/utils';\nimport { _getEpsilonValue, PathOption, RectOption, getAnimationFunction, templateAnimate } from '../../smithchart/utils/helper';\nimport { animationComplete } from '../../smithchart/model/constant';\nimport { DataLabel } from '../../smithchart/series/datalabel';\nimport { Animation, animationMode } from '@syncfusion/ej2-base';\nimport { textRender, seriesRender } from '../model/constant';\nvar SeriesRender = /** @class */ (function () {\n    function SeriesRender() {\n        this.xValues = [];\n        this.yValues = [];\n        this.pointsRegion = [];\n        this.lineSegments = [];\n        this.location = [];\n        this.dataLabel = new DataLabel();\n    }\n    SeriesRender.prototype.processData = function (series) {\n        var dataArray = series.dataSource;\n        var resistance = series.resistance;\n        var reactance = series.reactance;\n        var tooltip = series.tooltipMappingName;\n        series.points = [];\n        for (var i = 0; i < dataArray.length; i++) {\n            series.points.push({\n                resistance: dataArray[i][resistance],\n                reactance: dataArray[i][reactance],\n                tooltip: dataArray[i][tooltip]\n            });\n        }\n    };\n    SeriesRender.prototype.draw = function (smithchart, axisRender, bounds) {\n        var groupElement = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + '_seriesCollections' });\n        var resistantCx;\n        var reactanceCy;\n        var series = smithchart.series;\n        var seriesLength = series.length;\n        var chartAreaRadius = axisRender.areaRadius;\n        var interSectPoint;\n        var index;\n        for (var m = 0; m < seriesLength; m++) {\n            var seriesIndex = m;\n            if (series[m].dataSource && series[m].resistance && series[m].reactance) {\n                this.processData(series[m]);\n            }\n            this.pointsRegion[m] = [];\n            this.location[m] = [];\n            for (var j = 0; j < series[m].points.length; j++) {\n                this.xValues[j] = series[m].points[j]['resistance'];\n                this.yValues[j] = series[m].points[j]['reactance'];\n            }\n            var chartAreaCx = axisRender.circleCenterX;\n            var chartAreaCy = axisRender.circleCenterY;\n            var diameter = axisRender.areaRadius * 2;\n            var reactanceStartPoint = {\n                x: chartAreaCx + ((smithchart.renderType === 'Impedance') ?\n                    chartAreaRadius : -chartAreaRadius), y: chartAreaCy\n            };\n            var resistantCy = chartAreaCy;\n            var reactanceCx = reactanceStartPoint.x;\n            for (var k = 0; k < series[m].points.length; k++) {\n                var resistance = this.xValues[k];\n                var resistantR = (diameter * (1 / (resistance + 1))) / 2;\n                var reactance = this.yValues[k];\n                var reactanceR = Math.abs(((1 / reactance) * diameter) / 2);\n                if (smithchart.renderType === 'Impedance') {\n                    reactanceCy = reactance > 0 ? chartAreaCy - reactanceR : chartAreaCy + reactanceR;\n                    resistantCx = (axisRender.circleLeftX + diameter - resistantR);\n                }\n                else {\n                    reactanceCy = reactance < 0 ? chartAreaCy - reactanceR : chartAreaCy + reactanceR;\n                    resistantCx = (axisRender.circleLeftX + resistantR);\n                }\n                interSectPoint = axisRender.intersectingCirclePoints(reactanceCx, reactanceCy, reactanceR, resistantCx, resistantCy, resistantR, smithchart.renderType);\n                var epsilon = _getEpsilonValue();\n                if (Math.abs(reactance) < epsilon) {\n                    interSectPoint.x = (smithchart.renderType === 'Impedance') ?\n                        resistantCx - resistantR : resistantCx + resistantR;\n                    interSectPoint.y = chartAreaCy;\n                }\n                this.pointsRegion[m][k] = new PointRegion();\n                this.pointsRegion[m][k] = { point: interSectPoint, x: resistance, y: reactance };\n                this.location[m][k] = { x: interSectPoint.x, y: interSectPoint.y };\n            }\n            for (var i = 0; i < series[m].points.length - 1; i++) {\n                index = i + 1;\n                this.lineSegments[i] = new LineSegment();\n                this.lineSegments[i] = { x1: this.xValues[i], y1: this.yValues[i],\n                    x2: this.xValues[index], y2: this.yValues[index] };\n            }\n            smithchart.svgObject.appendChild(groupElement);\n            this.drawSeries(smithchart, seriesIndex, groupElement, bounds);\n        }\n        for (var j = 0; j < smithchart.series.length; j++) {\n            if (smithchart.series[j].enableSmartLabels && smithchart.series[j].marker.dataLabel.visible) {\n                var gdlcEle = smithchart.renderer.createGroup({\n                    'id': smithchart.element.id + '_svg'\n                        + '_series' + j + '_Datalabel' + '_connectorLines'\n                });\n                var element = document.getElementById(smithchart.element.id + '_svg' + '_seriesCollection' + j);\n                if (element) {\n                    element.setAttribute('aria-label', ('Smithchart with ' + series[j].points.length + ' points'));\n                    element.appendChild(gdlcEle);\n                }\n                this.dataLabel.calculateSmartLabels(this.dataLabel.labelOptions[j], j);\n                for (var k = 0; k < smithchart.series[j].points.length; k++) {\n                    var currentPoint = this.dataLabel.labelOptions[j]['textOptions'][k];\n                    if ((currentPoint.xPosition + currentPoint.width) > (smithchart.chartArea.x + smithchart.chartArea.width)\n                        || currentPoint.xPosition < smithchart.chartArea.x || currentPoint.yPosition < smithchart.chartArea.y ||\n                        currentPoint.yPosition + currentPoint.height > smithchart.chartArea.y + smithchart.chartArea.height) {\n                        this.dataLabel.labelOptions[j].textOptions[k].connectorFlag = false;\n                        this.dataLabel.labelOptions[j].textOptions[k].visible = false;\n                    }\n                    if (currentPoint['connectorFlag']) {\n                        this.dataLabel.drawConnectorLines(smithchart, j, k, currentPoint, gdlcEle);\n                    }\n                }\n            }\n        }\n        var _loop_1 = function (j) {\n            var dataLabel = smithchart.series[j].marker.dataLabel;\n            if (smithchart.series[j].marker.dataLabel.visible) {\n                var element = document.getElementById(smithchart.element.id + '_svg' + '_seriesCollection' + j);\n                var gdEle_1 = smithchart.renderer.createGroup({\n                    'id': smithchart.element.id + '_svg'\n                        + '_series' + j + '_Datalabel'\n                });\n                gdEle_1.setAttribute('aria-hidden', 'true');\n                if (element) {\n                    element.appendChild(gdEle_1);\n                }\n                var _loop_2 = function (k) {\n                    var currentPoint = this_1.dataLabel.labelOptions[j]['textOptions'][k];\n                    if (!dataLabel.template && currentPoint.visible) {\n                        var options_1 = new DataLabelTextOptions();\n                        options_1 = this_1.dataLabel.labelOptions[j]['textOptions'][k];\n                        var font_1 = dataLabel.textStyle;\n                        var x = options_1['xPosition'];\n                        var y = options_1['yPosition'];\n                        var id = smithchart.element.id + '_Series' + j + '_Points' + k + '_dataLabel' + '_symbol' + k;\n                        var fill = dataLabel['fill'] ? dataLabel['fill'] : (smithchart.series[j].fill ||\n                            smithchart.seriesColors[j % smithchart.seriesColors.length]);\n                        var border = smithchart.series[j].marker.dataLabel.border;\n                        var rectOptions = new RectOption(id, fill, border, options_1['opacity'], new SmithchartRect(x, y, options_1['width'], options_1['height']));\n                        var dataEle = smithchart.renderer.drawRectangle(rectOptions);\n                        gdEle_1.appendChild(dataEle);\n                        var textRenderEventArgs = {\n                            text: options_1['text'],\n                            x: options_1['x'],\n                            y: options_1['y'],\n                            seriesIndex: j,\n                            pointIndex: k,\n                            name: textRender,\n                            cancel: false\n                        };\n                        var textRenderSuccess = function (args) {\n                            if (!args.cancel) {\n                                var textoptions = new TextOption(options_1['id'], args.x, args.y, 'start', args.text);\n                                var color = font_1.color ? font_1.color : smithchart.themeStyle.dataLabelFont.color;\n                                var element_1 = renderTextElement(textoptions, font_1, color, gdEle_1, smithchart.themeStyle.dataLabelFont);\n                                gdEle_1.appendChild(element_1);\n                            }\n                        };\n                        textRenderSuccess.bind(this_1);\n                        smithchart.trigger(textRender, textRenderEventArgs, textRenderSuccess);\n                    }\n                    else if (dataLabel.template) {\n                        var element_2 = document.getElementById(dataLabel.template + '_seriesIndex' + j + '_pointIndex' +\n                            k + smithchart.element.id);\n                        element_2.style.left = this_1.dataLabel.labelOptions[j]['textOptions'][k].xPosition + 'px';\n                        element_2.style.top = this_1.dataLabel.labelOptions[j]['textOptions'][k].yPosition + 'px';\n                    }\n                };\n                for (var k = 0; k < smithchart.series[j].points.length; k++) {\n                    _loop_2(k);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var j = 0; j < smithchart.series.length; j++) {\n            _loop_1(j);\n        }\n        for (var i = 0; i < smithchart.series.length; i++) {\n            if (((smithchart.series[i].enableAnimation && animationMode !== 'Disable') || animationMode === 'Enable') && smithchart.animateSeries) {\n                if (smithchart.series[i].marker.dataLabel.template) {\n                    this.animateDataLabelTemplate(i, smithchart);\n                }\n                var element = document.getElementById(smithchart.element.id + '_svg' + '_seriesCollection' + i);\n                element.setAttribute('aria-label', ('Smithchart with ' + series[i].points.length + ' points'));\n                this.performAnimation(smithchart, element, i);\n            }\n        }\n    };\n    SeriesRender.prototype.drawSeries = function (smithchart, seriesindex, groupElement, bounds) {\n        var _this = this;\n        var gsEle = smithchart.renderer.createGroup({\n            'id': smithchart.element.id + '_svg' + '_seriesCollection' + seriesindex,\n            'clip-path': 'url(#' + smithchart.element.id + '_ChartSeriesClipRect_' +\n                seriesindex + ')'\n        });\n        if (!smithchart.series[seriesindex].marker.visible) {\n            gsEle.setAttribute('tabindex', seriesindex === 0 ? '0' : '');\n        }\n        gsEle.setAttribute('visibility', smithchart.series[seriesindex].visibility);\n        gsEle.setAttribute('role', 'region');\n        gsEle.setAttribute('aria-label', ('Smithchart with ' + smithchart.series[seriesindex].points.length + ' points'));\n        groupElement.appendChild(gsEle);\n        var sb = '';\n        var element;\n        var count = smithchart.series[seriesindex].points.length - 1;\n        for (var i = 0; i < count; i++) {\n            var point1 = this.pointsRegion[seriesindex][i]['point'];\n            var point2 = this.pointsRegion[seriesindex][i + 1]['point'];\n            sb = sb + ('M' + ' ' + (point1.x) + ' ' + (point1.y) + ' ' + 'L' +\n                ' ' + (point2.x) + ' ' + (point2.y) + ' ');\n        }\n        var path = sb.toString();\n        var fill = smithchart.series[seriesindex].fill ||\n            smithchart.seriesColors[seriesindex % smithchart.seriesColors.length];\n        var seriesEventArgs = {\n            text: smithchart.series[seriesindex].name,\n            fill: fill,\n            name: seriesRender,\n            cancel: false\n        };\n        var seriesRenderSuccess = function (args) {\n            if (!args.cancel) {\n                var options = new PathOption(smithchart.element.id + '_series' + seriesindex + '_points', 'none', smithchart.series[seriesindex].width, seriesEventArgs.fill, smithchart.series[seriesindex].opacity, 'none', path);\n                _this.clipRectElement = smithchart.renderer.drawClipPath(new RectOption(smithchart.element.id + '_ChartSeriesClipRect_' + seriesindex, 'transparent', { width: 1, color: 'Gray' }, 1, {\n                    x: bounds.x, y: bounds.y,\n                    width: smithchart.availableSize.width,\n                    height: smithchart.availableSize.height\n                }));\n                gsEle.appendChild(_this.clipRectElement);\n                var gspEle = smithchart.renderer.createGroup({ 'id': smithchart.element.id + '_svg' + seriesindex });\n                element = smithchart.renderer.drawPath(options);\n                gspEle.appendChild(element);\n                gsEle.appendChild(gspEle);\n            }\n        };\n        seriesRenderSuccess.bind(this);\n        smithchart.trigger(seriesRender, seriesEventArgs, seriesRenderSuccess);\n        var markerrender = new Marker();\n        markerrender.drawMarker(smithchart, seriesindex, gsEle, this.pointsRegion[seriesindex]);\n        this.dataLabel.drawDataLabel(smithchart, seriesindex, gsEle, this.pointsRegion[seriesindex], bounds);\n    };\n    SeriesRender.prototype.animateDataLabelTemplate = function (seriesindex, smithchart) {\n        var length = smithchart.series[seriesindex].points.length;\n        var delay = 0;\n        var duration = parseFloat(smithchart.series[seriesindex].animationDuration);\n        for (var i = 0; i < length; i++) {\n            var element = document.getElementById(smithchart.series[seriesindex].marker.dataLabel.template + '_seriesIndex' + seriesindex + '_pointIndex' + i + smithchart.element.id);\n            element.style.visibility = 'hidden';\n            templateAnimate(smithchart, element, delay, duration, 'FadeIn');\n            // this.fadein(element);\n        }\n    };\n    /*private fadein(element: HTMLElement): void {\n      let op: number = 0.1;\n      element.style.display = 'block';\n      let timer: number = setInterval( (): void => {\n            if (op >= 1) {\n                clearInterval(timer);\n            }\n            element.style.opacity = op.toString();\n            element.style.filter = 'alpha(opacity=' + op * 100 + ')';\n            op += op * 0.1;\n    }, 50);\n    }*/\n    SeriesRender.prototype.performAnimation = function (smithchart, gsEle, seriesIndex) {\n        var animation = new Animation({});\n        var clipRect = gsEle.childNodes[0].childNodes[0].childNodes[0];\n        var effect = getAnimationFunction('Linear');\n        var reveffect = getAnimationFunction('Reverse');\n        var width = +clipRect.getAttribute('width');\n        var x = +clipRect.getAttribute('x');\n        var value;\n        animation.animate(clipRect, {\n            duration: (parseFloat(smithchart.series[seriesIndex].animationDuration) === 0 && animationMode === 'Enable') ? 2000 : parseFloat(smithchart.series[seriesIndex].animationDuration),\n            progress: function (args) {\n                if (smithchart.renderType === 'Impedance') {\n                    value = effect(args.timeStamp - args.delay, 0, width, args.duration);\n                    clipRect.setAttribute('width', value.toString());\n                }\n                else {\n                    value = reveffect(args.timeStamp - args.delay, width, 0, args.duration);\n                    clipRect.setAttribute('x', value.toString());\n                }\n            },\n            end: function () {\n                if (smithchart.renderType === 'Impedance') {\n                    clipRect.setAttribute('width', width.toString());\n                }\n                else {\n                    clipRect.setAttribute('x', x.toString());\n                }\n                var event = {\n                    cancel: false,\n                    name: animationComplete,\n                    smithchart: smithchart\n                };\n                smithchart.trigger(animationComplete, event);\n            }\n        });\n    };\n    SeriesRender.prototype.getLocation = function (seriesindex, pointIndex) {\n        var x = this.location[seriesindex][pointIndex].x;\n        var y = this.location[seriesindex][pointIndex].y;\n        return { x: x, y: y };\n    };\n    return SeriesRender;\n}());\nexport { SeriesRender };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}