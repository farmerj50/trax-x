{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _d3Collection = require(\"d3-collection\");\nvar _react = require(\"react\");\nvar _react2 = _interopRequireDefault(_react);\nvar _propTypes = require(\"prop-types\");\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\nvar _GenericComponent = require(\"../GenericComponent\");\nvar _utils = require(\"../utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar CandlestickSeries = function (_Component) {\n  _inherits(CandlestickSeries, _Component);\n  function CandlestickSeries(props) {\n    _classCallCheck(this, CandlestickSeries);\n    var _this = _possibleConstructorReturn(this, (CandlestickSeries.__proto__ || Object.getPrototypeOf(CandlestickSeries)).call(this, props));\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n  _createClass(CandlestickSeries, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      _drawOnCanvas(ctx, this.props, moreProps);\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var _props = this.props,\n        className = _props.className,\n        wickClassName = _props.wickClassName,\n        candleClassName = _props.candleClassName;\n      var xScale = moreProps.xScale,\n        yScale = moreProps.chartConfig.yScale,\n        plotData = moreProps.plotData,\n        xAccessor = moreProps.xAccessor;\n      var candleData = getCandleData(this.props, xAccessor, xScale, yScale, plotData);\n      return _react2.default.createElement(\"g\", {\n        className: className\n      }, _react2.default.createElement(\"g\", {\n        className: wickClassName,\n        key: \"wicks\"\n      }, getWicksSVG(candleData)), _react2.default.createElement(\"g\", {\n        className: candleClassName,\n        key: \"candles\"\n      }, getCandlesSVG(this.props, candleData)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var clip = this.props.clip;\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        clip: clip,\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getAxisCanvas,\n        drawOn: [\"pan\"]\n      });\n    }\n  }]);\n  return CandlestickSeries;\n}(_react.Component);\nCandlestickSeries.propTypes = {\n  className: _propTypes2.default.string,\n  wickClassName: _propTypes2.default.string,\n  candleClassName: _propTypes2.default.string,\n  widthRatio: _propTypes2.default.number,\n  width: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.func]),\n  classNames: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n  fill: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n  stroke: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n  wickStroke: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n  yAccessor: _propTypes2.default.func,\n  clip: _propTypes2.default.bool\n};\nCandlestickSeries.defaultProps = {\n  className: \"react-stockcharts-candlestick\",\n  wickClassName: \"react-stockcharts-candlestick-wick\",\n  candleClassName: \"react-stockcharts-candlestick-candle\",\n  yAccessor: function yAccessor(d) {\n    return {\n      open: d.open,\n      high: d.high,\n      low: d.low,\n      close: d.close\n    };\n  },\n  classNames: function classNames(d) {\n    return d.close > d.open ? \"up\" : \"down\";\n  },\n  width: _utils.plotDataLengthBarWidth,\n  wickStroke: \"#000000\",\n  // wickStroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n  fill: function fill(d) {\n    return d.close > d.open ? \"#6BA583\" : \"#FF0000\";\n  },\n  // stroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n  stroke: \"#000000\",\n  candleStrokeWidth: 0.5,\n  // stroke: \"none\",\n  widthRatio: 0.8,\n  opacity: 0.5,\n  clip: true\n};\nfunction getWicksSVG(candleData) {\n  var wicks = candleData.map(function (each, idx) {\n    var d = each.wick;\n    return _react2.default.createElement(\"path\", {\n      key: idx,\n      className: each.className,\n      stroke: d.stroke,\n      d: \"M\" + d.x + \",\" + d.y1 + \" L\" + d.x + \",\" + d.y2 + \" M\" + d.x + \",\" + d.y3 + \" L\" + d.x + \",\" + d.y4\n    });\n  });\n  return wicks;\n}\nfunction getCandlesSVG(props, candleData) {\n  /* eslint-disable react/prop-types */\n  var opacity = props.opacity,\n    candleStrokeWidth = props.candleStrokeWidth;\n  /* eslint-enable react/prop-types */\n\n  var candles = candleData.map(function (d, idx) {\n    if (d.width <= 1) return _react2.default.createElement(\"line\", {\n      className: d.className,\n      key: idx,\n      x1: d.x,\n      y1: d.y,\n      x2: d.x,\n      y2: d.y + d.height,\n      stroke: d.fill\n    });else if (d.height === 0) return _react2.default.createElement(\"line\", {\n      key: idx,\n      x1: d.x,\n      y1: d.y,\n      x2: d.x + d.width,\n      y2: d.y + d.height,\n      stroke: d.fill\n    });\n    return _react2.default.createElement(\"rect\", {\n      key: idx,\n      className: d.className,\n      fillOpacity: opacity,\n      x: d.x,\n      y: d.y,\n      width: d.width,\n      height: d.height,\n      fill: d.fill,\n      stroke: d.stroke,\n      strokeWidth: candleStrokeWidth\n    });\n  });\n  return candles;\n}\nfunction _drawOnCanvas(ctx, props, moreProps) {\n  var opacity = props.opacity,\n    candleStrokeWidth = props.candleStrokeWidth;\n  var xScale = moreProps.xScale,\n    yScale = moreProps.chartConfig.yScale,\n    plotData = moreProps.plotData,\n    xAccessor = moreProps.xAccessor;\n\n  // const wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\n  var candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n  var wickNest = (0, _d3Collection.nest)().key(function (d) {\n    return d.wick.stroke;\n  }).entries(candleData);\n  wickNest.forEach(function (outer) {\n    var key = outer.key,\n      values = outer.values;\n    ctx.strokeStyle = key;\n    ctx.fillStyle = key;\n    values.forEach(function (each) {\n      /*\n      ctx.moveTo(d.x, d.y1);\n      ctx.lineTo(d.x, d.y2);\n      \tctx.beginPath();\n      ctx.moveTo(d.x, d.y3);\n      ctx.lineTo(d.x, d.y4);\n      ctx.stroke(); */\n      var d = each.wick;\n      ctx.fillRect(d.x - 0.5, d.y1, 1, d.y2 - d.y1);\n      ctx.fillRect(d.x - 0.5, d.y3, 1, d.y4 - d.y3);\n    });\n  });\n\n  // const candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\n  var candleNest = (0, _d3Collection.nest)().key(function (d) {\n    return d.stroke;\n  }).key(function (d) {\n    return d.fill;\n  }).entries(candleData);\n  candleNest.forEach(function (outer) {\n    var strokeKey = outer.key,\n      strokeValues = outer.values;\n    if (strokeKey !== \"none\") {\n      ctx.strokeStyle = strokeKey;\n      ctx.lineWidth = candleStrokeWidth;\n    }\n    strokeValues.forEach(function (inner) {\n      var key = inner.key,\n        values = inner.values;\n      var fillStyle = (0, _utils.head)(values).width <= 1 ? key : (0, _utils.hexToRGBA)(key, opacity);\n      ctx.fillStyle = fillStyle;\n      values.forEach(function (d) {\n        if (d.width <= 1) {\n          // <line className={d.className} key={idx} x1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}/>\n          /*\n          ctx.beginPath();\n          ctx.moveTo(d.x, d.y);\n          ctx.lineTo(d.x, d.y + d.height);\n          ctx.stroke();\n          */\n          ctx.fillRect(d.x - 0.5, d.y, 1, d.height);\n        } else if (d.height === 0) {\n          // <line key={idx} x1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height} />\n          /*\n          ctx.beginPath();\n          ctx.moveTo(d.x, d.y);\n          ctx.lineTo(d.x + d.width, d.y + d.height);\n          ctx.stroke();\n          */\n          ctx.fillRect(d.x, d.y - 0.5, d.width, 1);\n        } else {\n          /*\n          ctx.beginPath();\n          ctx.rect(d.x, d.y, d.width, d.height);\n          ctx.closePath();\n          ctx.fill();\n          if (strokeKey !== \"none\") ctx.stroke();\n          */\n          ctx.fillRect(d.x, d.y, d.width, d.height);\n          if (strokeKey !== \"none\") ctx.strokeRect(d.x, d.y, d.width, d.height);\n        }\n      });\n    });\n  });\n}\n/*\nfunction getWickData(props, xAccessor, xScale, yScale, plotData) {\n\n\tconst { classNames: classNameProp, wickStroke: wickStrokeProp, yAccessor } = props;\n\tconst wickStroke = functor(wickStrokeProp);\n\tconst className = functor(classNameProp);\n\tconst wickData = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\t// console.log(yAccessor);\n\t\t\t\tconst ohlc = yAccessor(d);\n\n\t\t\t\tconst x = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\ty3 = yScale(Math.min(ohlc.open, ohlc.close)),\n\t\t\t\t\ty4 = yScale(ohlc.low);\n\n\t\t\t\treturn {\n\t\t\t\t\tx,\n\t\t\t\t\ty1,\n\t\t\t\t\ty2,\n\t\t\t\t\ty3,\n\t\t\t\t\ty4,\n\t\t\t\t\tclassName: className(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t\tstroke: wickStroke(ohlc),\n\t\t\t\t};\n\t\t\t});\n\treturn wickData;\n}\n*/\n\nfunction getCandleData(props, xAccessor, xScale, yScale, plotData) {\n  var wickStrokeProp = props.wickStroke;\n  var wickStroke = (0, _utils.functor)(wickStrokeProp);\n  var classNames = props.classNames,\n    fillProp = props.fill,\n    strokeProp = props.stroke,\n    yAccessor = props.yAccessor;\n  var className = (0, _utils.functor)(classNames);\n  var fill = (0, _utils.functor)(fillProp);\n  var stroke = (0, _utils.functor)(strokeProp);\n  var widthFunctor = (0, _utils.functor)(props.width);\n  var width = widthFunctor(props, {\n    xScale: xScale,\n    xAccessor: xAccessor,\n    plotData: plotData\n  });\n\n  /*\n  const candleWidth = Math.round(width);\n  const offset = Math.round(candleWidth === 1 ? 0 : 0.5 * width);\n  */\n  var trueOffset = 0.5 * width;\n  var offset = trueOffset > 0.7 ? Math.round(trueOffset) : Math.floor(trueOffset);\n\n  // eslint-disable-next-line prefer-const\n  var candles = [];\n  for (var i = 0; i < plotData.length; i++) {\n    var d = plotData[i];\n    if ((0, _utils.isDefined)(yAccessor(d).close)) {\n      var x = Math.round(xScale(xAccessor(d)));\n      // const x = Math.round(xScale(xAccessor(d)) - offset);\n\n      var ohlc = yAccessor(d);\n      var y = Math.round(yScale(Math.max(ohlc.open, ohlc.close)));\n      var height = Math.round(Math.abs(yScale(ohlc.open) - yScale(ohlc.close)));\n      candles.push({\n        // type: \"line\"\n        x: x - offset,\n        y: y,\n        wick: {\n          stroke: wickStroke(ohlc),\n          x: x,\n          y1: Math.round(yScale(ohlc.high)),\n          y2: y,\n          y3: y + height,\n          // Math.round(yScale(Math.min(ohlc.open, ohlc.close))),\n          y4: Math.round(yScale(ohlc.low))\n        },\n        height: height,\n        width: offset * 2,\n        className: className(ohlc),\n        fill: fill(ohlc),\n        stroke: stroke(ohlc),\n        direction: ohlc.close - ohlc.open\n      });\n    }\n  }\n  return candles;\n}\nexports.default = CandlestickSeries;","map":{"version":3,"names":["_d3Collection","require","_react","_propTypes","_GenericChartComponent","_GenericComponent","_utils","CandlestickSeries","props","_classCallCheck","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","renderSVG","bind","drawOnCanvas","ctx","moreProps","_drawOnCanvas","_props","className","wickClassName","candleClassName","xScale","yScale","chartConfig","plotData","xAccessor","candleData","getCandleData","_react2","default","createElement","key","getWicksSVG","getCandlesSVG","clip","_GenericChartComponent2","svgDraw","canvasDraw","canvasToDraw","getAxisCanvas","drawOn","propTypes","_propTypes2","string","widthRatio","number","width","oneOfType","func","classNames","fill","stroke","wickStroke","yAccessor","bool","defaultProps","d","open","high","low","close","plotDataLengthBarWidth","candleStrokeWidth","opacity","wicks","map","each","idx","wick","x","y1","y2","y3","y4","candles","x1","y","x2","height","fillOpacity","strokeWidth","wickNest","nest","entries","forEach","outer","values","strokeStyle","fillStyle","fillRect","candleNest","strokeKey","strokeValues","lineWidth","inner","head","hexToRGBA","strokeRect","wickStrokeProp","functor","fillProp","strokeProp","widthFunctor","trueOffset","offset","Math","round","floor","i","length","isDefined","ohlc","max","abs","push","direction"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\src\\lib\\series\\CandlestickSeries.js"],"sourcesContent":["\n\nimport { nest } from \"d3-collection\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getAxisCanvas } from \"../GenericComponent\";\n\nimport {\n\thexToRGBA, isDefined, functor, plotDataLengthBarWidth, head\n} from \"../utils\";\n\nclass CandlestickSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tdrawOnCanvas(ctx, this.props, moreProps);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { className, wickClassName, candleClassName } = this.props;\n\t\tconst { xScale, chartConfig: { yScale }, plotData, xAccessor } = moreProps;\n\n\t\tconst candleData = getCandleData(this.props, xAccessor, xScale, yScale, plotData);\n\n\t\treturn <g className={className}>\n\t\t\t<g className={wickClassName} key=\"wicks\">\n\t\t\t\t{getWicksSVG(candleData)}\n\t\t\t</g>\n\t\t\t<g className={candleClassName} key=\"candles\">\n\t\t\t\t{getCandlesSVG(this.props, candleData)}\n\t\t\t</g>\n\t\t</g>;\n\t}\n\n\trender() {\n\t\tconst { clip } = this.props;\n\t\treturn <GenericChartComponent\n\t\t\tclip={clip}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tdrawOn={[\"pan\"]}\n\t\t/>;\n\t}\n}\n\nCandlestickSeries.propTypes = {\n\tclassName: PropTypes.string,\n\twickClassName: PropTypes.string,\n\tcandleClassName: PropTypes.string,\n\twidthRatio: PropTypes.number,\n\twidth: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]),\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]),\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]),\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]),\n\twickStroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]),\n\tyAccessor: PropTypes.func,\n\tclip: PropTypes.bool,\n};\n\nCandlestickSeries.defaultProps = {\n\tclassName: \"react-stockcharts-candlestick\",\n\twickClassName: \"react-stockcharts-candlestick-wick\",\n\tcandleClassName: \"react-stockcharts-candlestick-candle\",\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => d.close > d.open ? \"up\" : \"down\",\n\twidth: plotDataLengthBarWidth,\n\twickStroke: \"#000000\",\n\t// wickStroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tfill: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tstroke: \"#000000\",\n\tcandleStrokeWidth: 0.5,\n\t// stroke: \"none\",\n\twidthRatio: 0.8,\n\topacity: 0.5,\n\tclip: true,\n};\n\nfunction getWicksSVG(candleData) {\n\n\tconst wicks = candleData\n\t\t.map((each, idx) => {\n\t\t\tconst d = each.wick;\n\t\t\treturn <path key={idx}\n\t\t\t\tclassName={each.className}\n\t\t\t\tstroke={d.stroke}\n\t\t\t\td={`M${d.x},${d.y1} L${d.x},${d.y2} M${d.x},${d.y3} L${d.x},${d.y4}`} />;\n\t\t});\n\n\treturn wicks;\n}\n\nfunction getCandlesSVG(props, candleData) {\n\n\t/* eslint-disable react/prop-types */\n\tconst { opacity, candleStrokeWidth } = props;\n\t/* eslint-enable react/prop-types */\n\n\tconst candles = candleData.map((d, idx) => {\n\t\tif (d.width <= 1)\n\t\t\treturn (\n\t\t\t\t<line className={d.className} key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\telse if (d.height === 0)\n\t\t\treturn (\n\t\t\t\t<line key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\treturn (\n\t\t\t<rect key={idx} className={d.className}\n\t\t\t\tfillOpacity={opacity}\n\t\t\t\tx={d.x} y={d.y} width={d.width} height={d.height}\n\t\t\t\tfill={d.fill} stroke={d.stroke} strokeWidth={candleStrokeWidth} />\n\t\t);\n\t});\n\treturn candles;\n}\n\nfunction drawOnCanvas(ctx, props, moreProps) {\n\tconst { opacity, candleStrokeWidth } = props;\n\tconst { xScale, chartConfig: { yScale }, plotData, xAccessor } = moreProps;\n\n\t// const wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\tconst candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\n\tconst wickNest = nest()\n\t\t.key(d => d.wick.stroke)\n\t\t.entries(candleData);\n\n\twickNest.forEach(outer => {\n\t\tconst { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tctx.fillStyle = key;\n\t\tvalues.forEach(each => {\n\t\t\t/*\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y3);\n\t\t\tctx.lineTo(d.x, d.y4);\n\t\t\tctx.stroke(); */\n\t\t\tconst d = each.wick;\n\n\t\t\tctx.fillRect(d.x - 0.5, d.y1, 1, d.y2 - d.y1);\n\t\t\tctx.fillRect(d.x - 0.5, d.y3, 1, d.y4 - d.y3);\n\t\t});\n\t});\n\n\t// const candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\n\tconst candleNest = nest()\n\t\t.key(d => d.stroke)\n\t\t.key(d => d.fill)\n\t\t.entries(candleData);\n\n\n\tcandleNest.forEach(outer => {\n\t\tconst { key: strokeKey, values: strokeValues } = outer;\n\t\tif (strokeKey !== \"none\") {\n\t\t\tctx.strokeStyle = strokeKey;\n\t\t\tctx.lineWidth = candleStrokeWidth;\n\t\t}\n\t\tstrokeValues.forEach(inner => {\n\t\t\tconst { key, values } = inner;\n\t\t\tconst fillStyle = head(values).width <= 1\n\t\t\t\t? key\n\t\t\t\t: hexToRGBA(key, opacity);\n\t\t\tctx.fillStyle = fillStyle;\n\n\t\t\tvalues.forEach(d => {\n\t\t\t\tif (d.width <= 1) {\n\t\t\t\t\t// <line className={d.className} key={idx} x1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}/>\n\t\t\t\t\t/*\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\t*/\n\t\t\t\t\tctx.fillRect(d.x - 0.5, d.y, 1, d.height);\n\t\t\t\t} else if (d.height === 0) {\n\t\t\t\t\t// <line key={idx} x1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height} />\n\t\t\t\t\t/*\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x + d.width, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\t*/\n\t\t\t\t\tctx.fillRect(d.x, d.y - 0.5, d.width, 1);\n\t\t\t\t} else {\n\t\t\t\t\t/*\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tif (strokeKey !== \"none\") ctx.stroke();\n\t\t\t\t\t*/\n\t\t\t\t\tctx.fillRect(d.x, d.y, d.width, d.height);\n\t\t\t\t\tif (strokeKey !== \"none\") ctx.strokeRect(d.x, d.y, d.width, d.height);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}\n/*\nfunction getWickData(props, xAccessor, xScale, yScale, plotData) {\n\n\tconst { classNames: classNameProp, wickStroke: wickStrokeProp, yAccessor } = props;\n\tconst wickStroke = functor(wickStrokeProp);\n\tconst className = functor(classNameProp);\n\tconst wickData = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\t// console.log(yAccessor);\n\t\t\t\tconst ohlc = yAccessor(d);\n\n\t\t\t\tconst x = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\ty3 = yScale(Math.min(ohlc.open, ohlc.close)),\n\t\t\t\t\ty4 = yScale(ohlc.low);\n\n\t\t\t\treturn {\n\t\t\t\t\tx,\n\t\t\t\t\ty1,\n\t\t\t\t\ty2,\n\t\t\t\t\ty3,\n\t\t\t\t\ty4,\n\t\t\t\t\tclassName: className(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t\tstroke: wickStroke(ohlc),\n\t\t\t\t};\n\t\t\t});\n\treturn wickData;\n}\n*/\n\nfunction getCandleData(props, xAccessor, xScale, yScale, plotData) {\n\n\tconst { wickStroke: wickStrokeProp } = props;\n\tconst wickStroke = functor(wickStrokeProp);\n\n\tconst { classNames, fill: fillProp, stroke: strokeProp, yAccessor } = props;\n\tconst className = functor(classNames);\n\n\tconst fill = functor(fillProp);\n\tconst stroke = functor(strokeProp);\n\n\tconst widthFunctor = functor(props.width);\n\tconst width = widthFunctor(props, {\n\t\txScale,\n\t\txAccessor,\n\t\tplotData\n\t});\n\n\t/*\n\tconst candleWidth = Math.round(width);\n\tconst offset = Math.round(candleWidth === 1 ? 0 : 0.5 * width);\n\t*/\n\tconst trueOffset = 0.5 * width;\n\tconst offset = trueOffset > 0.7\n\t\t? Math.round(trueOffset)\n\t\t: Math.floor(trueOffset);\n\n\t// eslint-disable-next-line prefer-const\n\tlet candles = [];\n\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\tconst d = plotData[i];\n\t\tif (isDefined(yAccessor(d).close)) {\n\t\t\tconst x = Math.round(xScale(xAccessor(d)));\n\t\t\t// const x = Math.round(xScale(xAccessor(d)) - offset);\n\n\t\t\tconst ohlc = yAccessor(d);\n\t\t\tconst y = Math.round(yScale(Math.max(ohlc.open, ohlc.close)));\n\t\t\tconst height = Math.round(Math.abs(yScale(ohlc.open) - yScale(ohlc.close)));\n\n\t\t\tcandles.push({\n\t\t\t\t// type: \"line\"\n\t\t\t\tx: x - offset,\n\t\t\t\ty: y,\n\t\t\t\twick: {\n\t\t\t\t\tstroke: wickStroke(ohlc),\n\t\t\t\t\tx: x,\n\t\t\t\t\ty1: Math.round(yScale(ohlc.high)),\n\t\t\t\t\ty2: y,\n\t\t\t\t\ty3: y + height, // Math.round(yScale(Math.min(ohlc.open, ohlc.close))),\n\t\t\t\t\ty4: Math.round(yScale(ohlc.low)),\n\t\t\t\t},\n\t\t\t\theight: height,\n\t\t\t\twidth: offset * 2,\n\t\t\t\tclassName: className(ohlc),\n\t\t\t\tfill: fill(ohlc),\n\t\t\t\tstroke: stroke(ohlc),\n\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t});\n\t\t}\n\t}\n\n\treturn candles;\n}\n\nexport default CandlestickSeries;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}