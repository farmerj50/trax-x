{"ast":null,"code":"/**\n * Render range navigator for financial chart\n */\nimport { RangeNavigator } from '../../range-navigator/range-navigator';\nimport { remove } from '@syncfusion/ej2-base';\nimport { getElement } from '../../common/utils/helper';\nimport { Size } from '@syncfusion/ej2-svg-base';\n/** @private */\nvar RangeSelector = /** @class */function () {\n  function RangeSelector(stockChart) {\n    this.stockChart = stockChart;\n  }\n  RangeSelector.prototype.initializeRangeNavigator = function () {\n    var _this = this;\n    var stockChart = this.stockChart;\n    var padding = stockChart.chart.axisCollections[1].labelPadding + stockChart.chart.axisCollections[1].lineStyle.width * 0.5;\n    if (!stockChart.selectorObject) {\n      stockChart.selectorObject = stockChart.renderer.createGroup({\n        id: stockChart.element.id + '_stockChart_rangeSelector',\n        transform: 'translate(' + 0 + ',' + stockChart.cartesianChart.cartesianChartSize.height + ')'\n      });\n      stockChart.mainObject.appendChild(stockChart.selectorObject);\n    } else {\n      var chartElement = document.getElementById(stockChart.selectorObject.id);\n      while (chartElement.firstChild) {\n        chartElement.removeChild(chartElement.firstChild);\n      }\n      if (getElement(stockChart.selectorObject.id + '_leftTooltip')) {\n        remove(getElement(stockChart.selectorObject.id + '_leftTooltip'));\n      }\n      if (getElement(stockChart.selectorObject.id + '_rightTooltip')) {\n        remove(getElement(stockChart.selectorObject.id + '_rightTooltip'));\n      }\n    }\n    stockChart.rangeNavigator = new RangeNavigator({\n      locale: 'en',\n      valueType: stockChart.primaryXAxis.valueType,\n      theme: this.stockChart.theme,\n      series: this.findSeriesCollection(stockChart.series),\n      height: this.calculateChartSize().height.toString(),\n      tickPosition: 'Inside',\n      majorTickLines: {\n        width: 0\n      },\n      value: [stockChart.isDateTimeCategory ? new Date(stockChart.sortedData[Math.floor(stockChart.startValue)]) : new Date(stockChart.startValue), stockChart.isDateTimeCategory ? new Date(stockChart.sortedData[Math.floor(stockChart.endValue)]) : new Date(stockChart.endValue)],\n      margin: this.findMargin(),\n      tooltip: {\n        enable: stockChart.tooltip.enable,\n        displayMode: 'OnDemand'\n      },\n      labelPlacement: 'OnTicks',\n      labelPosition: 'Inside',\n      dataSource: stockChart.dataSource,\n      intervalType: stockChart.primaryXAxis.intervalType,\n      enableRtl: stockChart.enableRtl,\n      changed: function (args) {\n        var arg = {\n          name: 'rangeChange',\n          end: args.end,\n          selectedData: args.selectedData,\n          start: args.start,\n          zoomFactor: args.zoomFactor,\n          zoomPosition: args.zoomPosition,\n          data: undefined\n        };\n        _this.stockChart.trigger('rangeChange', arg);\n        _this.stockChart.startValue = args.start;\n        _this.stockChart.endValue = args.end;\n        if (!_this.stockChart.zoomChange) {\n          _this.stockChart.cartesianChart.cartesianChartRefresh(_this.stockChart, arg.data);\n        }\n        if (stockChart.periodSelector && stockChart.periodSelector.datePicker) {\n          stockChart.periodSelector.datePicker.startDate = _this.stockChart.isDateTimeCategory ? new Date(_this.stockChart.sortedData[Math.floor(args.start)]) : new Date(args.start);\n          stockChart.periodSelector.datePicker.endDate = _this.stockChart.isDateTimeCategory ? new Date(_this.stockChart.sortedData[Math.floor(args.end)]) : new Date(args.end);\n          stockChart.periodSelector.datePicker.dataBind();\n        }\n      }\n    });\n    stockChart.rangeNavigator.stockChart = stockChart;\n    stockChart.rangeNavigator.appendTo(stockChart.selectorObject);\n  };\n  RangeSelector.prototype.findMargin = function () {\n    var margin = {};\n    margin.top = 5;\n    margin.left = 0;\n    margin.right = 0;\n    margin.bottom = 0;\n    return margin;\n  };\n  RangeSelector.prototype.findSeriesCollection = function (series) {\n    var chartSeries = [];\n    for (var i = 0, len = series.length; i < len; i++) {\n      chartSeries.push(series[i]);\n      chartSeries[i].xName = series[i].xName;\n      chartSeries[i].yName = series[i].yName;\n    }\n    return chartSeries;\n  };\n  RangeSelector.prototype.calculateChartSize = function () {\n    var stockChart = this.stockChart;\n    return new Size(stockChart.availableSize.width, stockChart.enableSelector ? 51 : 0);\n  };\n  /**\n   * Performs slider change\n   *\n   * @param {number} start slider start value\n   * @param {number} end slider end value\n   * @returns {void}\n   */\n  RangeSelector.prototype.sliderChange = function (start, end) {\n    this.stockChart.rangeNavigator.rangeSlider.performAnimation(start, end, this.stockChart.rangeNavigator);\n  };\n  return RangeSelector;\n}();\nexport { RangeSelector };","map":{"version":3,"names":["RangeNavigator","remove","getElement","Size","RangeSelector","stockChart","prototype","initializeRangeNavigator","_this","padding","chart","axisCollections","labelPadding","lineStyle","width","selectorObject","renderer","createGroup","id","element","transform","cartesianChart","cartesianChartSize","height","mainObject","appendChild","chartElement","document","getElementById","firstChild","removeChild","rangeNavigator","locale","valueType","primaryXAxis","theme","series","findSeriesCollection","calculateChartSize","toString","tickPosition","majorTickLines","value","isDateTimeCategory","Date","sortedData","Math","floor","startValue","endValue","margin","findMargin","tooltip","enable","displayMode","labelPlacement","labelPosition","dataSource","intervalType","enableRtl","changed","args","arg","name","end","selectedData","start","zoomFactor","zoomPosition","data","undefined","trigger","zoomChange","cartesianChartRefresh","periodSelector","datePicker","startDate","endDate","dataBind","appendTo","top","left","right","bottom","chartSeries","i","len","length","push","xName","yName","availableSize","enableSelector","sliderChange","rangeSlider","performAnimation"],"sources":["C:/Users/gabby/trax-x/node_modules/@syncfusion/ej2-charts/src/stock-chart/renderer/range-selector.js"],"sourcesContent":["/**\n * Render range navigator for financial chart\n */\nimport { RangeNavigator } from '../../range-navigator/range-navigator';\nimport { remove } from '@syncfusion/ej2-base';\nimport { getElement } from '../../common/utils/helper';\nimport { Size } from '@syncfusion/ej2-svg-base';\n/** @private */\nvar RangeSelector = /** @class */ (function () {\n    function RangeSelector(stockChart) {\n        this.stockChart = stockChart;\n    }\n    RangeSelector.prototype.initializeRangeNavigator = function () {\n        var _this = this;\n        var stockChart = this.stockChart;\n        var padding = stockChart.chart.axisCollections[1].labelPadding +\n            stockChart.chart.axisCollections[1].lineStyle.width * 0.5;\n        if (!stockChart.selectorObject) {\n            stockChart.selectorObject = stockChart.renderer.createGroup({\n                id: stockChart.element.id + '_stockChart_rangeSelector',\n                transform: 'translate(' + 0 + ',' + stockChart.cartesianChart.cartesianChartSize.height + ')'\n            });\n            stockChart.mainObject.appendChild(stockChart.selectorObject);\n        }\n        else {\n            var chartElement = document.getElementById(stockChart.selectorObject.id);\n            while (chartElement.firstChild) {\n                chartElement.removeChild(chartElement.firstChild);\n            }\n            if (getElement(stockChart.selectorObject.id + '_leftTooltip')) {\n                remove(getElement(stockChart.selectorObject.id + '_leftTooltip'));\n            }\n            if (getElement(stockChart.selectorObject.id + '_rightTooltip')) {\n                remove(getElement(stockChart.selectorObject.id + '_rightTooltip'));\n            }\n        }\n        stockChart.rangeNavigator = new RangeNavigator({\n            locale: 'en',\n            valueType: stockChart.primaryXAxis.valueType,\n            theme: this.stockChart.theme,\n            series: this.findSeriesCollection(stockChart.series),\n            height: this.calculateChartSize().height.toString(),\n            tickPosition: 'Inside',\n            majorTickLines: { width: 0 },\n            value: [stockChart.isDateTimeCategory ? new Date(stockChart.sortedData[Math.floor(stockChart.startValue)]) :\n                    new Date(stockChart.startValue),\n                stockChart.isDateTimeCategory ? new Date(stockChart.sortedData[Math.floor(stockChart.endValue)]) :\n                    new Date(stockChart.endValue)],\n            margin: this.findMargin(),\n            tooltip: { enable: stockChart.tooltip.enable, displayMode: 'OnDemand' },\n            labelPlacement: 'OnTicks',\n            labelPosition: 'Inside',\n            dataSource: stockChart.dataSource,\n            intervalType: stockChart.primaryXAxis.intervalType,\n            enableRtl: stockChart.enableRtl,\n            changed: function (args) {\n                var arg = {\n                    name: 'rangeChange',\n                    end: args.end,\n                    selectedData: args.selectedData,\n                    start: args.start,\n                    zoomFactor: args.zoomFactor,\n                    zoomPosition: args.zoomPosition,\n                    data: undefined\n                };\n                _this.stockChart.trigger('rangeChange', arg);\n                _this.stockChart.startValue = args.start;\n                _this.stockChart.endValue = args.end;\n                if (!_this.stockChart.zoomChange) {\n                    _this.stockChart.cartesianChart.cartesianChartRefresh(_this.stockChart, arg.data);\n                }\n                if (stockChart.periodSelector && stockChart.periodSelector.datePicker) {\n                    stockChart.periodSelector.datePicker.startDate = _this.stockChart.isDateTimeCategory ?\n                        new Date(_this.stockChart.sortedData[Math.floor(args.start)]) : new Date(args.start);\n                    stockChart.periodSelector.datePicker.endDate = _this.stockChart.isDateTimeCategory ?\n                        new Date(_this.stockChart.sortedData[Math.floor(args.end)]) : new Date(args.end);\n                    stockChart.periodSelector.datePicker.dataBind();\n                }\n            }\n        });\n        stockChart.rangeNavigator.stockChart = stockChart;\n        stockChart.rangeNavigator.appendTo(stockChart.selectorObject);\n    };\n    RangeSelector.prototype.findMargin = function () {\n        var margin = {};\n        margin.top = 5;\n        margin.left = 0;\n        margin.right = 0;\n        margin.bottom = 0;\n        return margin;\n    };\n    RangeSelector.prototype.findSeriesCollection = function (series) {\n        var chartSeries = [];\n        for (var i = 0, len = series.length; i < len; i++) {\n            chartSeries.push(series[i]);\n            chartSeries[i].xName = series[i].xName;\n            chartSeries[i].yName = series[i].yName;\n        }\n        return chartSeries;\n    };\n    RangeSelector.prototype.calculateChartSize = function () {\n        var stockChart = this.stockChart;\n        return (new Size(stockChart.availableSize.width, (stockChart.enableSelector) ? 51 : 0));\n    };\n    /**\n     * Performs slider change\n     *\n     * @param {number} start slider start value\n     * @param {number} end slider end value\n     * @returns {void}\n     */\n    RangeSelector.prototype.sliderChange = function (start, end) {\n        this.stockChart.rangeNavigator.rangeSlider.performAnimation(start, end, this.stockChart.rangeNavigator);\n    };\n    return RangeSelector;\n}());\nexport { RangeSelector };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}