{"ast":null,"code":"import { functor, getClosestValue, getMouseCanvas, GenericChartComponent, isDefined, noop, shallowEqual } from \"@react-financial-charts/core\";\nimport * as React from \"react\";\nimport { getXValue } from \"@react-financial-charts/core/lib/utils/ChartDataUtil\";\nexport class MouseLocationIndicator extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.mutableState = {};\n    this.xy = (e, moreProps) => {\n      const {\n        xAccessor,\n        plotData\n      } = moreProps;\n      const {\n        mouseXY,\n        currentItem,\n        xScale,\n        chartConfig: {\n          yScale\n        }\n      } = moreProps;\n      const {\n        enabled,\n        snap,\n        shouldDisableSnap,\n        snapTo\n      } = this.props;\n      if (enabled && isDefined(currentItem) && isDefined(e)) {\n        const xValue = snap && !shouldDisableSnap(e) ? xAccessor(currentItem) : getXValue(xScale, xAccessor, mouseXY, plotData);\n        const yValue = snap && snapTo !== undefined && !shouldDisableSnap(e) ? getClosestValue(snapTo(currentItem), yScale.invert(mouseXY[1])) : yScale.invert(mouseXY[1]);\n        const x = xScale(xValue);\n        const y = yScale(yValue);\n        return {\n          xValue,\n          yValue,\n          x,\n          y\n        };\n      }\n    };\n    this.handleClick = (e, moreProps) => {\n      const pos = this.xy(e, moreProps);\n      if (pos !== undefined && isDefined(pos)) {\n        const {\n          xValue,\n          yValue,\n          x,\n          y\n        } = pos;\n        this.mutableState = {\n          x,\n          y\n        };\n        this.props.onClick(e, [xValue, yValue], moreProps);\n      }\n    };\n    this.handleMouseDown = (e, moreProps) => {\n      const pos = this.xy(e, moreProps);\n      if (pos !== undefined && isDefined(pos)) {\n        const {\n          xValue,\n          yValue,\n          x,\n          y\n        } = pos;\n        this.mutableState = {\n          x,\n          y\n        };\n        this.props.onMouseDown(e, [xValue, yValue], moreProps);\n      }\n    };\n    this.handleMousePosChange = (e, moreProps) => {\n      if (!shallowEqual(moreProps.mousXY, moreProps.prevMouseXY)) {\n        const pos = this.xy(e, moreProps);\n        if (pos !== undefined && isDefined(pos)) {\n          const {\n            xValue,\n            yValue,\n            x,\n            y\n          } = pos;\n          this.mutableState = {\n            x,\n            y\n          };\n          this.props.onMouseMove(e, [xValue, yValue], moreProps);\n        }\n      }\n    };\n    this.drawOnCanvas = (ctx, moreProps) => {\n      const {\n        enabled,\n        r,\n        stroke,\n        strokeWidth\n      } = this.props;\n      const {\n        x,\n        y\n      } = this.mutableState;\n      const {\n        show\n      } = moreProps;\n      if (enabled && show && isDefined(x)) {\n        ctx.lineWidth = strokeWidth;\n        ctx.strokeStyle = stroke;\n        ctx.moveTo(x, y);\n        ctx.beginPath();\n        ctx.arc(x, y, r, 0, 2 * Math.PI, false);\n        ctx.stroke();\n      }\n    };\n  }\n  render() {\n    const {\n      enabled,\n      disablePan\n    } = this.props;\n    return React.createElement(GenericChartComponent, {\n      onMouseDown: this.handleMouseDown,\n      onClick: this.handleClick,\n      onMouseMove: this.handleMousePosChange,\n      onPan: this.handleMousePosChange,\n      disablePan: enabled && disablePan,\n      canvasDraw: this.drawOnCanvas,\n      canvasToDraw: getMouseCanvas,\n      drawOn: [\"mousemove\", \"pan\"]\n    });\n  }\n}\nMouseLocationIndicator.defaultProps = {\n  onMouseMove: noop,\n  onMouseDown: noop,\n  onClick: noop,\n  shouldDisableSnap: functor(false),\n  stroke: \"#000000\",\n  strokeWidth: 1,\n  opacity: 1,\n  disablePan: true\n};","map":{"version":3,"names":["functor","getClosestValue","getMouseCanvas","GenericChartComponent","isDefined","noop","shallowEqual","React","getXValue","MouseLocationIndicator","Component","constructor","mutableState","xy","e","moreProps","xAccessor","plotData","mouseXY","currentItem","xScale","chartConfig","yScale","enabled","snap","shouldDisableSnap","snapTo","props","xValue","yValue","undefined","invert","x","y","handleClick","pos","onClick","handleMouseDown","onMouseDown","handleMousePosChange","mousXY","prevMouseXY","onMouseMove","drawOnCanvas","ctx","r","stroke","strokeWidth","show","lineWidth","strokeStyle","moveTo","beginPath","arc","Math","PI","render","disablePan","createElement","onPan","canvasDraw","canvasToDraw","drawOn","defaultProps","opacity"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\@react-financial-charts\\interactive\\src\\components\\MouseLocationIndicator.tsx"],"sourcesContent":["import {\n    functor,\n    getClosestValue,\n    getMouseCanvas,\n    GenericChartComponent,\n    isDefined,\n    noop,\n    shallowEqual,\n} from \"@react-financial-charts/core\";\nimport * as React from \"react\";\nimport { getXValue } from \"@react-financial-charts/core/lib/utils/ChartDataUtil\";\n\nexport interface MouseLocationIndicatorProps {\n    readonly enabled: boolean;\n    readonly snap: boolean;\n    readonly shouldDisableSnap: (e: React.MouseEvent) => boolean;\n    readonly snapTo?: (datum: any) => number | number[];\n    readonly onMouseMove: (e: React.MouseEvent, xyValue: number[], moreProps: any) => void;\n    readonly onMouseDown: (e: React.MouseEvent, xyValue: number[], moreProps: any) => void;\n    readonly onClick: (e: React.MouseEvent, xyValue: number[], moreProps: any) => void;\n    readonly r: number;\n    readonly stroke: string;\n    readonly strokeWidth: number;\n    readonly opacity: number;\n    readonly disablePan: boolean;\n}\n\nexport class MouseLocationIndicator extends React.Component<MouseLocationIndicatorProps> {\n    public static defaultProps = {\n        onMouseMove: noop,\n        onMouseDown: noop,\n        onClick: noop,\n        shouldDisableSnap: functor(false),\n        stroke: \"#000000\",\n        strokeWidth: 1,\n        opacity: 1,\n        disablePan: true,\n    };\n\n    private mutableState: any = {};\n\n    public render() {\n        const { enabled, disablePan } = this.props;\n\n        return (\n            <GenericChartComponent\n                onMouseDown={this.handleMouseDown}\n                onClick={this.handleClick}\n                onMouseMove={this.handleMousePosChange}\n                onPan={this.handleMousePosChange}\n                disablePan={enabled && disablePan}\n                canvasDraw={this.drawOnCanvas}\n                canvasToDraw={getMouseCanvas}\n                drawOn={[\"mousemove\", \"pan\"]}\n            />\n        );\n    }\n\n    private readonly xy = (e: React.MouseEvent, moreProps: any) => {\n        const { xAccessor, plotData } = moreProps;\n        const {\n            mouseXY,\n            currentItem,\n            xScale,\n            chartConfig: { yScale },\n        } = moreProps;\n        const { enabled, snap, shouldDisableSnap, snapTo } = this.props;\n\n        if (enabled && isDefined(currentItem) && isDefined(e)) {\n            const xValue =\n                snap && !shouldDisableSnap(e)\n                    ? xAccessor(currentItem)\n                    : getXValue(xScale, xAccessor, mouseXY, plotData);\n            const yValue =\n                snap && snapTo !== undefined && !shouldDisableSnap(e)\n                    ? getClosestValue(snapTo(currentItem), yScale.invert(mouseXY[1]))\n                    : yScale.invert(mouseXY[1]);\n\n            const x = xScale(xValue);\n            const y = yScale(yValue);\n\n            return { xValue, yValue, x, y };\n        }\n    };\n\n    private readonly handleClick = (e: React.MouseEvent, moreProps: any) => {\n        const pos = this.xy(e, moreProps);\n        if (pos !== undefined && isDefined(pos)) {\n            const { xValue, yValue, x, y } = pos;\n            this.mutableState = { x, y };\n            this.props.onClick(e, [xValue, yValue], moreProps);\n        }\n    };\n\n    private readonly handleMouseDown = (e: React.MouseEvent, moreProps: any) => {\n        const pos = this.xy(e, moreProps);\n        if (pos !== undefined && isDefined(pos)) {\n            const { xValue, yValue, x, y } = pos;\n            this.mutableState = { x, y };\n            this.props.onMouseDown(e, [xValue, yValue], moreProps);\n        }\n    };\n\n    private readonly handleMousePosChange = (e: React.MouseEvent, moreProps: any) => {\n        if (!shallowEqual(moreProps.mousXY, moreProps.prevMouseXY)) {\n            const pos = this.xy(e, moreProps);\n            if (pos !== undefined && isDefined(pos)) {\n                const { xValue, yValue, x, y } = pos;\n                this.mutableState = { x, y };\n                this.props.onMouseMove(e, [xValue, yValue], moreProps);\n            }\n        }\n    };\n\n    private readonly drawOnCanvas = (ctx: CanvasRenderingContext2D, moreProps: any) => {\n        const { enabled, r, stroke, strokeWidth } = this.props;\n        const { x, y } = this.mutableState;\n        const { show } = moreProps;\n        if (enabled && show && isDefined(x)) {\n            ctx.lineWidth = strokeWidth;\n            ctx.strokeStyle = stroke;\n            ctx.moveTo(x, y);\n            ctx.beginPath();\n            ctx.arc(x, y, r, 0, 2 * Math.PI, false);\n            ctx.stroke();\n        }\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}