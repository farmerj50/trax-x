{"ast":null,"code":"import { getMouseCanvas, GenericChartComponent } from \"@react-financial-charts/core\";\nimport * as React from \"react\";\n/**\n * Draws a circle at the current x location of radius `r`.\n */\nexport class CurrentCoordinate extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.drawOnCanvas = (ctx, moreProps) => {\n      const circle = this.getCircle(moreProps);\n      if (circle === undefined) {\n        return;\n      }\n      const {\n        fillStyle,\n        r,\n        strokeStyle\n      } = this.props;\n      const fillColor = fillStyle instanceof Function ? fillStyle(moreProps.currentItem) : fillStyle;\n      if (fillColor !== undefined) {\n        ctx.fillStyle = fillColor;\n      }\n      const strokeColor = strokeStyle instanceof Function ? strokeStyle(moreProps.currentItem) : strokeStyle;\n      if (strokeColor !== undefined) {\n        ctx.strokeStyle = strokeColor;\n      }\n      ctx.beginPath();\n      ctx.arc(circle.x, circle.y, r, 0, 2 * Math.PI, false);\n      ctx.fill();\n      if (strokeColor !== undefined) {\n        ctx.stroke();\n      }\n    };\n    this.getCircle = moreProps => {\n      const {\n        show,\n        xScale,\n        chartConfig: {\n          yScale\n        },\n        currentItem,\n        xAccessor\n      } = moreProps;\n      if (!show || currentItem === undefined) {\n        return undefined;\n      }\n      const {\n        yAccessor\n      } = this.props;\n      const xValue = xAccessor(currentItem);\n      const yValue = yAccessor(currentItem);\n      if (yValue === undefined) {\n        return undefined;\n      }\n      const x = Math.round(xScale(xValue));\n      const y = Math.round(yScale(yValue));\n      return {\n        x,\n        y\n      };\n    };\n  }\n  render() {\n    return React.createElement(GenericChartComponent, {\n      canvasDraw: this.drawOnCanvas,\n      canvasToDraw: getMouseCanvas,\n      drawOn: [\"mousemove\", \"pan\"]\n    });\n  }\n}\nCurrentCoordinate.defaultProps = {\n  fillStyle: \"#2196f3\",\n  r: 3\n};","map":{"version":3,"names":["getMouseCanvas","GenericChartComponent","React","CurrentCoordinate","Component","constructor","drawOnCanvas","ctx","moreProps","circle","getCircle","undefined","fillStyle","r","strokeStyle","props","fillColor","Function","currentItem","strokeColor","beginPath","arc","x","y","Math","PI","fill","stroke","show","xScale","chartConfig","yScale","xAccessor","yAccessor","xValue","yValue","round","render","createElement","canvasDraw","canvasToDraw","drawOn","defaultProps"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\@react-financial-charts\\coordinates\\src\\CurrentCoordinate.tsx"],"sourcesContent":["import { getMouseCanvas, GenericChartComponent } from \"@react-financial-charts/core\";\nimport * as React from \"react\";\n\nexport interface CurrentCoordinateProps {\n    /**\n     * Fill style for the circle.\n     */\n    readonly fillStyle?: string | ((datum: any) => string);\n    /**\n     * The radius to draw the circle\n     */\n    readonly r: number;\n    /**\n     * Stroke of the circle\n     */\n    readonly strokeStyle?: string | ((datum: any) => string);\n    /**\n     * Y accessor to use for the circle.\n     */\n    readonly yAccessor: (item: any) => number;\n}\n\n/**\n * Draws a circle at the current x location of radius `r`.\n */\nexport class CurrentCoordinate extends React.Component<CurrentCoordinateProps> {\n    public static defaultProps = {\n        fillStyle: \"#2196f3\",\n        r: 3,\n    };\n\n    public render() {\n        return (\n            <GenericChartComponent\n                canvasDraw={this.drawOnCanvas}\n                canvasToDraw={getMouseCanvas}\n                drawOn={[\"mousemove\", \"pan\"]}\n            />\n        );\n    }\n\n    private readonly drawOnCanvas = (ctx: CanvasRenderingContext2D, moreProps: any) => {\n        const circle = this.getCircle(moreProps);\n        if (circle === undefined) {\n            return;\n        }\n\n        const { fillStyle, r, strokeStyle } = this.props;\n\n        const fillColor = fillStyle instanceof Function ? fillStyle(moreProps.currentItem) : fillStyle;\n        if (fillColor !== undefined) {\n            ctx.fillStyle = fillColor;\n        }\n\n        const strokeColor = strokeStyle instanceof Function ? strokeStyle(moreProps.currentItem) : strokeStyle;\n        if (strokeColor !== undefined) {\n            ctx.strokeStyle = strokeColor;\n        }\n\n        ctx.beginPath();\n        ctx.arc(circle.x, circle.y, r, 0, 2 * Math.PI, false);\n        ctx.fill();\n        if (strokeColor !== undefined) {\n            ctx.stroke();\n        }\n    };\n\n    private readonly getCircle = (moreProps: any) => {\n        const {\n            show,\n            xScale,\n            chartConfig: { yScale },\n            currentItem,\n            xAccessor,\n        } = moreProps;\n\n        if (!show || currentItem === undefined) {\n            return undefined;\n        }\n\n        const { yAccessor } = this.props;\n\n        const xValue = xAccessor(currentItem);\n        const yValue = yAccessor(currentItem);\n\n        if (yValue === undefined) {\n            return undefined;\n        }\n\n        const x = Math.round(xScale(xValue));\n        const y = Math.round(yScale(yValue));\n\n        return { x, y };\n    };\n}\n"],"mappings":"AAAA,SAASA,cAAc,EAAEC,qBAAqB,QAAQ,8BAA8B;AACpF,OAAO,KAAKC,KAAK,MAAM,OAAO;AAqB9B;;;AAGA,OAAM,MAAOC,iBAAkB,SAAQD,KAAK,CAACE,SAAiC;EAA9EC,YAAA;;IAgBqB,KAAAC,YAAY,GAAG,CAACC,GAA6B,EAAEC,SAAc,KAAI;MAC9E,MAAMC,MAAM,GAAG,IAAI,CAACC,SAAS,CAACF,SAAS,CAAC;MACxC,IAAIC,MAAM,KAAKE,SAAS,EAAE;QACtB;;MAGJ,MAAM;QAAEC,SAAS;QAAEC,CAAC;QAAEC;MAAW,CAAE,GAAG,IAAI,CAACC,KAAK;MAEhD,MAAMC,SAAS,GAAGJ,SAAS,YAAYK,QAAQ,GAAGL,SAAS,CAACJ,SAAS,CAACU,WAAW,CAAC,GAAGN,SAAS;MAC9F,IAAII,SAAS,KAAKL,SAAS,EAAE;QACzBJ,GAAG,CAACK,SAAS,GAAGI,SAAS;;MAG7B,MAAMG,WAAW,GAAGL,WAAW,YAAYG,QAAQ,GAAGH,WAAW,CAACN,SAAS,CAACU,WAAW,CAAC,GAAGJ,WAAW;MACtG,IAAIK,WAAW,KAAKR,SAAS,EAAE;QAC3BJ,GAAG,CAACO,WAAW,GAAGK,WAAW;;MAGjCZ,GAAG,CAACa,SAAS,EAAE;MACfb,GAAG,CAACc,GAAG,CAACZ,MAAM,CAACa,CAAC,EAAEb,MAAM,CAACc,CAAC,EAAEV,CAAC,EAAE,CAAC,EAAE,CAAC,GAAGW,IAAI,CAACC,EAAE,EAAE,KAAK,CAAC;MACrDlB,GAAG,CAACmB,IAAI,EAAE;MACV,IAAIP,WAAW,KAAKR,SAAS,EAAE;QAC3BJ,GAAG,CAACoB,MAAM,EAAE;;IAEpB,CAAC;IAEgB,KAAAjB,SAAS,GAAIF,SAAc,IAAI;MAC5C,MAAM;QACFoB,IAAI;QACJC,MAAM;QACNC,WAAW,EAAE;UAAEC;QAAM,CAAE;QACvBb,WAAW;QACXc;MAAS,CACZ,GAAGxB,SAAS;MAEb,IAAI,CAACoB,IAAI,IAAIV,WAAW,KAAKP,SAAS,EAAE;QACpC,OAAOA,SAAS;;MAGpB,MAAM;QAAEsB;MAAS,CAAE,GAAG,IAAI,CAAClB,KAAK;MAEhC,MAAMmB,MAAM,GAAGF,SAAS,CAACd,WAAW,CAAC;MACrC,MAAMiB,MAAM,GAAGF,SAAS,CAACf,WAAW,CAAC;MAErC,IAAIiB,MAAM,KAAKxB,SAAS,EAAE;QACtB,OAAOA,SAAS;;MAGpB,MAAMW,CAAC,GAAGE,IAAI,CAACY,KAAK,CAACP,MAAM,CAACK,MAAM,CAAC,CAAC;MACpC,MAAMX,CAAC,GAAGC,IAAI,CAACY,KAAK,CAACL,MAAM,CAACI,MAAM,CAAC,CAAC;MAEpC,OAAO;QAAEb,CAAC;QAAEC;MAAC,CAAE;IACnB,CAAC;EACL;EA/DWc,MAAMA,CAAA;IACT,OACInC,KAAA,CAAAoC,aAAA,CAACrC,qBAAqB;MAClBsC,UAAU,EAAE,IAAI,CAACjC,YAAY;MAC7BkC,YAAY,EAAExC,cAAc;MAC5ByC,MAAM,EAAE,CAAC,WAAW,EAAE,KAAK;IAAC,EAC9B;EAEV;;AAbctC,iBAAA,CAAAuC,YAAY,GAAG;EACzB9B,SAAS,EAAE,SAAS;EACpBC,CAAC,EAAE;CACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}