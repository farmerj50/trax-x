{"ast":null,"code":"import * as React from \"react\";\nexport const withDeviceRatio = () => {\n  return OriginalComponent => {\n    return class WithRatio extends React.Component {\n      constructor() {\n        super(...arguments);\n        this.ref = React.createRef();\n      }\n      componentDidMount() {\n        var _a, _b, _c, _d, _e;\n        const {\n          current\n        } = this.ref;\n        if (current === null) {\n          this.setState({\n            ratio: 1\n          });\n          return;\n        }\n        const context = current.getContext(\"2d\");\n        const {\n          devicePixelRatio\n        } = window;\n        const backingStoreRatio = (_e = (_d = (_c = (_b = (_a = context.webkitBackingStorePixelRatio) !== null && _a !== void 0 ? _a : context.mozBackingStorePixelRatio) !== null && _b !== void 0 ? _b : context.msBackingStorePixelRatio) !== null && _c !== void 0 ? _c : context.oBackingStorePixelRatio) !== null && _d !== void 0 ? _d : context.backingStorePixelRatio) !== null && _e !== void 0 ? _e : 1;\n        this.setState({\n          ratio: devicePixelRatio / backingStoreRatio\n        });\n      }\n      render() {\n        const state = this.state;\n        if (state !== null) {\n          return React.createElement(OriginalComponent, Object.assign({}, this.props, {\n            ratio: state.ratio\n          }));\n        }\n        return React.createElement(\"canvas\", {\n          ref: this.ref\n        });\n      }\n    };\n  };\n};","map":{"version":3,"names":["React","withDeviceRatio","OriginalComponent","WithRatio","Component","constructor","ref","createRef","componentDidMount","current","setState","ratio","context","getContext","devicePixelRatio","window","backingStoreRatio","_e","_d","_c","_b","_a","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","render","state","createElement","Object","assign","props"],"sources":["C:\\Users\\gabby\\trax-x\\node_modules\\@react-financial-charts\\utils\\src\\withDeviceRatio.tsx"],"sourcesContent":["import * as React from \"react\";\n\nexport interface WithRatioProps {\n    readonly ratio: number;\n}\n\nexport interface WithRatioState {\n    ratio: number;\n}\n\nexport const withDeviceRatio = () => {\n    return <TProps extends WithRatioProps>(OriginalComponent: React.ComponentClass<TProps>) => {\n        return class WithRatio extends React.Component<Omit<TProps, \"ratio\">, WithRatioState> {\n            public readonly ref = React.createRef<HTMLCanvasElement>();\n\n            public componentDidMount() {\n                const { current } = this.ref;\n                if (current === null) {\n                    this.setState({\n                        ratio: 1,\n                    });\n\n                    return;\n                }\n\n                const context: any = current.getContext(\"2d\");\n\n                const { devicePixelRatio } = window;\n\n                const backingStoreRatio =\n                    context.webkitBackingStorePixelRatio ??\n                    context.mozBackingStorePixelRatio ??\n                    context.msBackingStorePixelRatio ??\n                    context.oBackingStorePixelRatio ??\n                    context.backingStorePixelRatio ??\n                    1;\n\n                this.setState({\n                    ratio: devicePixelRatio / backingStoreRatio,\n                });\n            }\n\n            public render() {\n                const state = this.state;\n                if (state !== null) {\n                    return <OriginalComponent {...(this.props as TProps)} ratio={state.ratio} />;\n                }\n\n                return <canvas ref={this.ref} />;\n            }\n        };\n    };\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAU9B,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAK;EAChC,OAAuCC,iBAA+C,IAAI;IACtF,OAAO,MAAMC,SAAU,SAAQH,KAAK,CAACI,SAAgD;MAA9EC,YAAA;;QACa,KAAAC,GAAG,GAAGN,KAAK,CAACO,SAAS,EAAqB;MAqC9D;MAnCWC,iBAAiBA,CAAA;;QACpB,MAAM;UAAEC;QAAO,CAAE,GAAG,IAAI,CAACH,GAAG;QAC5B,IAAIG,OAAO,KAAK,IAAI,EAAE;UAClB,IAAI,CAACC,QAAQ,CAAC;YACVC,KAAK,EAAE;WACV,CAAC;UAEF;;QAGJ,MAAMC,OAAO,GAAQH,OAAO,CAACI,UAAU,CAAC,IAAI,CAAC;QAE7C,MAAM;UAAEC;QAAgB,CAAE,GAAGC,MAAM;QAEnC,MAAMC,iBAAiB,GACnB,CAAAC,EAAA,IAAAC,EAAA,IAAAC,EAAA,IAAAC,EAAA,IAAAC,EAAA,GAAAT,OAAO,CAACU,4BAA4B,cAAAD,EAAA,cAAAA,EAAA,GACpCT,OAAO,CAACW,yBAAyB,cAAAH,EAAA,cAAAA,EAAA,GACjCR,OAAO,CAACY,wBAAwB,cAAAL,EAAA,cAAAA,EAAA,GAChCP,OAAO,CAACa,uBAAuB,cAAAP,EAAA,cAAAA,EAAA,GAC/BN,OAAO,CAACc,sBAAsB,cAAAT,EAAA,cAAAA,EAAA,GAC9B,CAAC;QAEL,IAAI,CAACP,QAAQ,CAAC;UACVC,KAAK,EAAEG,gBAAgB,GAAGE;SAC7B,CAAC;MACN;MAEOW,MAAMA,CAAA;QACT,MAAMC,KAAK,GAAG,IAAI,CAACA,KAAK;QACxB,IAAIA,KAAK,KAAK,IAAI,EAAE;UAChB,OAAO5B,KAAA,CAAA6B,aAAA,CAAC3B,iBAAiB,EAAA4B,MAAA,CAAAC,MAAA,KAAM,IAAI,CAACC,KAAgB;YAAErB,KAAK,EAAEiB,KAAK,CAACjB;UAAK,GAAI;;QAGhF,OAAOX,KAAA,CAAA6B,aAAA;UAAQvB,GAAG,EAAE,IAAI,CAACA;QAAG,EAAI;MACpC;KACH;EACL,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}