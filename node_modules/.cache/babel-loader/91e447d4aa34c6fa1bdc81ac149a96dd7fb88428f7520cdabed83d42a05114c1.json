{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { extend, isNullOrUndefined, Animation } from '@syncfusion/ej2-base';\nimport { ChartLocation } from '../../common/utils/helper';\nimport { stopTimer, removeElement } from '../../common/utils/helper';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { Tooltip as SVGTooltip } from '@syncfusion/ej2-svg-base';\nimport { Selection } from '../../chart/user-interaction/selection';\n/**\n * `Tooltip` module is used to render the tooltip for series.\n */\nvar BaseTooltip = /** @class */function (_super) {\n  __extends(BaseTooltip, _super);\n  /**\n   * Constructor for tooltip module.\n   *\n   * @private\n   */\n  function BaseTooltip(chart) {\n    var _this = _super.call(this, chart) || this;\n    _this.element = _this.chart.element;\n    _this.textStyle = chart.tooltip.textStyle;\n    _this.control = chart;\n    _this.template = chart.tooltip.template;\n    return _this;\n  }\n  BaseTooltip.prototype.getElement = function (id) {\n    return document.getElementById(id);\n  };\n  /**\n   * Renders the tooltip.\n   *\n   * @returns {void}\n   * @private\n   */\n  BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\n    this.inverted = this.chart.requireInvertedAxis;\n    this.header = this.control.tooltip.header === null ? this.control.tooltip.shared ? '${point.x}' : '${series.name}' : this.control.tooltip.header;\n    this.formattedText = [];\n    var tooltipDiv = document.getElementById(this.chart.element.id + '_tooltip');\n    var isStockChart = this.chart.element.id.indexOf('stockChart') > -1;\n    if (!isTooltip && !tooltipDiv || isStockChart) {\n      return this.createElement();\n    }\n    return null;\n  };\n  BaseTooltip.prototype.createElement = function () {\n    var tooltipDiv = document.createElement('div');\n    tooltipDiv.id = this.element.id + '_tooltip';\n    tooltipDiv.className = 'ejSVGTooltip';\n    tooltipDiv.style.pointerEvents = 'none';\n    tooltipDiv.style.position = 'absolute';\n    tooltipDiv.style.zIndex = '1';\n    return tooltipDiv;\n  };\n  BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart, enable3D) {\n    if (data.series.enableTooltip) {\n      if (enable3D) {\n        this.currentPoints.push(data);\n      } else if (isChart) {\n        this.currentPoints.push(data);\n      } else {\n        this.currentPoints.push(data);\n      }\n      this.stopAnimation();\n      if (tooltipDiv && !document.getElementById(tooltipDiv.id)) {\n        if (!this.chart.stockChart) {\n          document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        } else {\n          document.getElementById(this.chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n        }\n      }\n      return true;\n    }\n    return false;\n  };\n  BaseTooltip.prototype.removeHighlight = function () {\n    var item;\n    // let series: Series;\n    for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n      item = this.previousPoints[i];\n      if (item.series.isRectSeries || this.chart.tooltip.enableHighlight) {\n        if (item.series.visible) {\n          this.highlightPoint(item.series, item.point.index, false);\n        }\n        continue;\n      }\n      // series = item.series as Series;\n    }\n  };\n  /**\n   * Animates the opacity change of the given element to simulate a highlight effect.\n   *\n   * @param {number} targetOpacity - The final opacity value to which the element's opacity will be animated.\n   * @param {HTMLElement} targetElement - The DOM element whose opacity is to be animated.\n   * @param {number} duration - The duration of the animation effect.\n   * @param {number} targetStrokeWidth - The final stroke-width value to which the element's stroke-width will be animated.\n   * @returns {void}\n   * @private\n   */\n  BaseTooltip.prototype.animateHighlight = function (targetOpacity, targetElement, duration, targetStrokeWidth) {\n    var initialOpacity = parseFloat(targetElement.getAttribute('opacity'));\n    var initialStrokeWidth = null;\n    if (targetStrokeWidth !== null) {\n      initialStrokeWidth = parseFloat(targetElement.getAttribute('stroke-width'));\n    }\n    new Animation({}).animate(targetElement, {\n      duration: duration,\n      progress: function (args) {\n        targetElement.style.animation = '';\n        if (targetStrokeWidth !== null) {\n          var newStrokeWidth = initialStrokeWidth + args.timeStamp / args.duration * (targetStrokeWidth - initialStrokeWidth);\n          targetElement.setAttribute('stroke-width', Math.max(newStrokeWidth, targetStrokeWidth).toString());\n        }\n        var newOpacity = initialOpacity + args.timeStamp / args.duration * (targetOpacity - initialOpacity);\n        targetElement.setAttribute('opacity', Math.min(newOpacity, targetOpacity).toString());\n      },\n      end: function () {\n        if (targetStrokeWidth !== null) {\n          targetElement.setAttribute('stroke-width', targetStrokeWidth.toString());\n        }\n        targetElement.setAttribute('opacity', targetOpacity.toString());\n      }\n    });\n  };\n  BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n    var _this = this;\n    var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n    var selectionModule = this.control.accumulationSelectionModule;\n    var isAccumulation = this.chart.getModuleName() === 'accumulationchart';\n    var isSelectedElement = selectionModule && selectionModule.selectedDataIndexes.length > 0 ? true : false;\n    if (element || !series.isRectSeries) {\n      if (!isSelectedElement || isSelectedElement && element.getAttribute('class') && element.getAttribute('class').indexOf('_ej2_chart_selection_series_') === -1 || !series.isRectSeries) {\n        if (series.isRectSeries && this.chart.highlightColor !== '' && !isNullOrUndefined(this.chart.highlightColor)) {\n          element.setAttribute('fill', highlight && this.chart.highlightColor !== 'transparent' ? this.chart.highlightColor : series.pointColorMapping !== '' ? series.points[0].color : series.points[pointIndex].color || series.interior);\n        } else {\n          var visibleSeriesLength = this.chart.visibleSeries.filter(function (series) {\n            return series.visible;\n          }).length;\n          if (this.control.highlightMode === 'None' && this.chart.tooltip.enableHighlight && (!this.chart.tooltip.shared && visibleSeriesLength > 1 || isAccumulation)) {\n            var target_1 = this.element.id + '_Series_' + series.index + '_Point_' + pointIndex;\n            var _loop_1 = function (currentSeries) {\n              var seriesElementsGroupCollections = [];\n              var currentSeriesWidth = typeof currentSeries.width === 'number' ? currentSeries.width : parseFloat(currentSeries.width);\n              seriesElementsGroupCollections = isAccumulation ? [this_1.getElement(this_1.chart.element.id + '_Series_' + currentSeries.index)] : new Selection(this_1.chart).getSeriesElements(currentSeries);\n              seriesElementsGroupCollections.forEach(function (seriesElementsGroup) {\n                seriesElementsGroup.childNodes.forEach(function (seriesElement) {\n                  if (isAccumulation ? !seriesElement.getAttribute('class') : !seriesElement.getAttribute('class') && !seriesElementsGroup.getAttribute('class')) {\n                    if (highlight && _this.chart.highlightColor !== 'transparent' && seriesElement.id !== '') {\n                      if (isAccumulation ? seriesElement.id === target_1 : currentSeries.index === series.index) {\n                        _this.animateHighlight(currentSeries.opacity, seriesElement, _this.chart.tooltip.duration, (!series.isRectSeries || seriesElement.id.indexOf('border') > -1) && !isAccumulation ? currentSeriesWidth + currentSeriesWidth / 2 : null);\n                      } else {\n                        _this.animateHighlight(0.25, seriesElement, _this.chart.tooltip.duration, (!series.isRectSeries || seriesElement.id.indexOf('border') > -1) && !isAccumulation ? currentSeriesWidth : null);\n                      }\n                    } else if (!_this.currentPoints[0] && seriesElement.id !== '') {\n                      var targetOpacity = seriesElement.id.indexOf('border') > -1 ? 1 : seriesElement.id.indexOf('Symbol') > -1 ? currentSeries.marker.opacity : currentSeries.opacity;\n                      _this.animateHighlight(targetOpacity, seriesElement, _this.chart.tooltip.duration, (!series.isRectSeries || seriesElement.id.indexOf('border') > -1) && !isAccumulation ? currentSeriesWidth : null);\n                    }\n                  }\n                });\n              });\n            };\n            var this_1 = this;\n            for (var _i = 0, _a = this.chart.visibleSeries; _i < _a.length; _i++) {\n              var currentSeries = _a[_i];\n              _loop_1(currentSeries);\n            }\n          } else if (series.isRectSeries) {\n            element.setAttribute('opacity', (highlight && this.chart.highlightColor !== 'transparent' ? series.opacity / 2 : series.opacity).toString());\n          }\n        }\n      } else {\n        element.setAttribute('opacity', series.opacity.toString());\n      }\n    }\n  };\n  BaseTooltip.prototype.highlightPoints = function () {\n    for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n      var item = _a[_i];\n      if ((item.series.isRectSeries || this.chart.tooltip.enableHighlight) && item.series.category === 'Series') {\n        this.highlightPoint(item.series, item.point.index, true);\n      }\n    }\n  };\n  BaseTooltip.prototype.createTooltip = function (chart, isFirst, location, clipLocation, point, shapes, offset, bounds, crosshairEnabled, extraPoints, templatePoint, customTemplate) {\n    if (crosshairEnabled === void 0) {\n      crosshairEnabled = false;\n    }\n    if (extraPoints === void 0) {\n      extraPoints = null;\n    }\n    if (templatePoint === void 0) {\n      templatePoint = null;\n    }\n    var series = this.currentPoints[0].series;\n    var tooltipModule = chart.tooltipModule || chart.tooltip3DModule || chart.accumulationTooltipModule;\n    if (!tooltipModule || location === null) {\n      // For the tooltip enable is false.\n      removeElement(this.chart.element.id + '_tooltip');\n      return;\n    }\n    if (isFirst) {\n      this.svgTooltip = new SVGTooltip({\n        opacity: chart.tooltip.opacity ? chart.tooltip.opacity : this.chart.theme === 'Material3' || this.chart.theme === 'Material3Dark' || this.chart.theme.indexOf('Bootstrap5') > -1 ? 1 : 0.75,\n        header: this.headerText,\n        content: this.text,\n        fill: chart.tooltip.fill,\n        border: chart.tooltip.border,\n        enableAnimation: chart.tooltip.enableAnimation,\n        location: location,\n        shared: this.control.tooltip.shared,\n        crosshair: crosshairEnabled,\n        shapes: shapes,\n        clipBounds: this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation,\n        areaBounds: bounds,\n        palette: this.findPalette(),\n        template: customTemplate || this.template,\n        data: templatePoint,\n        theme: chart.theme,\n        offset: offset,\n        textStyle: chart.tooltip.textStyle,\n        isNegative: series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0,\n        inverted: this.chart.requireInvertedAxis && series.isRectSeries,\n        arrowPadding: this.text.length > 1 || this.chart.stockChart || this.chart.tooltip.location.x !== null || this.chart.tooltip.location.y !== null ? 0 : 7,\n        availableSize: chart.availableSize,\n        duration: this.chart.tooltip.duration,\n        isCanvas: this.chart.enableCanvas,\n        isFixed: this.chart.tooltip.location.x !== null || this.chart.tooltip.location.y !== null,\n        isTextWrap: chart.tooltip.enableTextWrap && chart.getModuleName() === 'chart',\n        blazorTemplate: {\n          name: 'Template',\n          parent: this.chart.tooltip\n        },\n        controlInstance: this.chart,\n        enableRTL: chart.enableRtl,\n        controlName: 'Chart',\n        allowHighlight: chart.getModuleName() === 'chart' && !series.marker.allowHighlight,\n        tooltipRender: function () {\n          tooltipModule.removeHighlight();\n          tooltipModule.highlightPoints();\n          tooltipModule.updatePreviousPoint(extraPoints);\n        },\n        animationComplete: function (args) {\n          if (args.tooltip.fadeOuted) {\n            tooltipModule.fadeOut(tooltipModule.previousPoints);\n          }\n        }\n      });\n      this.svgTooltip.appendTo(this.getElement(this.element.id + '_tooltip'));\n    } else {\n      if (this.svgTooltip) {\n        this.svgTooltip.location = location;\n        this.svgTooltip.content = this.text;\n        this.svgTooltip.header = this.headerText;\n        this.svgTooltip.offset = offset;\n        this.svgTooltip.palette = this.findPalette();\n        this.svgTooltip.shapes = shapes;\n        this.svgTooltip.data = templatePoint;\n        this.svgTooltip.template = this.template;\n        this.svgTooltip.controlName = 'Chart';\n        this.svgTooltip.crosshair = crosshairEnabled;\n        this.svgTooltip.textStyle = chart.tooltip.textStyle;\n        this.svgTooltip.isNegative = series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0;\n        this.svgTooltip.clipBounds = this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation;\n        this.svgTooltip.arrowPadding = this.text.length > 1 || this.chart.stockChart || this.chart.tooltip.location.x !== null || this.chart.tooltip.location.y !== null ? 0 : 7;\n        this.svgTooltip.allowHighlight = chart.getModuleName() === 'chart' && !series.marker.allowHighlight;\n        this.svgTooltip.dataBind();\n      }\n    }\n    if (this.chart.isReact) {\n      this.chart.renderReactTemplates();\n    }\n  };\n  BaseTooltip.prototype.findPalette = function () {\n    var colors = [];\n    for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n      var data = _a[_i];\n      colors.push(this.findColor(data, data.series));\n    }\n    return colors;\n  };\n  BaseTooltip.prototype.findColor = function (data, series) {\n    if (series.isRectSeries && (series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose')) {\n      return data.point.color;\n    } else {\n      return (data.point.color && data.point.color !== '#ffffff' ? data.point.color : data.point.interior) || series.marker.fill || series.interior;\n    }\n  };\n  BaseTooltip.prototype.updatePreviousPoint = function (extraPoints) {\n    if (extraPoints) {\n      this.currentPoints = this.currentPoints.concat(extraPoints);\n    }\n    this.previousPoints = extend([], this.currentPoints, null, true);\n  };\n  BaseTooltip.prototype.fadeOut = function (data) {\n    var svgElement = this.chart.enableCanvas ? this.getElement(this.element.id + '_tooltip_group') : this.getElement(this.element.id + '_tooltip_svg') || this.getElement(this.element.id + '_tooltipparent_template');\n    var isTooltip = svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0;\n    if (!isTooltip) {\n      this.valueX = null;\n      this.valueY = null;\n      this.currentPoints = [];\n      this.removeHighlight();\n      this.removeHighlightedMarker(data, true);\n      this.svgTooltip = null;\n      this.control.trigger('animationComplete', {});\n    }\n  };\n  /*\n  * @hidden\n  */\n  BaseTooltip.prototype.removeHighlightedMarker = function (data, fadeOut) {\n    if (this.chart.markerRender) {\n      for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n        var item = data_1[_i];\n        removeElement(this.element.id + '_Series_' + item.series.index + '_Point_' + item.point.index + '_Trackball');\n        this.chart.markerRender.removeHighlightedMarker(item.series, item.point, fadeOut);\n      }\n    }\n    this.previousPoints = [];\n  };\n  // public triggerEvent(point: PointData | AccPointData, isFirst: boolean, textCollection: string, firstText: boolean = true): boolean {\n  //     let argsData: ITooltipRenderEventArgs = {\n  //         cancel: false, name: tooltipRender, text: textCollection,\n  //         point: point.point, series: point.series, textStyle: this.textStyle\n  //     };\n  //     this.chart.trigger(tooltipRender, argsData);\n  //     if (!argsData.cancel) {\n  //         if (point.series.type === 'BoxAndWhisker') {\n  //             this.removeText();\n  //             isFirst = true;\n  //         }\n  //         this.formattedText = this.formattedText.concat(argsData.text);\n  //         this.text = this.formattedText;\n  //     }\n  //     return !argsData.cancel;\n  // }\n  BaseTooltip.prototype.removeText = function () {\n    this.textElements = [];\n    var element = this.getElement(this.element.id + '_tooltip_group');\n    if (element && element.childNodes.length > 0) {\n      while (element.lastChild && element.childNodes.length !== 1) {\n        element.removeChild(element.lastChild);\n      }\n    }\n  };\n  BaseTooltip.prototype.stopAnimation = function () {\n    stopTimer(this.toolTipInterval);\n  };\n  /**\n   * Removes the tooltip on mouse leave.\n   *\n   * @returns {void}\n   * @private\n   */\n  BaseTooltip.prototype.removeTooltip = function (duration) {\n    var _this = this;\n    var tooltipElement = this.getElement(this.element.id + '_tooltip');\n    // const tooltipTemplate: HTMLElement = tooltipElement ? this.getElement(tooltipElement.id + 'parent_template') : null;\n    // const isTemplateRendered: boolean = tooltipTemplate && tooltipTemplate.innerText !== '<div></div>';\n    this.stopAnimation();\n    if (tooltipElement && this.previousPoints.length > 0) {\n      this.toolTipInterval = +setTimeout(function () {\n        if (_this.svgTooltip) {\n          _this.svgTooltip.fadeOut();\n        }\n      }, duration);\n    }\n  };\n  return BaseTooltip;\n}(ChartData);\nexport { BaseTooltip };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","extend","isNullOrUndefined","Animation","ChartLocation","stopTimer","removeElement","ChartData","Tooltip","SVGTooltip","Selection","BaseTooltip","_super","chart","_this","call","element","textStyle","tooltip","control","template","getElement","id","document","getElementById","getTooltipElement","isTooltip","inverted","requireInvertedAxis","header","shared","formattedText","tooltipDiv","isStockChart","indexOf","createElement","className","style","pointerEvents","position","zIndex","pushData","data","isFirst","isChart","enable3D","series","enableTooltip","currentPoints","push","stopAnimation","stockChart","appendChild","removeHighlight","item","i","len","previousPoints","length","isRectSeries","enableHighlight","visible","highlightPoint","point","index","animateHighlight","targetOpacity","targetElement","duration","targetStrokeWidth","initialOpacity","parseFloat","getAttribute","initialStrokeWidth","animate","progress","args","animation","newStrokeWidth","timeStamp","setAttribute","Math","max","toString","newOpacity","min","end","pointIndex","highlight","selectionModule","accumulationSelectionModule","isAccumulation","getModuleName","isSelectedElement","selectedDataIndexes","highlightColor","pointColorMapping","points","color","interior","visibleSeriesLength","visibleSeries","filter","highlightMode","target_1","_loop_1","currentSeries","seriesElementsGroupCollections","currentSeriesWidth","width","this_1","getSeriesElements","forEach","seriesElementsGroup","childNodes","seriesElement","opacity","marker","_i","_a","highlightPoints","category","createTooltip","location","clipLocation","shapes","offset","bounds","crosshairEnabled","extraPoints","templatePoint","customTemplate","tooltipModule","tooltip3DModule","accumulationTooltipModule","svgTooltip","theme","headerText","content","text","fill","border","enableAnimation","crosshair","clipBounds","chartAreaType","areaBounds","palette","findPalette","isNegative","type","y","arrowPadding","x","availableSize","isCanvas","enableCanvas","isFixed","isTextWrap","enableTextWrap","blazorTemplate","name","parent","controlInstance","enableRTL","enableRtl","controlName","allowHighlight","tooltipRender","updatePreviousPoint","animationComplete","fadeOuted","fadeOut","appendTo","dataBind","isReact","renderReactTemplates","colors","findColor","concat","svgElement","parseInt","valueX","valueY","removeHighlightedMarker","trigger","markerRender","data_1","removeText","textElements","lastChild","removeChild","toolTipInterval","removeTooltip","tooltipElement","setTimeout"],"sources":["C:/Users/gabby/trax-x/node_modules/@syncfusion/ej2-charts/src/common/user-interaction/tooltip.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, isNullOrUndefined, Animation } from '@syncfusion/ej2-base';\nimport { ChartLocation } from '../../common/utils/helper';\nimport { stopTimer, removeElement } from '../../common/utils/helper';\nimport { ChartData } from '../../chart/utils/get-data';\nimport { Tooltip as SVGTooltip } from '@syncfusion/ej2-svg-base';\nimport { Selection } from '../../chart/user-interaction/selection';\n/**\n * `Tooltip` module is used to render the tooltip for series.\n */\nvar BaseTooltip = /** @class */ (function (_super) {\n    __extends(BaseTooltip, _super);\n    /**\n     * Constructor for tooltip module.\n     *\n     * @private\n     */\n    function BaseTooltip(chart) {\n        var _this = _super.call(this, chart) || this;\n        _this.element = _this.chart.element;\n        _this.textStyle = chart.tooltip.textStyle;\n        _this.control = chart;\n        _this.template = chart.tooltip.template;\n        return _this;\n    }\n    BaseTooltip.prototype.getElement = function (id) {\n        return document.getElementById(id);\n    };\n    /**\n     * Renders the tooltip.\n     *\n     * @returns {void}\n     * @private\n     */\n    BaseTooltip.prototype.getTooltipElement = function (isTooltip) {\n        this.inverted = this.chart.requireInvertedAxis;\n        this.header = (this.control.tooltip.header === null) ?\n            ((this.control.tooltip.shared) ? '${point.x}' : '${series.name}')\n            : (this.control.tooltip.header);\n        this.formattedText = [];\n        var tooltipDiv = document.getElementById(this.chart.element.id + '_tooltip');\n        var isStockChart = this.chart.element.id.indexOf('stockChart') > -1;\n        if (!isTooltip && !tooltipDiv || isStockChart) {\n            return this.createElement();\n        }\n        return null;\n    };\n    BaseTooltip.prototype.createElement = function () {\n        var tooltipDiv = document.createElement('div');\n        tooltipDiv.id = this.element.id + '_tooltip';\n        tooltipDiv.className = 'ejSVGTooltip';\n        tooltipDiv.style.pointerEvents = 'none';\n        tooltipDiv.style.position = 'absolute';\n        tooltipDiv.style.zIndex = '1';\n        return tooltipDiv;\n    };\n    BaseTooltip.prototype.pushData = function (data, isFirst, tooltipDiv, isChart, enable3D) {\n        if (data.series.enableTooltip) {\n            if (enable3D) {\n                this.currentPoints.push(data);\n            }\n            else if (isChart) {\n                this.currentPoints.push(data);\n            }\n            else {\n                this.currentPoints.push(data);\n            }\n            this.stopAnimation();\n            if (tooltipDiv && !document.getElementById(tooltipDiv.id)) {\n                if (!this.chart.stockChart) {\n                    document.getElementById(this.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n                else {\n                    document.getElementById(this.chart.stockChart.element.id + '_Secondary_Element').appendChild(tooltipDiv);\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n    BaseTooltip.prototype.removeHighlight = function () {\n        var item;\n        // let series: Series;\n        for (var i = 0, len = this.previousPoints.length; i < len; i++) {\n            item = this.previousPoints[i];\n            if (item.series.isRectSeries || this.chart.tooltip.enableHighlight) {\n                if (item.series.visible) {\n                    this.highlightPoint(item.series, item.point.index, false);\n                }\n                continue;\n            }\n            // series = item.series as Series;\n        }\n    };\n    /**\n     * Animates the opacity change of the given element to simulate a highlight effect.\n     *\n     * @param {number} targetOpacity - The final opacity value to which the element's opacity will be animated.\n     * @param {HTMLElement} targetElement - The DOM element whose opacity is to be animated.\n     * @param {number} duration - The duration of the animation effect.\n     * @param {number} targetStrokeWidth - The final stroke-width value to which the element's stroke-width will be animated.\n     * @returns {void}\n     * @private\n     */\n    BaseTooltip.prototype.animateHighlight = function (targetOpacity, targetElement, duration, targetStrokeWidth) {\n        var initialOpacity = parseFloat(targetElement.getAttribute('opacity'));\n        var initialStrokeWidth = null;\n        if (targetStrokeWidth !== null) {\n            initialStrokeWidth = parseFloat(targetElement.getAttribute('stroke-width'));\n        }\n        new Animation({}).animate(targetElement, {\n            duration: duration,\n            progress: function (args) {\n                targetElement.style.animation = '';\n                if (targetStrokeWidth !== null) {\n                    var newStrokeWidth = initialStrokeWidth\n                        + (args.timeStamp / args.duration) * (targetStrokeWidth - initialStrokeWidth);\n                    targetElement.setAttribute('stroke-width', Math.max(newStrokeWidth, targetStrokeWidth).toString());\n                }\n                var newOpacity = initialOpacity + (args.timeStamp / args.duration) * (targetOpacity - initialOpacity);\n                targetElement.setAttribute('opacity', Math.min(newOpacity, targetOpacity).toString());\n            },\n            end: function () {\n                if (targetStrokeWidth !== null) {\n                    targetElement.setAttribute('stroke-width', targetStrokeWidth.toString());\n                }\n                targetElement.setAttribute('opacity', targetOpacity.toString());\n            }\n        });\n    };\n    BaseTooltip.prototype.highlightPoint = function (series, pointIndex, highlight) {\n        var _this = this;\n        var element = this.getElement(this.element.id + '_Series_' + series.index + '_Point_' + pointIndex);\n        var selectionModule = this.control.accumulationSelectionModule;\n        var isAccumulation = this.chart.getModuleName() === 'accumulationchart';\n        var isSelectedElement = selectionModule && selectionModule.selectedDataIndexes.length > 0 ? true : false;\n        if ((element) || (!series.isRectSeries)) {\n            if ((!isSelectedElement || isSelectedElement && element.getAttribute('class')\n                && element.getAttribute('class').indexOf('_ej2_chart_selection_series_') === -1) || (!series.isRectSeries)) {\n                if (series.isRectSeries && this.chart.highlightColor !== '' && !isNullOrUndefined(this.chart.highlightColor)) {\n                    element.setAttribute('fill', (highlight && this.chart.highlightColor !== 'transparent' ? this.chart.highlightColor : series.pointColorMapping !== '' ? (series.points[0]).color : series.points[pointIndex].color || series.interior));\n                }\n                else {\n                    var visibleSeriesLength = this.chart.visibleSeries.\n                        filter(function (series) { return series.visible; }).length;\n                    if ((this.control.highlightMode === 'None') && (this.chart.tooltip.enableHighlight) && ((!this.chart.tooltip.shared && visibleSeriesLength > 1) || (isAccumulation))) {\n                        var target_1 = this.element.id + '_Series_' + series.index + '_Point_' + pointIndex;\n                        var _loop_1 = function (currentSeries) {\n                            var seriesElementsGroupCollections = [];\n                            var currentSeriesWidth = typeof currentSeries.width === 'number' ? currentSeries.width : parseFloat(currentSeries.width);\n                            seriesElementsGroupCollections = isAccumulation\n                                ? [this_1.getElement(this_1.chart.element.id + '_Series_' + currentSeries.index)]\n                                : new Selection(this_1.chart).getSeriesElements(currentSeries);\n                            seriesElementsGroupCollections.forEach(function (seriesElementsGroup) {\n                                seriesElementsGroup.childNodes.forEach(function (seriesElement) {\n                                    if (isAccumulation ? !seriesElement.getAttribute('class') : (!seriesElement.getAttribute('class') && !seriesElementsGroup.getAttribute('class'))) {\n                                        if (highlight && _this.chart.highlightColor !== 'transparent' && seriesElement.id !== '') {\n                                            if (isAccumulation ?\n                                                seriesElement.id === target_1 : currentSeries.index === series.index) {\n                                                _this.animateHighlight(currentSeries.opacity, seriesElement, _this.chart.tooltip.duration, ((!series.isRectSeries || (seriesElement.id.indexOf('border') > -1)) && (!isAccumulation)) ?\n                                                    (currentSeriesWidth + currentSeriesWidth / 2) : null);\n                                            }\n                                            else {\n                                                _this.animateHighlight(0.25, seriesElement, _this.chart.tooltip.duration, ((!series.isRectSeries || (seriesElement.id.indexOf('border') > -1)) && (!isAccumulation)) ? currentSeriesWidth : null);\n                                            }\n                                        }\n                                        else if (!_this.currentPoints[0] && seriesElement.id !== '') {\n                                            var targetOpacity = seriesElement.id.indexOf('border') > -1 ? 1 :\n                                                seriesElement.id.indexOf('Symbol') > -1 ? currentSeries.marker.opacity : currentSeries.opacity;\n                                            _this.animateHighlight(targetOpacity, seriesElement, _this.chart.tooltip.duration, ((!series.isRectSeries || (seriesElement.id.indexOf('border') > -1)) && (!isAccumulation)) ? currentSeriesWidth : null);\n                                        }\n                                    }\n                                });\n                            });\n                        };\n                        var this_1 = this;\n                        for (var _i = 0, _a = this.chart.visibleSeries; _i < _a.length; _i++) {\n                            var currentSeries = _a[_i];\n                            _loop_1(currentSeries);\n                        }\n                    }\n                    else if (series.isRectSeries) {\n                        element.setAttribute('opacity', (highlight && this.chart.highlightColor !== 'transparent' ? series.opacity / 2 : series.opacity).toString());\n                    }\n                }\n            }\n            else {\n                element.setAttribute('opacity', series.opacity.toString());\n            }\n        }\n    };\n    BaseTooltip.prototype.highlightPoints = function () {\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if ((item.series.isRectSeries || this.chart.tooltip.enableHighlight) && item.series.category === 'Series') {\n                this.highlightPoint(item.series, item.point.index, true);\n            }\n        }\n    };\n    BaseTooltip.prototype.createTooltip = function (chart, isFirst, location, clipLocation, point, shapes, offset, bounds, crosshairEnabled, extraPoints, templatePoint, customTemplate) {\n        if (crosshairEnabled === void 0) { crosshairEnabled = false; }\n        if (extraPoints === void 0) { extraPoints = null; }\n        if (templatePoint === void 0) { templatePoint = null; }\n        var series = this.currentPoints[0].series;\n        var tooltipModule = chart.tooltipModule || chart.tooltip3DModule ||\n            chart.accumulationTooltipModule;\n        if (!tooltipModule || location === null) { // For the tooltip enable is false.\n            removeElement(this.chart.element.id + '_tooltip');\n            return;\n        }\n        if (isFirst) {\n            this.svgTooltip = new SVGTooltip({\n                opacity: chart.tooltip.opacity ? chart.tooltip.opacity : ((this.chart.theme === 'Material3' || this.chart.theme === 'Material3Dark' || this.chart.theme.indexOf('Bootstrap5') > -1) ? 1 : 0.75),\n                header: this.headerText,\n                content: this.text,\n                fill: chart.tooltip.fill,\n                border: chart.tooltip.border,\n                enableAnimation: chart.tooltip.enableAnimation,\n                location: location,\n                shared: this.control.tooltip.shared,\n                crosshair: crosshairEnabled,\n                shapes: shapes,\n                clipBounds: this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation,\n                areaBounds: bounds,\n                palette: this.findPalette(),\n                template: customTemplate || this.template,\n                data: templatePoint,\n                theme: chart.theme,\n                offset: offset,\n                textStyle: chart.tooltip.textStyle,\n                isNegative: (series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0),\n                inverted: this.chart.requireInvertedAxis && series.isRectSeries,\n                arrowPadding: this.text.length > 1 || this.chart.stockChart || (this.chart.tooltip.location.x !== null\n                    || this.chart.tooltip.location.y !== null) ? 0 : 7,\n                availableSize: chart.availableSize,\n                duration: this.chart.tooltip.duration,\n                isCanvas: this.chart.enableCanvas,\n                isFixed: (this.chart.tooltip.location.x !== null || this.chart.tooltip.location.y !== null),\n                isTextWrap: chart.tooltip.enableTextWrap && chart.getModuleName() === 'chart',\n                blazorTemplate: { name: 'Template', parent: this.chart.tooltip },\n                controlInstance: this.chart,\n                enableRTL: chart.enableRtl,\n                controlName: 'Chart',\n                allowHighlight: chart.getModuleName() === 'chart' && !series.marker.allowHighlight,\n                tooltipRender: function () {\n                    tooltipModule.removeHighlight();\n                    tooltipModule.highlightPoints();\n                    tooltipModule.updatePreviousPoint(extraPoints);\n                },\n                animationComplete: function (args) {\n                    if (args.tooltip.fadeOuted) {\n                        tooltipModule.fadeOut(tooltipModule.previousPoints);\n                    }\n                }\n            });\n            this.svgTooltip.appendTo(this.getElement(this.element.id + '_tooltip'));\n        }\n        else {\n            if (this.svgTooltip) {\n                this.svgTooltip.location = location;\n                this.svgTooltip.content = this.text;\n                this.svgTooltip.header = this.headerText;\n                this.svgTooltip.offset = offset;\n                this.svgTooltip.palette = this.findPalette();\n                this.svgTooltip.shapes = shapes;\n                this.svgTooltip.data = templatePoint;\n                this.svgTooltip.template = this.template;\n                this.svgTooltip.controlName = 'Chart';\n                this.svgTooltip.crosshair = crosshairEnabled;\n                this.svgTooltip.textStyle = chart.tooltip.textStyle;\n                this.svgTooltip.isNegative = (series.isRectSeries && series.type !== 'Waterfall' && point && point.y < 0);\n                this.svgTooltip.clipBounds = this.chart.chartAreaType === 'PolarRadar' ? new ChartLocation(0, 0) : clipLocation;\n                this.svgTooltip.arrowPadding = this.text.length > 1 || this.chart.stockChart || (this.chart.tooltip.location.x !== null\n                    || this.chart.tooltip.location.y !== null) ? 0 : 7;\n                this.svgTooltip.allowHighlight = chart.getModuleName() === 'chart' && !series.marker.allowHighlight;\n                this.svgTooltip.dataBind();\n            }\n        }\n        if (this.chart.isReact) {\n            this.chart.renderReactTemplates();\n        }\n    };\n    BaseTooltip.prototype.findPalette = function () {\n        var colors = [];\n        for (var _i = 0, _a = this.currentPoints; _i < _a.length; _i++) {\n            var data = _a[_i];\n            colors.push(this.findColor(data, data.series));\n        }\n        return colors;\n    };\n    BaseTooltip.prototype.findColor = function (data, series) {\n        if (series.isRectSeries && (series.type === 'Candle' || series.type === 'Hilo' || series.type === 'HiloOpenClose')) {\n            return data.point.color;\n        }\n        else {\n            return (data.point.color && data.point.color !== '#ffffff' ? data.point.color\n                : data.point.interior) ||\n                series.marker.fill || series.interior;\n        }\n    };\n    BaseTooltip.prototype.updatePreviousPoint = function (extraPoints) {\n        if (extraPoints) {\n            this.currentPoints = this.currentPoints.concat(extraPoints);\n        }\n        this.previousPoints = extend([], this.currentPoints, null, true);\n    };\n    BaseTooltip.prototype.fadeOut = function (data) {\n        var svgElement = this.chart.enableCanvas ? this.getElement(this.element.id + '_tooltip_group') :\n            this.getElement(this.element.id + '_tooltip_svg') || this.getElement(this.element.id + '_tooltipparent_template');\n        var isTooltip = (svgElement && parseInt(svgElement.getAttribute('opacity'), 10) > 0);\n        if (!isTooltip) {\n            this.valueX = null;\n            this.valueY = null;\n            this.currentPoints = [];\n            this.removeHighlight();\n            this.removeHighlightedMarker(data, true);\n            this.svgTooltip = null;\n            this.control.trigger('animationComplete', {});\n        }\n    };\n    /*\n    * @hidden\n    */\n    BaseTooltip.prototype.removeHighlightedMarker = function (data, fadeOut) {\n        if (this.chart.markerRender) {\n            for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n                var item = data_1[_i];\n                removeElement(this.element.id + '_Series_' + item.series.index +\n                    '_Point_' + item.point.index + '_Trackball');\n                this.chart.markerRender.removeHighlightedMarker(item.series, item.point, fadeOut);\n            }\n        }\n        this.previousPoints = [];\n    };\n    // public triggerEvent(point: PointData | AccPointData, isFirst: boolean, textCollection: string, firstText: boolean = true): boolean {\n    //     let argsData: ITooltipRenderEventArgs = {\n    //         cancel: false, name: tooltipRender, text: textCollection,\n    //         point: point.point, series: point.series, textStyle: this.textStyle\n    //     };\n    //     this.chart.trigger(tooltipRender, argsData);\n    //     if (!argsData.cancel) {\n    //         if (point.series.type === 'BoxAndWhisker') {\n    //             this.removeText();\n    //             isFirst = true;\n    //         }\n    //         this.formattedText = this.formattedText.concat(argsData.text);\n    //         this.text = this.formattedText;\n    //     }\n    //     return !argsData.cancel;\n    // }\n    BaseTooltip.prototype.removeText = function () {\n        this.textElements = [];\n        var element = this.getElement(this.element.id + '_tooltip_group');\n        if (element && element.childNodes.length > 0) {\n            while (element.lastChild && element.childNodes.length !== 1) {\n                element.removeChild(element.lastChild);\n            }\n        }\n    };\n    BaseTooltip.prototype.stopAnimation = function () {\n        stopTimer(this.toolTipInterval);\n    };\n    /**\n     * Removes the tooltip on mouse leave.\n     *\n     * @returns {void}\n     * @private\n     */\n    BaseTooltip.prototype.removeTooltip = function (duration) {\n        var _this = this;\n        var tooltipElement = this.getElement(this.element.id + '_tooltip');\n        // const tooltipTemplate: HTMLElement = tooltipElement ? this.getElement(tooltipElement.id + 'parent_template') : null;\n        // const isTemplateRendered: boolean = tooltipTemplate && tooltipTemplate.innerText !== '<div></div>';\n        this.stopAnimation();\n        if (tooltipElement && this.previousPoints.length > 0) {\n            this.toolTipInterval = +setTimeout(function () {\n                if (_this.svgTooltip) {\n                    _this.svgTooltip.fadeOut();\n                }\n            }, duration);\n        }\n    };\n    return BaseTooltip;\n}(ChartData));\nexport { BaseTooltip };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}